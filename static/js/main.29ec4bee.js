/*! For license information please see main.29ec4bee.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,U=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case T:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ie=null;function Te(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Se(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Ee(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ie)&&(Ae(),Ee())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Ue=null,Fe=!1,je=null,Ve={onError:function(e){Me=!0,Ue=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Ue=null,Le.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,It,Tt,St=!1,Et=[],Ct=null,At=null,Nt=null,Rt=new Map,Ot=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Tt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),null!==Nt&&Ft(Nt)&&(Nt=null),Rt.forEach(jt),Ot.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return zt(t,e)}if(0<Et.length){zt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Rt.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Pt.shift()}var Bt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Kt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=U({},cn,{view:0,detail:0}),hn=an(fn),dn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(U({},dn,{dataTransfer:0})),mn=an(U({},fn,{relatedTarget:0})),yn=an(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(U({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Tn(){return In}var Sn=U({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(Sn),Cn=an(U({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Nn=an(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=U({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Rn),Pn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Un=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Ir={};function Tr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Tr("animationend"),Er=Tr("animationiteration"),Cr=Tr("animationstart"),Ar=Tr("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Rr.length;Pr++){var Dr=Rr[Pr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Er,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Ue;Me=!1,Ue=null,Fe||(Fe=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Ur(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Ur(i,u,c),a=s}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Br(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=En;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Sr:case Er:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Hn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ii(e){return{current:e}}function Ti(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Si(e,t){xi++,_i[xi]=e.current,e.current=t}var Ei={},Ci=Ii(Ei),Ai=Ii(!1),Ni=Ei;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ti(Ai),Ti(Ci)}function Di(e,t,n){if(Ci.current!==Ei)throw Error(a(168));Si(Ci,t),Si(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return U({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Ni=Ci.current,Si(Ci,e),Si(Ai,Ai.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ai),Ti(Ci),Si(Ci,e)):Ti(Ai),Si(Ai,n)}var Fi=null,ji=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,qi),i}finally{kt=t,Vi=!1}}return null}var Bi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){Bi[Hi++]=Ki,Bi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=Bi[--Hi],Bi[Hi]=null,Ki=Bi[--Hi],Bi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ti(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ea(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ea(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ea(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=U({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Ba(e,t,n){var r=!1,i=Ei,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Oi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ei),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Oi(t)?Ni:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Za),Si(Za,t)}function io(){Ti(Za),Ti(eo),Ti(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ti(Za),Ti(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function To(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Eo(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Oo(e,t){var n=vo,r=Eo(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Do.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Uo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Uo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Uo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Eo().memoizedState}function zo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=Eo();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Bo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return qo(2048,8,e,t)}function Wo(e,t){return qo(4,2,e,t)}function Ko(e,t){return qo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return Eo().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ea(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ta,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ta,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=As.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ta,useCallback:$o,useContext:Ta,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Eo(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Eo().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ta,useCallback:$o,useContext:Ta,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=Eo();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],Eo().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=To(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Hu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Eu(e,t,n,r,i)}function Tu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ps,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ps,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ps,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ps,Os),Os|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eu(e,t,n,r,i){var a=Oi(n)?Ni:Ci.current;return a=Ri(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=To(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Cu(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)Bu(e,t),Ba(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Ri(t,c=Oi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ha(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Ua(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||qa(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ta(s):s=Ri(t,s=Oi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ha(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Ua(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||qa(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Hu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Pu,Du,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Fu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),(t=Fu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Ku(t),null;case 3:return r=t.stateNode,io(),Ti(Ai),Ti(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ti(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Ku(t),null;case 10:return _a(t.type._context),Ku(t),null;case 19:if(Ti(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ai),Ti(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,$u=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Yu;var c=$u;if(Yu=o,($u=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Ju=s):_s(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,Yu=u,$u=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function _s(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var xs,Is=Math.ceil,Ts=b.ReactCurrentDispatcher,Ss=b.ReactCurrentOwner,Es=b.ReactCurrentBatchConfig,Cs=0,As=null,Ns=null,Rs=0,Os=0,Ps=Ii(0),Ds=0,Ls=null,Ms=0,Us=0,Fs=0,js=null,Vs=null,zs=0,qs=1/0,Bs=null,Hs=!1,Ws=null,Ks=null,Gs=!1,Qs=null,Ys=0,$s=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Us|=n),4===Ds&&uc(e,Rs)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(qs=Xe()+500,ji&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Rs===t||(Bs=null,qs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Ts.current=o,Cs=i,null!==Ns?t=0:(As=null,Rs=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,Bs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,Bs),t);break}wc(e,Vs,Bs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,Bs),r);break}wc(e,Vs,Bs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~Fs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,Bs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(qs=Xe()+500,ji&&qi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&_c();var t=Cs;Cs|=1;var n=Es.transition,r=kt;try{if(Es.transition=null,kt=1,e)return e()}finally{kt=r,Es.transition=n,0===(6&(Cs=t))&&qi()}}function fc(){Os=Ps.current,Ti(Ps)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ti(Ai),Ti(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(uo);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Ns=e=Pc(e.current,null),Rs=Os=t,Ds=0,Ls=null,Fs=Us=Ms=0,Vs=js=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ss.current=null,null===n||null===n.return){Ds=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Ts.current;return Ts.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===As||0===(268435455&Ms)&&0===(268435455&Us)||uc(As,Rs)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Rs===t||(Bs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Ts.current=r,null!==Ns)throw Error(a(261));return As=null,Rs=0,Ds}function yc(){for(;null!==Ns;)kc(Ns)}function gc(){for(;null!==Ns&&!Ye();)kc(Ns)}function kc(e){var t=xs(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?bc(e):Ns=t,Ss.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Os)))return void(Ns=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Ds=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ds&&(Ds=5)}function wc(e,t,n){var r=kt,i=Es.transition;try{Es.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ns=As=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Ac(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Es.transition,Es.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Ss.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Cs=s,kt=u,Es.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,Ys=i),0===(o=e.pendingLanes)&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Ws,Ws=null,e;0!==(1&Ys)&&0!==e.tag&&_c(),0!==(1&(o=e.pendingLanes))?e===Xs?$s++:($s=0,Xs=e):$s=0,qi()}(e,t,n,r)}finally{Es.transition=i,kt=r}return null}function _c(){if(null!==Qs){var e=bt(Ys),t=Es.transition,n=kt;try{if(Es.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Ys=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(_){Ic(s,s.return,_)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Es.transition=t}}return!1}function xc(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Rs&n)===n&&(4===Ds||3===Ds&&(130023424&Rs)===Rs&&500>Xe()-zs?hc(e,0):Fs|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Ac(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Nc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case I:u=8,i|=8;break;case T:return(e=Rc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=o,e;case P:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case E:u=9;break e;case C:u=11;break e;case R:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ei;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=qc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uu(e,t,n):(Si(uo,1&uo.current),null!==(e=Hu(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Tu(e,t,n)}return Hu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bu(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Eu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Ua(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Uu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ta(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Bu(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),Ba(t,r,i),Wa(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Tu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(qs=Xe()+500,qi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},It=function(){return kt},Tt=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Ee,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,_="+"===k||"*"===k,x="?"===k||"*"===k,I=n[2]||l,T=y||g;r.push({name:m||a++,prefix:v||"",delimiter:I,optional:x,repeat:_,partial:w,asterisk:!!b,pattern:T?c(T):b?".*":"[^"+s(I)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,T=null,S=-1,E=5,C=-1;function A(){return!(t.unstable_now()-C<E)}function N(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?x():(I=!1,T=null)}}else I=!1}if("function"===typeof k)x=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=N,x=function(){O.postMessage(null)}}else x=function(){y(N,0)};function P(e){T=e,I||(I=!0,x())}function D(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Yn},SDK_VERSION:function(){return Hr},_DEFAULT_ENTRY_NAME:function(){return Ar},_addComponent:function(){return Pr},_addOrOverwriteComponent:function(){return Dr},_apps:function(){return Rr},_clearComponents:function(){return Fr},_components:function(){return Or},_getProvider:function(){return Mr},_registerComponent:function(){return Lr},_removeServiceInstance:function(){return Ur},deleteApp:function(){return Qr},getApp:function(){return Kr},getApps:function(){return Gr},initializeApp:function(){return Wr},onLog:function(){return Xr},registerVersion:function(){return $r},setLogLevel:function(){return Jr}});var t=n(791),r=n(250);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||o(e,t)||u()}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function h(e){return"/"===e.charAt(0)}function d(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var p=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&h(e),o=t&&h(t),u=a||o;if(e&&h(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?d(i,l):".."===f?(d(i,l),c++):c&&(d(i,l),c--)}if(!u)for(;c--;c)i.unshift("..");!u||""===i[0]||i[0]&&h(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},v="Invariant failed";function m(e,t){if(!e)throw new Error(v)}function y(e){return"/"===e.charAt(0)?e:"/"+e}function g(e){return"/"===e.charAt(0)?e.substr(1):e}function k(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function b(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function w(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function _(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=f({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=p(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function x(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var I=!("undefined"===typeof window||!window.document||!window.document.createElement);function T(e,t){t(window.confirm(e))}var S="popstate",E="hashchange";function C(){try{return window.history.state||{}}catch(e){return{}}}function A(e){void 0===e&&{},I||m(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,s=void 0===u?T:u,c=i.keyLength,l=void 0===c?6:c,h=e.basename?b(y(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&k(a,h),_(a,r,n)}function p(){return Math.random().toString(36).substr(2,l)}var v=x();function g(e){f(V,e),V.length=t.length,v.notifyListeners(V.location,V.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(d(e.state))}function N(){O(d(C()))}var R=!1;function O(e){if(R)!1,g();else{v.confirmTransitionTo(e,"POP",s,(function(t){t?g({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&0;var r=D.indexOf(e.key);-1===r&&0;var i=n-r;i&&(!0,M(i))}(e)}))}}var P=d(C()),D=[P.key];function L(e){return h+w(e)}function M(e){t.go(e)}var U=0;function F(e){1===(U+=e)&&1===e?(window.addEventListener(S,A),r&&window.addEventListener(E,N)):0===U&&(window.removeEventListener(S,A),r&&window.removeEventListener(E,N))}var j=!1;var V={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",a=_(e,r,p(),V.location);v.confirmTransitionTo(a,i,s,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(a.key),l,g({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=_(e,r,p(),V.location);v.confirmTransitionTo(a,i,s,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=a.key),g({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=v.setPrompt(e);return j||(F(1),!0),function(){return j&&(!1,F(-1)),t()}},listen:function(e){var t=v.appendListener(e);return F(1),function(){F(-1),t()}}};return V}var N="hashchange",R={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+g(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:g,decodePath:y},slash:{encodePath:y,decodePath:y}};function O(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function P(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function D(e){window.location.replace(O(window.location.href)+"#"+e)}function L(e){void 0===e&&(e={}),I||m(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?T:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?b(y(e.basename)):"",s=R[o],c=s.encodePath,l=s.decodePath;function h(){var e=l(P());return u&&(e=k(e,u)),_(e)}var d=x();function p(e){f(V,e),V.length=t.length,d.notifyListeners(V.location,V.action)}var v=!1,g=null;function S(){var e,t,n=P(),r=c(n);if(n!==r)D(r);else{var a=h(),o=V.location;if(!v&&(t=a,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(g===w(a))return;g=null,function(e){if(v)v=!1,p();else{var t="POP";d.confirmTransitionTo(e,t,i,(function(n){n?p({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(w(t));-1===n&&(n=0);var r=L.lastIndexOf(w(e));-1===r&&(r=0);var i=n-r;i&&(v=!0,M(i))}(e)}))}}(a)}}var E=P(),C=c(E);E!==C&&D(C);var A=h(),L=[w(A)];function M(e){t.go(e)}var U=0;function F(e){1===(U+=e)&&1===e?window.addEventListener(N,S):0===U&&window.removeEventListener(N,S)}var j=!1;var V={length:t.length,action:"POP",location:A,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=O(window.location.href)),n+"#"+c(u+w(e))},push:function(e,t){var n="PUSH",r=_(e,void 0,void 0,V.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=w(r),i=c(u+t);if(P()!==i){g=t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(w(V.location)),o=L.slice(0,a+1);o.push(t),L=o,p({action:n,location:r})}else p()}}))},replace:function(e,t){var n="REPLACE",r=_(e,void 0,void 0,V.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=w(r),i=c(u+t);P()!==i&&(g=t,D(i));var a=L.indexOf(w(V.location));-1!==a&&(L[a]=t),p({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=d.setPrompt(e);return j||(F(1),j=!0),function(){return j&&(j=!1,F(-1)),t()}},listen:function(e){var t=d.appendListener(e);return F(1),function(){F(-1),t()}}};return V}function M(e,t,n){return Math.min(Math.max(e,t),n)}function U(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,s=void 0===u?6:u,c=x();function l(e){f(y,e),y.length=y.entries.length,c.notifyListeners(y.location,y.action)}function h(){return Math.random().toString(36).substr(2,s)}var d=M(o,0,i.length-1),p=i.map((function(e){return _(e,void 0,"string"===typeof e?h():e.key||h())})),v=w;function m(e){var t=M(y.index+e,0,y.entries.length-1),r=y.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var y={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=_(e,t,h(),y.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),l({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=_(e,t,h(),y.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,l({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return y}var F=n(7),j=n.n(F),V=1073741823,z="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function q(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var B=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return z[e]=(z[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=q(t.props.value),t}l(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):V,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=j().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}l(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?V:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?V:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=j().object,i),{Provider:o,Consumer:u}},H=B,W=n(239),K=n.n(W);n(228);function G(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(110);var Q=function(e){var t=H();return t.displayName=e,t},Y=Q("Router-History"),$=Q("Router"),X=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}l(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement($.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(Y.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var J={},Z=0;function ee(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=J[n]||(J[n]={});if(r[e])return r[e];var i=[],a={regexp:K()(e,i,t),keys:i};return Z<1e4&&(r[e]=a,Z++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var te=function(e){function n(){return e.apply(this,arguments)||this}return l(n,e),n.prototype.render=function(){var e=this;return t.createElement($.Consumer,null,(function(n){n||m(!1);var r=e.props.location||n.location,i=f({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ee(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement($.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function ne(e){return"/"===e.charAt(0)?e:"/"+e}function re(e,t){if(!e)return t;var n=ne(e);return 0!==t.pathname.indexOf(n)?t:f({},t,{pathname:t.pathname.substr(n.length)})}function ie(e){return"string"===typeof e?e:w(e)}function ae(e){return function(){m(!1)}}function oe(){}t.Component;var ue=function(e){function n(){return e.apply(this,arguments)||this}return l(n,e),n.prototype.render=function(){var e=this;return t.createElement($.Consumer,null,(function(n){n||m(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?ee(a.pathname,f({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var se=t.useContext;t.Component;var ce=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=L(t.props),t}return l(n,e),n.prototype.render=function(){return t.createElement(X,{history:this.history,children:this.props.children})},n}(t.Component);var le=function(e,t){return"function"===typeof e?e(t):e},fe=function(e,t){return"string"===typeof e?_(e,null,null,t):e},he=function(e){return e},de=t.forwardRef;"undefined"===typeof de&&(de=he);var pe=de((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=G(e,["innerRef","navigate","onClick"]),u=o.target,s=f({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=he!==de&&n||r,t.createElement("a",s)}));var ve=de((function(e,n){var r=e.component,i=void 0===r?pe:r,a=e.replace,o=e.to,u=e.innerRef,s=G(e,["component","replace","to","innerRef"]);return t.createElement($.Consumer,null,(function(e){e||m(!1);var r=e.history,c=fe(le(o,e.location),e.location),l=c?r.createHref(c):"",h=f({},s,{href:l,navigate:function(){var t=le(o,e.location),n=w(e.location)===w(fe(t));(a||n?r.replace:r.push)(t)}});return he!==de?h.ref=n||u:h.innerRef=u,t.createElement(i,h)}))})),me=function(e){return e},ye=t.forwardRef;"undefined"===typeof ye&&(ye=me);ye((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,h=e.location,d=e.sensitive,p=e.strict,v=e.style,y=e.to,g=e.innerRef,k=G(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement($.Consumer,null,(function(e){e||m(!1);var r=h||e.location,a=fe(le(y,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=w?ee(r.pathname,{path:w,exact:c,sensitive:d,strict:p}):null,x=!!(l?l(_,r):_),I="function"===typeof s?s(x):s,T="function"===typeof v?v(x):v;x&&(I=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(I,o),T=f({},T,u));var S=f({"aria-current":x&&i||null,className:I,style:T,to:a},k);return me!==ye?S.ref=n||g:S.innerRef=g,t.createElement(ve,S)}))}));function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function ke(){ke=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ge(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function be(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function we(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){be(a,r,i,o,u,"next",e)}function u(e){be(a,r,i,o,u,"throw",e)}o(void 0)}))}}function _e(e){return _e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ie(e,t,n[t])}))}return e}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ee=function(){},Ce={},Ae={},Ne={mark:Ee,measure:Ee};try{"undefined"!==typeof window&&(Ce=window),"undefined"!==typeof document&&(Ae=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(Ne=performance)}catch(pA){}var Re=(Ce.navigator||{}).userAgent,Oe=void 0===Re?"":Re,Pe=Ce,De=Ae,Le=Ne,Me=(Pe.document,!!De.documentElement&&!!De.head&&"function"===typeof De.addEventListener&&"function"===typeof De.createElement),Ue=(~Oe.indexOf("MSIE")||Oe.indexOf("Trident/"),"svg-inline--fa"),Fe="data-fa-i2svg",je=(function(){try{}catch(pA){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),Ve=je.concat([11,12,13,14,15,16,17,18,19,20]),ze={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},qe=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",ze.GROUP,ze.SWAP_OPACITY,ze.PRIMARY,ze.SECONDARY].concat(je.map((function(e){return"".concat(e,"x")}))).concat(Ve.map((function(e){return"w-".concat(e)}))),Pe.FontAwesomeConfig||{});if(De&&"function"===typeof De.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Se(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=De.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(qe[r]=i)}))}var Be=Te({},{familyPrefix:"fa",replacementClass:Ue,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},qe);Be.autoReplaceSvg||(Be.observeMutations=!1);var He=Te({},Be);Pe.FontAwesomeConfig=He;var We=Pe||{};We.___FONT_AWESOME___||(We.___FONT_AWESOME___={}),We.___FONT_AWESOME___.styles||(We.___FONT_AWESOME___.styles={}),We.___FONT_AWESOME___.hooks||(We.___FONT_AWESOME___.hooks={}),We.___FONT_AWESOME___.shims||(We.___FONT_AWESOME___.shims=[]);var Ke=We.___FONT_AWESOME___,Ge=[];Me&&((De.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(De.readyState)||De.addEventListener("DOMContentLoaded",(function e(){De.removeEventListener("DOMContentLoaded",e),1,Ge.map((function(e){return e()}))})));var Qe,Ye="pending",$e="settled",Xe="fulfilled",Je="rejected",Ze=function(){},et="undefined"!==typeof n.g&&"undefined"!==typeof n.g.process&&"function"===typeof n.g.process.emit,tt="undefined"===typeof setImmediate?setTimeout:setImmediate,nt=[];function rt(){for(var e=0;e<nt.length;e++)nt[e][0](nt[e][1]);nt=[],Qe=!1}function it(e,t){nt.push([e,t]),Qe||(Qe=!0,tt(rt,0))}function at(e){var t=e.owner,n=t._state,r=t._data,i=e[n],a=e.then;if("function"===typeof i){n=Xe;try{r=i(r)}catch(pA){ct(a,pA)}}ot(a,r)||(n===Xe&&ut(a,r),n===Je&&ct(a,r))}function ot(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===_e(t))){var r=t.then;if("function"===typeof r)return r.call(t,(function(r){n||(n=!0,t===r?st(e,r):ut(e,r))}),(function(t){n||(n=!0,ct(e,t))})),!0}}catch(pA){return n||ct(e,pA),!0}return!1}function ut(e,t){e!==t&&ot(e,t)||st(e,t)}function st(e,t){e._state===Ye&&(e._state=$e,e._data=t,it(ft,e))}function ct(e,t){e._state===Ye&&(e._state=$e,e._data=t,it(ht,e))}function lt(e){e._then=e._then.forEach(at)}function ft(e){e._state=Xe,lt(e)}function ht(e){e._state=Je,lt(e),!e._handled&&et&&n.g.process.emit("unhandledRejection",e._data,e)}function dt(e){n.g.process.emit("rejectionHandled",e)}function pt(e){if("function"!==typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof pt===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){ct(t,e)}try{e((function(e){ut(t,e)}),n)}catch(pA){n(pA)}}(e,this)}pt.prototype={constructor:pt,_state:Ye,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(Ze),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===Je&&et&&it(dt,this)),this._state===Xe||this._state===Je?it(at,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},pt.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new pt((function(t,n){var r=[],i=0;function a(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var o,u=0;u<e.length;u++)(o=e[u])&&"function"===typeof o.then?o.then(a(u),n):r[u]=o;i||t(r)}))},pt.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new pt((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"===typeof r.then?r.then(t,n):t(r)}))},pt.resolve=function(e){return e&&"object"===_e(e)&&e.constructor===pt?e:new pt((function(t){t(e)}))},pt.reject=function(e){return new pt((function(t,n){n(e)}))};var vt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function mt(e){if(e&&Me){var t=De.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=De.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}return De.head.insertBefore(t,r),e}}function yt(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function gt(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function kt(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function bt(e){return e.size!==vt.size||e.x!==vt.x||e.y!==vt.y||e.rotate!==vt.rotate||e.flipX||e.flipY}function wt(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var _t={x:0,y:0,width:"100%",height:"100%"};function xt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function It(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,p=r.found?r:n,v=p.width,m=p.height,y="fak"===i,g=y?"":"fa-w-".concat(Math.ceil(v/m*16)),k=[He.replacementClass,a?"".concat(He.familyPrefix,"-").concat(a):"",g].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:Te({},f.attributes,{"data-prefix":i,"data-icon":a,class:k,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},w=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};d&&(b.attributes[Fe]=""),s&&b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||yt())},children:[s]});var _=Te({},b,{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:Te({},w,f.styles)}),x=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=wt({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:Te({},_t,{fill:"white"})},p=c.children?{children:c.children.map(xt)}:{},v={tag:"g",attributes:Te({},h.inner),children:[xt(Te({tag:c.tag,attributes:Te({},c.attributes,h.path)},p))]},m={tag:"g",attributes:Te({},h.outer),children:[v]},y="mask-".concat(o||yt()),g="clip-".concat(o||yt()),k={tag:"mask",attributes:Te({},_t,{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},k]};return n.push(b,{tag:"rect",attributes:Te({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(y,")")},_t)}),{children:n,attributes:r}}(_):function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,a=kt(e.styles);if(a.length>0&&(n.style=a),bt(i)){var o=wt({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:Te({},o.outer),children:[{tag:"g",attributes:Te({},o.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Te({},r.icon.attributes,o.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(_),I=x.children,T=x.attributes;return _.children=I,_.attributes=T,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Te({},i,{id:!0===a?"".concat(t,"-").concat(He.familyPrefix,"-").concat(n):a}),children:r}]}]}(_):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(bt(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=kt(Te({},a,{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(_)}var Tt=function(){},St=(He.measurePerformance&&Le&&Le.mark&&Le.measure,function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o});function Et(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=Object.keys(t).reduce((function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{});"function"!==typeof Ke.hooks.addPack||i?Ke.styles[e]=Te({},Ke.styles[e]||{},a):Ke.hooks.addPack(e,a),"fas"===e&&Et("fa",t)}var Ct=Ke.styles,At=Ke.shims,Nt=function(){var e=function(e){return St(Ct,(function(t,n,r){return t[r]=St(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Ct;St(At,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:a},e}),{})};Nt();Ke.styles;function Rt(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function Ot(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?gt(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(gt(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(Ot).join(""),"</").concat(t,">")}var Pt=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),t):t};function Dt(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}Dt.prototype=Object.create(Error.prototype),Dt.prototype.constructor=Dt;var Lt={fill:"currentColor"},Mt={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Ut={tag:"path",attributes:Te({},Lt,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},Ft=Te({},Mt,{attributeName:"opacity"});Te({},Lt,{cx:"256",cy:"364",r:"28"}),Te({},Mt,{attributeName:"r",values:"28;14;28;28;14;28;"}),Te({},Ft,{values:"1;0;1;1;0;1;"}),Te({},Lt,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Te({},Ft,{values:"1;0;0;0;0;1;"}),Te({},Lt,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Te({},Ft,{values:"0;0;1;1;0;0;"}),Ke.styles;function jt(e){var t=e[0],n=e[1],r=Se(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(He.familyPrefix,"-").concat(ze.GROUP)},children:[{tag:"path",attributes:{class:"".concat(He.familyPrefix,"-").concat(ze.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(He.familyPrefix,"-").concat(ze.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}Ke.styles;function Vt(){var e="fa",t=Ue,n=He.familyPrefix,r=He.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var zt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=Te({},e.definitions[t]||{},i[t]),Et(t,i[t]),Nt()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon;e[i]||(e[i]={}),e[i][a]=o})),e}}],n&&xe(t.prototype,n),r&&xe(t,r),e}();function qt(){He.autoAddCss&&!Gt&&(mt(Vt()),Gt=!0)}function Bt(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Ot(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(Me){var t=De.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Ht(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return Rt(Kt.definitions,n,r)||Rt(Ke.styles,n,r)}var Wt,Kt=new zt,Gt=!1,Qt={transform:function(e){return Pt(e)}},Yt=(Wt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?vt:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,p=t.classes,v=void 0===p?[]:p,m=t.attributes,y=void 0===m?{}:m,g=t.styles,k=void 0===g?{}:g;if(e){var b=e.prefix,w=e.iconName,_=e.icon;return Bt(Te({type:"icon"},e),(function(){return qt(),He.autoA11y&&(f?y["aria-labelledby"]="".concat(He.replacementClass,"-title-").concat(d||yt()):(y["aria-hidden"]="true",y.focusable="false")),It({icons:{main:jt(_),mask:u?jt(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:w,transform:Te({},vt,r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:y,styles:k,classes:v}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:Ht(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:Ht(r||{})),Wt(n,Te({},t,{mask:r}))});function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(e)}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function en(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tn(e){return function(e){if(Array.isArray(e))return nn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rn(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var an=["style"];function on(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=rn(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var un=!1;try{un=!0}catch(pA){}function sn(e){return e&&"object"===Jt(e)&&e.prefix&&e.iconName&&e.icon?e:Qt.icon?Qt.icon(e):null===e?null:e&&"object"===Jt(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function cn(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Zt({},e,t):{}}var ln=["forwardedRef"];function fn(e){var t=e.forwardedRef,n=en(e,ln),r=n.icon,i=n.mask,a=n.symbol,o=n.className,u=n.title,s=n.titleId,c=n.maskId,l=sn(r),f=cn("classes",[].concat(tn(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,u=e.flash,s=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,p=e.border,v=e.listItem,m=e.flip,y=e.size,g=e.rotation,k=e.pull,b=(Zt(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":u,"fa-spin":s,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":p,"fa-li":v,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),Zt(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),Zt(t,"fa-pull-".concat(k),"undefined"!==typeof k&&null!==k),Zt(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(n)),tn(o.split(" ")))),h=cn("transform","string"===typeof n.transform?Qt.transform(n.transform):n.transform),d=cn("mask",sn(i)),p=Yt(l,Xt(Xt(Xt(Xt({},f),h),d),{},{symbol:a,title:u,titleId:s,maskId:c}));if(!p)return function(){var e;!un&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var v=p.abstract,m={ref:t};return Object.keys(n).forEach((function(e){fn.defaultProps.hasOwnProperty(e)||(m[e]=n[e])})),hn(v[0],m)}fn.displayName="FontAwesomeIcon",fn.propTypes={beat:j().bool,border:j().bool,beatFade:j().bool,bounce:j().bool,className:j().string,fade:j().bool,flash:j().bool,mask:j().oneOfType([j().object,j().array,j().string]),maskId:j().string,fixedWidth:j().bool,inverse:j().bool,flip:j().oneOf([!0,!1,"horizontal","vertical","both"]),icon:j().oneOfType([j().object,j().array,j().string]),listItem:j().bool,pull:j().oneOf(["right","left"]),pulse:j().bool,rotation:j().oneOf([0,90,180,270]),shake:j().bool,size:j().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:j().bool,spinPulse:j().bool,spinReverse:j().bool,symbol:j().oneOfType([j().bool,j().string]),title:j().string,titleId:j().string,transform:j().oneOfType([j().string,j().object]),swapOpacity:j().bool},fn.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var hn=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=on(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[rn(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=en(r,an);return a.attrs.style=Xt(Xt({},a.attrs.style),u),t.apply(void 0,[n.tag,Xt(Xt({},a.attrs),s)].concat(tn(i)))}.bind(null,t.createElement),dn={prefix:"fas",iconName:"pencil-alt",icon:[512,512,[],"f303","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"]},pn={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},vn={prefix:"fas",iconName:"shopping-cart",icon:[576,512,[],"f07a","M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"]},mn={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},yn={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"]},gn={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"]},kn={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},bn={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]};function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t,n){return t&&xn(e.prototype,t),n&&xn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function Sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function En(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function Cn(e){return Cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cn(e)}function An(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(pA){return!1}}function Nn(e,t){if(t&&("object"===ge(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sn(e)}function Rn(e){var t=An();return function(){var n,r=Cn(e);if(t){var i=Cn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Nn(this,n)}}function On(e,t,n){return On=An()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i},On.apply(null,arguments)}function Pn(e){var t="function"===typeof Map?new Map:void 0;return Pn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return On(e,arguments,Cn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)},Pn(e)}var Dn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ln={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Dn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Mn=function(e){return function(e){var t=Dn(e);return Ln.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Un=function(e){try{return Ln.decodeString(e,!0)}catch(pA){console.error("base64Decode failed: ",pA)}return null};function Fn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&jn(n)&&(e[n]=Fn(e[n],t[n]));return e}function jn(e){return"__proto__"!==e}var Vn=function(){function e(){var t=this;_n(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return In(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function zn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Mn(JSON.stringify({alg:"none",type:"JWT"})),Mn(JSON.stringify(a)),""].join(".")}function qn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Bn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function Hn(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(pA){return!1}}function Wn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Kn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Gn(){var e=qn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Qn(){return"object"===typeof indexedDB}var Yn=function(e){En(n,e);var t=Rn(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Sn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Sn(a),$n.prototype.create),a}return In(n)}(Pn(Error)),$n=function(){function e(t,n,r){_n(this,e),this.service=t,this.serviceName=n,this.errors=r}return In(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Xn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Yn(n,a,t);return o}}]),e}();function Xn(e,t){return e.replace(Jn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Jn=/\{\$([^}]+)}/g;function Zn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function er(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(tr(u)&&tr(s)){if(!er(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function tr(e){return null!==e&&"object"===typeof e}function nr(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function rr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ir(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ar(e,t){var n=new or(e,t);return n.subscribe.bind(n)}var or=function(){function e(t,n){var r=this;_n(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return In(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Tn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ur),void 0===r.error&&(r.error=ur),void 0===r.complete&&(r.complete=ur);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(pA){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(pA){"undefined"!==typeof console&&console.error&&console.error(pA)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ur(){}function sr(e){return e&&e._delegate?e._delegate:e}function cr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function lr(e){return function(e){if(Array.isArray(e))return a(e)}(e)||cr(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fr=function(){function e(t,n,r){_n(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return In(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),hr="[DEFAULT]",dr=function(){function e(t,n){_n(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return In(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Vn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(pA){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(pA){if(r)return null;throw pA}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:hr})}catch(pA){}var t,n=Tn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(pA){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=we(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(lr(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),lr(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Tn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Tn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Lx){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===hr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Lx){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr;return this.component?this.component.multipleInstances?e:hr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var pr,vr,mr=function(){function e(t){_n(this,e),this.name=t,this.providers=new Map}return In(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new dr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),yr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(vr||(vr={}));var gr,kr,br={debug:vr.DEBUG,verbose:vr.VERBOSE,info:vr.INFO,warn:vr.WARN,error:vr.ERROR,silent:vr.SILENT},wr=vr.INFO,_r=(wn(pr={},vr.DEBUG,"log"),wn(pr,vr.VERBOSE,"log"),wn(pr,vr.INFO,"info"),wn(pr,vr.WARN,"warn"),wn(pr,vr.ERROR,"error"),pr),xr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=_r[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ir=function(){function e(t){_n(this,e),this.name=t,this._logLevel=wr,this._logHandler=xr,this._userLogHandler=null,yr.push(this)}return In(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in vr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?br[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.DEBUG].concat(t)),this._logHandler.apply(this,[this,vr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,vr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.INFO].concat(t)),this._logHandler.apply(this,[this,vr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.WARN].concat(t)),this._logHandler.apply(this,[this,vr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vr.ERROR].concat(t)),this._logHandler.apply(this,[this,vr.ERROR].concat(t))}}]),e}();var Tr=function(){function e(t){_n(this,e),this.container=t}return In(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Sr="@firebase/app",Er="0.7.11",Cr=new Ir("@firebase/app"),Ar="[DEFAULT]",Nr=(wn(gr={},Sr,"fire-core"),wn(gr,"@firebase/app-compat","fire-core-compat"),wn(gr,"@firebase/analytics","fire-analytics"),wn(gr,"@firebase/analytics-compat","fire-analytics-compat"),wn(gr,"@firebase/app-check","fire-app-check"),wn(gr,"@firebase/app-check-compat","fire-app-check-compat"),wn(gr,"@firebase/auth","fire-auth"),wn(gr,"@firebase/auth-compat","fire-auth-compat"),wn(gr,"@firebase/database","fire-rtdb"),wn(gr,"@firebase/database-compat","fire-rtdb-compat"),wn(gr,"@firebase/functions","fire-fn"),wn(gr,"@firebase/functions-compat","fire-fn-compat"),wn(gr,"@firebase/installations","fire-iid"),wn(gr,"@firebase/installations-compat","fire-iid-compat"),wn(gr,"@firebase/messaging","fire-fcm"),wn(gr,"@firebase/messaging-compat","fire-fcm-compat"),wn(gr,"@firebase/performance","fire-perf"),wn(gr,"@firebase/performance-compat","fire-perf-compat"),wn(gr,"@firebase/remote-config","fire-rc"),wn(gr,"@firebase/remote-config-compat","fire-rc-compat"),wn(gr,"@firebase/storage","fire-gcs"),wn(gr,"@firebase/storage-compat","fire-gcs-compat"),wn(gr,"@firebase/firestore","fire-fst"),wn(gr,"@firebase/firestore-compat","fire-fst-compat"),wn(gr,"fire-js","fire-js"),wn(gr,"firebase","fire-js-all"),gr),Rr=new Map,Or=new Map;function Pr(e,t){try{e.container.addComponent(t)}catch(pA){Cr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),pA)}}function Dr(e,t){e.container.addOrOverwriteComponent(t)}function Lr(e){var t=e.name;if(Or.has(t))return Cr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Or.set(t,e);var n,r=Tn(Rr.values());try{for(r.s();!(n=r.n()).done;){Pr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Mr(e,t){return e.container.getProvider(t)}function Ur(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ar;Mr(e,t).clearInstance(n)}function Fr(){Or.clear()}var jr,Vr,zr=(wn(kr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),wn(kr,"bad-app-name","Illegal App name: '{$appName}"),wn(kr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),wn(kr,"app-deleted","Firebase App named '{$appName}' already deleted"),wn(kr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),wn(kr,"invalid-log-argument","First argument to `onLog` must be null or a function."),kr),qr=new $n("app","Firebase",zr),Br=function(){function e(t,n,r){var i=this;_n(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fr("app",(function(){return i}),"PUBLIC"))}return In(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}]),e}(),Hr="9.6.1";function Wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Ar,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw qr.create("bad-app-name",{appName:String(i)});var a=Rr.get(i);if(a){if(er(e,a.options)&&er(r,a.config))return a;throw qr.create("duplicate-app",{appName:i})}var o,u=new mr(i),s=Tn(Or.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Br(e,r,u);return Rr.set(i,l),l}function Kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar,t=Rr.get(e);if(!t)throw qr.create("no-app",{appName:e});return t}function Gr(){return Array.from(Rr.values())}function Qr(e){return Yr.apply(this,arguments)}function Yr(){return(Yr=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Rr.has(n)){e.next=6;break}return Rr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $r(e,t,n){var r,i=null!==(r=Nr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Cr.warn(u.join(" "))}Lr(new fr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Xr(e,t){if(null!==e&&"function"!==typeof e)throw qr.create("invalid-log-argument");!function(e,t){var n,r=Tn(yr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=br[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:vr[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Jr(e){var t;t=e,yr.forEach((function(e){e.setLogLevel(t)}))}jr="",Lr(new fr("platform-logger",(function(e){return new Tr(e)}),"PRIVATE")),$r(Sr,Er,jr),$r(Sr,Er,"esm2017"),$r("fire-js","");var Zr=function(){function e(t,n){var r=this;_n(this,e),this._delegate=t,this.firebase=n,Pr(t,new fr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return In(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Qr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ar;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ar;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Pr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Dr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ei=(wn(Vr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),wn(Vr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Vr),ti=new $n("app-compat","Firebase",ei);var ni=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Wr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Zn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:$r,setLogLevel:Jr,onLog:Xr,apps:null,SDK_VERSION:Hr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Lr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ti.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Fn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Zn(n,e=e||Ar))throw ti.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Zr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Fn(n,e)},createSubscribe:ar,ErrorFactory:$n,deepExtend:Fn}),n}(),ri=new Ir("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ri.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ii=self.firebase.SDK_VERSION;ii&&ii.indexOf("LITE")>=0&&ri.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ai=ni;!function(e){$r("@firebase/app-compat","0.1.12",e)}();function oi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cn(e)););return e}function ui(){return ui="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=oi(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ui.apply(this,arguments)}ai.registerVersion("firebase","9.6.1","app-compat");function si(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ci;Object.create;var li="facebook.com",fi="github.com",hi="google.com",di="password",pi="twitter.com",vi="EMAIL_SIGNIN",mi="PASSWORD_RESET",yi="RECOVER_EMAIL",gi="REVERT_SECOND_FACTOR_ADDITION",ki="VERIFY_AND_CHANGE_EMAIL",bi="VERIFY_EMAIL";function wi(){return wn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var _i=function(){var e;return wn(e={},"admin-restricted-operation","This operation is restricted to administrators only."),wn(e,"argument-error",""),wn(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),wn(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),wn(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),wn(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),wn(e,"cordova-not-ready","Cordova framework is not ready."),wn(e,"cors-unsupported","This browser is not supported."),wn(e,"credential-already-in-use","This credential is already associated with a different user account."),wn(e,"custom-token-mismatch","The custom token corresponds to a different audience."),wn(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),wn(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),wn(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),wn(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),wn(e,"email-already-in-use","The email address is already in use by another account."),wn(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),wn(e,"expired-action-code","The action code has expired."),wn(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),wn(e,"internal-error","An internal AuthError has occurred."),wn(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),wn(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),wn(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),wn(e,"invalid-auth-event","An internal AuthError has occurred."),wn(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),wn(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),wn(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),wn(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),wn(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),wn(e,"invalid-email","The email address is badly formatted."),wn(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),wn(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),wn(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),wn(e,"invalid-credential","The supplied auth credential is malformed or has expired."),wn(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),wn(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),wn(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),wn(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),wn(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),wn(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),wn(e,"wrong-password","The password is invalid or the user does not have a password."),wn(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),wn(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),wn(e,"invalid-provider-id","The specified provider ID is invalid."),wn(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),wn(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),wn(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),wn(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),wn(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),wn(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),wn(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),wn(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),wn(e,"missing-continue-uri","A continue URL must be provided in the request."),wn(e,"missing-iframe-start","An internal AuthError has occurred."),wn(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),wn(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),wn(e,"missing-multi-factor-info","No second factor identifier is provided."),wn(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),wn(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),wn(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),wn(e,"app-deleted","This instance of FirebaseApp has been deleted."),wn(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),wn(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),wn(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),wn(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),wn(e,"no-auth-event","An internal AuthError has occurred."),wn(e,"no-such-provider","User was not linked to an account with the given provider."),wn(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),wn(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),wn(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),wn(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),wn(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),wn(e,"provider-already-linked","User can only be linked to one identity for the given provider."),wn(e,"quota-exceeded","The project's quota for this operation has been exceeded."),wn(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),wn(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),wn(e,"rejected-credential","The request contains malformed or mismatching credentials."),wn(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),wn(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),wn(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),wn(e,"timeout","The operation has timed out."),wn(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),wn(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),wn(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),wn(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),wn(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),wn(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),wn(e,"unverified-email","The operation requires a verified email."),wn(e,"user-cancelled","The user did not grant your application the permissions it requested."),wn(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),wn(e,"user-disabled","The user account has been disabled by an administrator."),wn(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),wn(e,"user-signed-out",""),wn(e,"weak-password","The password must be 6 characters long or more."),wn(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),wn(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},xi=wi,Ii=new $n("auth","Firebase",wi()),Ti=new Ir("@firebase/auth");function Si(e){if(Ti.logLevel<=vr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ti.error.apply(Ti,["Auth (".concat(Hr,"): ").concat(e)].concat(n))}}function Ei(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ri.apply(void 0,[e].concat(n))}function Ci(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ri.apply(void 0,[e].concat(n))}function Ai(e,t,n){var r=Object.assign(Object.assign({},xi()),wn({},t,n));return new $n("auth","Firebase",r).create(t,{appName:e.name})}function Ni(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ei(e,"argument-error"),Ai(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ri(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=lr(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(lr(o)))}return Ii.create.apply(Ii,[e].concat(n))}function Oi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ri.apply(void 0,[t].concat(r))}}function Pi(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Si(t),new Error(t)}function Di(e,t){e||Pi(t)}var Li=new Map;function Mi(e){Di(e instanceof Function,"Expected a class definition");var t=Li.get(e);return t?(Di(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Li.set(e,t),t)}function Ui(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fi(){return"http:"===ji()||"https:"===ji()}function ji(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Vi=function(){function e(t,n){_n(this,e),this.shortDelay=t,this.longDelay=n,Di(n>t,"Short delay should be less than long delay!"),this.isMobile=Bn()||Kn()}return In(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fi()||Wn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function zi(e,t){Di(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var qi=function(){function e(){_n(this,e)}return In(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Bi=(wn(ci={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),wn(ci,"MISSING_CUSTOM_TOKEN","internal-error"),wn(ci,"INVALID_IDENTIFIER","invalid-email"),wn(ci,"MISSING_CONTINUE_URI","internal-error"),wn(ci,"INVALID_PASSWORD","wrong-password"),wn(ci,"MISSING_PASSWORD","internal-error"),wn(ci,"EMAIL_EXISTS","email-already-in-use"),wn(ci,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),wn(ci,"INVALID_IDP_RESPONSE","invalid-credential"),wn(ci,"INVALID_PENDING_TOKEN","invalid-credential"),wn(ci,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),wn(ci,"MISSING_REQ_TYPE","internal-error"),wn(ci,"EMAIL_NOT_FOUND","user-not-found"),wn(ci,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),wn(ci,"EXPIRED_OOB_CODE","expired-action-code"),wn(ci,"INVALID_OOB_CODE","invalid-action-code"),wn(ci,"MISSING_OOB_CODE","internal-error"),wn(ci,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),wn(ci,"INVALID_ID_TOKEN","invalid-user-token"),wn(ci,"TOKEN_EXPIRED","user-token-expired"),wn(ci,"USER_NOT_FOUND","user-token-expired"),wn(ci,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),wn(ci,"INVALID_CODE","invalid-verification-code"),wn(ci,"INVALID_SESSION_INFO","invalid-verification-id"),wn(ci,"INVALID_TEMPORARY_PROOF","invalid-credential"),wn(ci,"MISSING_SESSION_INFO","missing-verification-id"),wn(ci,"SESSION_EXPIRED","code-expired"),wn(ci,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),wn(ci,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),wn(ci,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),wn(ci,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),wn(ci,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),wn(ci,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),wn(ci,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),wn(ci,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),wn(ci,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),wn(ci,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),wn(ci,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ci),Hi=new Vi(3e4,6e4);function Wi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ki(e,t,n,r){return Gi.apply(this,arguments)}function Gi(){return Gi=we(ke().mark((function e(t,n,r,i){var a,o=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Qi(t,a,we(ke().mark((function e(){var a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=nr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",qi.fetch()(Ji(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}function Qi(e,t,n){return Yi.apply(this,arguments)}function Yi(){return(Yi=we(ke().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Bi),n),e.prev=2,a=new Zi(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ea(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=s(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ea(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw ea(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Ai(t,p,d);case 30:Ei(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Yn)){e.next=37;break}throw e.t0;case 37:Ei(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function $i(e,t,n,r){return Xi.apply(this,arguments)}function Xi(){return Xi=we(ke().mark((function e(t,n,r,i){var a,o,u=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ki(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ei(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}function Ji(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?zi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Zi=function(){function e(t){var n=this;_n(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ci(n.auth,"timeout"))}),Hi.get())}))}return In(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ea(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ci(e,t,r);return i.customData._tokenResponse=n,i}function ta(e,t){return na.apply(this,arguments)}function na(){return(na=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ki(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(e,t){return ia.apply(this,arguments)}function ia(){return(ia=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ki(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return(oa=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ki(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(pA){}}function sa(){return sa=we(ke().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=sr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Oi((a=la(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ua(ca(a.auth_time)),issuedAtTime:ua(ca(a.iat)),expirationTime:ua(ca(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}function ca(e){return 1e3*Number(e)}function la(e){var t=s(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Si("JWT malformed, contained fewer than 3 sections"),null;try{var a=Un(r);return a?JSON.parse(a):(Si("Failed to decode base64 JWT payload"),null)}catch(pA){return Si("Caught error parsing JWT payload as JSON",pA),null}}function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=we(ke().mark((function e(t,n){var r=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Yn&&da(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ha.apply(this,arguments)}function da(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var pa=function(){function e(t){_n(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return In(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(we(ke().mark((function t(){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),va=function(){function e(t,n){_n(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return In(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ua(this.lastLoginAt),this.creationTime=ua(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ma(e){return ya.apply(this,arguments)}function ya(){return ya=we(ke().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,fa(t,aa(r,{idToken:i}));case 6:Oi(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ba(o.providerUserInfo):[],s=ka(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new va(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ya.apply(this,arguments)}function ga(){return(ga=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sr(t),e.next=3,ma(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ka(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(lr(n),lr(t))}function ba(e){return e.map((function(e){var t=e.providerId,n=si(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function wa(e,t){return _a.apply(this,arguments)}function _a(){return(_a=we(ke().mark((function e(t,n){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qi(t,{},we(ke().mark((function e(){var r,i,a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ji(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",qi.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xa=function(){function e(){_n(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return In(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Oi(e.idToken,"internal-error"),Oi("undefined"!==typeof e.idToken,"internal-error"),Oi("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=la(e);return Oi(t,"internal-error"),Oi("undefined"!==typeof t.exp,"internal-error"),Oi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=we(ke().mark((function e(t){var n,r=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Oi(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=we(ke().mark((function e(t,n){var r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Pi("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Oi("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Oi("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Oi("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ia(e,t){Oi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ta=function(){function e(t){_n(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=si(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new pa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new va(a.createdAt||void 0,a.lastLoginAt||void 0)}return In(e,[{key:"getIdToken",value:function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Oi(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return sa.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ga.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Oi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Oi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=we(ke().mark((function e(t){var n,r,i=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ma(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=we(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,fa(this,ta(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Oi(k&&x,t,"internal-error");var I=xa.fromJSON(this.name,x);Oi("string"===typeof k,t,"internal-error"),Ia(f,t.name),Ia(h,t.name),Oi("boolean"===typeof b,t,"internal-error"),Oi("boolean"===typeof w,t,"internal-error"),Ia(d,t.name),Ia(p,t.name),Ia(v,t.name),Ia(m,t.name),Ia(y,t.name),Ia(g,t.name);var T=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(T.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(){var t=we(ke().mark((function t(n,r){var i,a,o,u=arguments;return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new xa).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ma(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Sa=function(){function e(){_n(this,e),this.type="NONE",this.storage={}}return In(e,[{key:"_isAvailable",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Sa.type="NONE";var Ea=Sa;function Ca(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Aa=function(){function e(t,n,r){_n(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ca(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ca("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return In(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=we(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ta._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=we(ke().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Mi(Ea),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Mi(Ea),u=Ca(i,n.config.apiKey,n.name),s=null,c=Tn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Ta._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Na(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Da(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ra(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ma(t))return"Blackberry";if(Ua(t))return"Webos";if(Oa(t))return"Safari";if((t.includes("chrome/")||Pa(t))&&!t.includes("edge/"))return"Chrome";if(La(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/firefox\//i.test(e)}function Oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/crios\//i.test(e)}function Da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/iemobile/i.test(e)}function La(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/android/i.test(e)}function Ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/blackberry/i.test(e)}function Ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/webos/i.test(e)}function Fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/iphone|ipad|ipod/i.test(e)}function ja(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return Fa(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Va(){return Gn()&&10===document.documentMode}function za(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return Fa(e)||La(e)||Ua(e)||Ma(e)||/windows phone/i.test(e)||Da(e)}function qa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Na(qn());break;case"Worker":t="".concat(Na(qn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Hr,"/").concat(r)}var Ba=function(){function e(t,n){_n(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wa(this),this.idTokenSubscription=new Wa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ii,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return In(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Mi(t)),this._initializationPromise=this.queue(we(ke().mark((function r(){var i,a;return ke().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Aa.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=we(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=we(ke().mark((function e(t){var n,r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Oi(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ma(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?sr(t):null)&&Oi(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=we(ke().mark((function e(t){var n=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Oi(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(we(ke().mark((function n(){return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Mi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new $n("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=we(ke().mark((function e(t,n){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Oi(n=t&&Mi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Aa.create(this,[Mi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=we(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=we(ke().mark((function e(t){var n=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Oi(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Oi(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qa(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=we(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=wn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ha(e){return sr(e)}var Wa=function(){function e(t){var n=this;_n(this,e),this.auth=t,this.observer=null,this.addObserver=ar((function(e){return n.observer=e}))}return In(e,[{key:"next",get:function(){return Oi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ka(e,t,n){var r=Ha(e);Oi(r._canInitEmulator,r,"emulator-config-failed"),Oi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ga(t),o=function(e){var t=Ga(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Qa(r.substr(a.length+1))}}var o=s(r.split(":"),2);return{host:o[0],port:Qa(o[1])}}(t),u=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ga(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qa(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ya=function(){function e(t,n){_n(this,e),this.providerId=t,this.signInMethod=n}return In(e,[{key:"toJSON",value:function(){return Pi("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Pi("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Pi("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Pi("not implemented")}}]),e}();function $a(e,t){return Xa.apply(this,arguments)}function Xa(){return(Xa=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ki(t,"POST","/v1/accounts:resetPassword",Wi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ja(e,t){return Za.apply(this,arguments)}function Za(){return(Za=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ki(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eo(e,t){return to.apply(this,arguments)}function to(){return(to=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ki(t,"POST","/v1/accounts:update",Wi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(e,t){return ro.apply(this,arguments)}function ro(){return(ro=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(t,"POST","/v1/accounts:signInWithPassword",Wi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function io(e,t){return ao.apply(this,arguments)}function ao(){return(ao=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ki(t,"POST","/v1/accounts:sendOobCode",Wi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oo(e,t){return uo.apply(this,arguments)}function uo(){return(uo=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function so(e,t){return co.apply(this,arguments)}function co(){return(co=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(e,t){return fo.apply(this,arguments)}function fo(){return(fo=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ho(e,t){return po.apply(this,arguments)}function po(){return(po=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vo(e,t){return mo.apply(this,arguments)}function mo(){return(mo=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yo(e,t){return go.apply(this,arguments)}function go(){return(go=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ko=function(e){En(n,e);var t=Rn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _n(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return In(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",no(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",vo(t,{email:this._email,oobCode:this._password}));case 5:Ei(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ja(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",yo(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ei(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ya);function bo(e,t){return wo.apply(this,arguments)}function wo(){return(wo=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(t,"POST","/v1/accounts:signInWithIdp",Wi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _o=function(e){En(n,e);var t=Rn(n);function n(){var e;return _n(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return In(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return bo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ei("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=si(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ya);function xo(e,t){return Io.apply(this,arguments)}function Io(){return(Io=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ki(t,"POST","/v1/accounts:sendVerificationCode",Wi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function To(){return(To=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(t,"POST","/v1/accounts:signInWithPhoneNumber",Wi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(){return(So=we(ke().mark((function e(t,n){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i(t,"POST","/v1/accounts:signInWithPhoneNumber",Wi(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ea(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Eo=wn({},"USER_NOT_FOUND","user-not-found");function Co(){return(Co=we(ke().mark((function e(t,n){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",$i(t,"POST","/v1/accounts:signInWithPhoneNumber",Wi(t,r),Eo));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ao=function(e){En(n,e);var t=Rn(n);function n(e){var r;return _n(this,n),(r=t.call(this,"phone","phone")).params=e,r}return In(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return To.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return So.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Co.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ya);var No=function(){function e(t){var n,r,i,a,o,u;_n(this,e);var s=rr(ir(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Oi(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return In(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=rr(ir(e)).link,n=t?rr(ir(t)).deep_link_id:null,r=rr(ir(e)).deep_link_id;return(r?rr(ir(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Lx){return null}}}]),e}();var Ro=function(){function e(){_n(this,e),this.providerId=e.PROVIDER_ID}return In(e,null,[{key:"credential",value:function(e,t){return ko._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=No.parseLink(t);return Oi(n,"argument-error"),ko._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ro.PROVIDER_ID="password",Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Oo=function(){function e(t){_n(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return In(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Po=function(e){En(n,e);var t=Rn(n);function n(){var e;return _n(this,n),(e=t.apply(this,arguments)).scopes=[],e}return In(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return lr(this.scopes)}}]),n}(Oo),Do=function(e){En(n,e);var t=Rn(n);function n(){return _n(this,n),t.apply(this,arguments)}return In(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Oi(e.idToken||e.accessToken,"argument-error"),_o._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Oi("providerId"in t&&"signInMethod"in t,"argument-error"),_o._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(pA){return null}}}]),n}(Po),Lo=function(e){En(n,e);var t=Rn(n);function n(){return _n(this,n),t.call(this,"facebook.com")}return In(n,null,[{key:"credential",value:function(e){return _o._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Lx){return null}}}]),n}(Po);Lo.FACEBOOK_SIGN_IN_METHOD="facebook.com",Lo.PROVIDER_ID="facebook.com";var Mo=function(e){En(n,e);var t=Rn(n);function n(){var e;return _n(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return In(n,null,[{key:"credential",value:function(e,t){return _o._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Lx){return null}}}]),n}(Po);Mo.GOOGLE_SIGN_IN_METHOD="google.com",Mo.PROVIDER_ID="google.com";var Uo=function(e){En(n,e);var t=Rn(n);function n(){return _n(this,n),t.call(this,"github.com")}return In(n,null,[{key:"credential",value:function(e){return _o._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Lx){return null}}}]),n}(Po);Uo.GITHUB_SIGN_IN_METHOD="github.com",Uo.PROVIDER_ID="github.com";var Fo=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return In(n,[{key:"_getIdTokenResponse",value:function(e){return bo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ya),jo=function(e){En(n,e);var t=Rn(n);function n(e){return _n(this,n),Oi(e.startsWith("saml."),"argument-error"),t.call(this,e)}return In(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Fo.fromJSON(e);return Oi(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Fo._create(r,n)}catch(pA){return null}}}]),n}(Oo),Vo=function(e){En(n,e);var t=Rn(n);function n(){return _n(this,n),t.call(this,"twitter.com")}return In(n,null,[{key:"credential",value:function(e,t){return _o._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Lx){return null}}}]),n}(Po);function zo(e,t){return qo.apply(this,arguments)}function qo(){return(qo=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(t,"POST","/v1/accounts:signUp",Wi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Vo.TWITTER_SIGN_IN_METHOD="twitter.com",Vo.PROVIDER_ID="twitter.com";var Bo=function(){function e(t){_n(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return In(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=we(ke().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ta._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ho(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=we(ke().mark((function t(n,r,i){var a;return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ho(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ho(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Wo(){return Wo=we(ke().mark((function e(t){var n,r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ha(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Bo({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,zo(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Bo._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}var Ko=function(e){En(n,e);var t=Rn(n);function n(e,r,i,a){var o,u;return _n(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Sn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return In(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Yn);function Go(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ko._fromErrorAndOperation(e,n,t,r);throw n}))}function Qo(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Yo(e,t){return $o.apply(this,arguments)}function $o(){return $o=we(ke().mark((function e(t,n){var r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sr(t),e.next=3,Zo(!0,r,n);case 3:return e.t0=ra,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Qo(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function Xo(e,t){return Jo.apply(this,arguments)}function Jo(){return Jo=we(ke().mark((function e(t,n){var r,i,a=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=fa,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Bo._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Zo(e,t,n){return eu.apply(this,arguments)}function eu(){return(eu=we(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma(n);case 2:i=Qo(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Oi(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tu(e,t){return nu.apply(this,arguments)}function nu(){return nu=we(ke().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,fa(t,Go(i,a,n,t),r);case 6:return Oi((o=e.sent).idToken,i,"internal-error"),Oi(u=la(o.idToken),i,"internal-error"),s=u.sub,Oi(t.uid===s,i,"user-mismatch"),e.abrupt("return",Bo._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ei(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),nu.apply(this,arguments)}function ru(e,t){return iu.apply(this,arguments)}function iu(){return iu=we(ke().mark((function e(t,n){var r,i,a,o,u=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Go(t,i,n);case 4:return a=e.sent,e.next=7,Bo._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(e,t){return ou.apply(this,arguments)}function ou(){return(ou=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ru(Ha(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uu(e,t){return su.apply(this,arguments)}function su(){return(su=we(ke().mark((function e(t,n){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sr(t),e.next=3,Zo(!1,r,n.providerId);case 3:return e.abrupt("return",Xo(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cu(e,t){return lu.apply(this,arguments)}function lu(){return(lu=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tu(sr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return(hu=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$i(t,"POST","/v1/accounts:signInWithCustomToken",Wi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function du(){return(du=we(ke().mark((function e(t,n){var r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ha(t),e.next=3,fu(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Bo._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pu=function(){function e(t,n){_n(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return In(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?vu._fromServerResponse(e,t):Ei(e,"internal-error")}}]),e}(),vu=function(e){En(n,e);var t=Rn(n);function n(e){var r;return _n(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return In(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(pu);function mu(e,t,n){var r;Oi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Oi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Oi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Oi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function yu(){return(yu=we(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sr(t),a={requestType:"PASSWORD_RESET",email:n},r&&mu(i,a,r),e.next=5,so(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(){return(gu=we(ke().mark((function e(t,n,r){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a(sr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(){return(ku=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eo(sr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bu(e,t){return wu.apply(this,arguments)}function wu(){return(wu=we(ke().mark((function e(t,n){var r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sr(t),e.next=3,$a(r,{oobCode:n});case 3:i=e.sent,Oi(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Oi(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Oi(i.mfaInfo,r,"internal-error");case 13:Oi(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=pu._fromServerResponse(Ha(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(){return(_u=we(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bu(sr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(e,t,n){return Iu.apply(this,arguments)}function Iu(){return(Iu=we(ke().mark((function e(t,n,r){var i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ha(t),e.next=3,zo(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Bo._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tu(){return(Tu=we(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sr(t),a={requestType:"EMAIL_SIGNIN",email:n},Oi(r.handleCodeInApp,i,"argument-error"),r&&mu(i,a,r),e.next=6,lo(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(){return(Su=we(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sr(t),Oi((a=Ro.credentialWithLink(n,r||Ui()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",au(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(e,t){return Cu.apply(this,arguments)}function Cu(){return(Cu=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ki(t,"POST","/v1/accounts:createAuthUri",Wi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Au(){return(Au=we(ke().mark((function e(t,n){var r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fi()?Ui():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Eu(sr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(){return(Nu=we(ke().mark((function e(t,n){var r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&mu(r.auth,a,n),e.next=8,oo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ru(){return(Ru=we(ke().mark((function e(t,n,r){var i,a,o,u;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&mu(i.auth,o,r),e.next=8,ho(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ou(e,t){return Pu.apply(this,arguments)}function Pu(){return(Pu=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ki(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Du(){return(Du=we(ke().mark((function e(t,n){var r,i,a,o,u,s,c;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=sr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,fa(a,Ou(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e,t,n){return Mu.apply(this,arguments)}function Mu(){return(Mu=we(ke().mark((function e(t,n,r){var i,a,o,u;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,fa(t,Ja(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Uu=In((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_n(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Fu=function(e){En(n,e);var t=Rn(n);function n(e,r,i,a){var o;return _n(this,n),(o=t.call(this,e,r,i)).username=a,o}return In(n)}(Uu),ju=function(e){En(n,e);var t=Rn(n);function n(e,r){return _n(this,n),t.call(this,e,"facebook.com",r)}return In(n)}(Uu),Vu=function(e){En(n,e);var t=Rn(n);function n(e,r){return _n(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return In(n)}(Fu),zu=function(e){En(n,e);var t=Rn(n);function n(e,r){return _n(this,n),t.call(this,e,"google.com",r)}return In(n)}(Uu),qu=function(e){En(n,e);var t=Rn(n);function n(e,r,i){return _n(this,n),t.call(this,e,"twitter.com",r,i)}return In(n)}(Fu);function Bu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=la(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Uu(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new ju(a,i);case"github.com":return new Vu(a,i);case"google.com":return new zu(a,i);case"twitter.com":return new qu(a,i,e.screenName||null);case"custom":case"anonymous":return new Uu(a,null);default:return new Uu(a,r,i)}}(n)}var Hu=function(){function e(t,n){_n(this,e),this.type=t,this.credential=n}return In(e,[{key:"toJSON",value:function(){return{multiFactorSession:wn({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Wu=function(){function e(t,n,r){_n(this,e),this.session=t,this.hints=n,this.signInResolver=r}return In(e,[{key:"resolveSignIn",value:function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ha(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return pu._fromServerResponse(r,e)}));Oi(i.mfaPendingCredential,r,"internal-error");var o=Hu._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=we(ke().mark((function e(t){var a,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Bo._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Oi(n.user,r,"internal-error"),e.abrupt("return",Bo._forOperation(n.user,n.operationType,u));case 17:Ei(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ku(e,t){return Ki(e,"POST","/v2/accounts/mfaEnrollment:start",Wi(e,t))}var Gu=function(){function e(t){var n=this;_n(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return pu._fromServerResponse(t.auth,e)})))}))}return In(e,[{key:"getSession",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Hu,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=we(ke().mark((function e(t,n){var r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,fa(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=we(ke().mark((function e(t){var n,r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,fa(this.user,Ki(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Wi(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Qu=new WeakMap;var Yu="__sak",$u=function(){function e(t,n){_n(this,e),this.storageRetriever=t,this.type=n}return In(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Yu,"1"),this.storage.removeItem(Yu),Promise.resolve(!0)):Promise.resolve(!1)}catch(Lx){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Xu=function(e){En(n,e);var t=Rn(n);function n(){var e;return _n(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=qn();return Oa(e)||Fa(e)}()&&function(){try{return!(!window||window===window.top)}catch(pA){return!1}}(),e.fallbackToPolling=za(),e._shouldAllowMigration=!0,e}return In(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Va()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=we(ke().mark((function e(t,r){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui(Cn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=we(ke().mark((function e(t){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui(Cn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui(Cn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}($u);Xu.type="LOCAL";var Ju=Xu,Zu=function(e){En(n,e);var t=Rn(n);function n(){return _n(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return In(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}($u);Zu.type="SESSION";var es=Zu;function ts(e){return Promise.all(e.map(function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ns=function(){function e(t){_n(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return In(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=we(ke().mark((function e(t){var n,r,i,a,o,u,s,c;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ts(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function rs(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ns.receivers=[];var is=function(){function e(t){_n(this,e),this.target=t,this.handlers=new Set}return In(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=we(ke().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=rs("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function as(){return window}function os(){return"undefined"!==typeof as().WorkerGlobalScope&&"function"===typeof as().importScripts}function us(){return ss.apply(this,arguments)}function ss(){return(ss=we(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function cs(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ls="firebaseLocalStorageDb",fs="firebaseLocalStorage",hs="fbase_key",ds=function(){function e(t){_n(this,e),this.request=t}return In(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ps(e,t){return e.transaction([fs],t?"readwrite":"readonly").objectStore(fs)}function vs(){var e=indexedDB.deleteDatabase(ls);return new ds(e).toPromise()}function ms(){var e=indexedDB.open(ls,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(fs,{keyPath:hs})}catch(pA){n(pA)}})),e.addEventListener("success",we(ke().mark((function n(){var r;return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(fs)){n.next=12;break}return r.close(),n.next=5,vs();case 5:return n.t0=t,n.next=8,ms();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ys(e,t,n){return gs.apply(this,arguments)}function gs(){return gs=we(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ps(t,!0).put((wn(i={},hs,n),wn(i,"value",r),i)),e.abrupt("return",new ds(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}function ks(e,t){return bs.apply(this,arguments)}function bs(){return bs=we(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ps(t,!1).get(n),e.next=3,new ds(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ws(e,t){var n=ps(e,!0).delete(t);return new ds(n).toPromise()}var _s=function(){function e(){_n(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return In(e,[{key:"_openDb",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ms();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=we(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",os()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=we(ke().mark((function e(){var t=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ns._getInstance(os()?self:null),this.receiver._subscribe("keyChanged",function(){var e=we(ke().mark((function e(n,r){var i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=we(ke().mark((function e(){var t,n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,us();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new is(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&cs()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=we(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ms();case 5:return t=e.sent,e.next=8,ys(t,Yu,"1");case 8:return e.next=10,ws(t,Yu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=we(ke().mark((function e(t,n){var r=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ys(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ks(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=we(ke().mark((function e(t){var n=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ws(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=we(ke().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ps(e,!1).getAll();return new ds(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Tn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(we(ke().mark((function t(){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();_s.type="LOCAL";var xs=_s;function Is(e,t){return Ki(e,"POST","/v2/accounts/mfaSignIn:start",Wi(e,t))}function Ts(e){return Ss.apply(this,arguments)}function Ss(){return(Ss=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ki(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Es(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ci("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Cs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var As=1e12,Ns=function(){function e(t){_n(this,e),this.auth=t,this.counter=As,this._widgets=new Map}return In(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Rs(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||As;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||As;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=we(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||As,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Rs=function(){function e(t,n,r){var i=this;_n(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Oi(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return In(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(pA){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(pA){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Os=Cs("rcb"),Ps=new Vi(3e4,6e4),Ds="https://www.google.com/recaptcha/api.js?",Ls=function(){function e(){_n(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!as().grecaptcha}return In(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Oi(Ms(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(as().grecaptcha):new Promise((function(r,i){var a=as().setTimeout((function(){i(Ci(e,"network-request-failed"))}),Ps.get());as()[Os]=function(){as().clearTimeout(a),delete as()[Os];var o=as().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ci(e,"internal-error"))},Es("".concat(Ds,"?").concat(nr({onload:Os,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ci(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!as().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ms(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Us=function(){function e(){_n(this,e)}return In(e,[{key:"load",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ns(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Fs="recaptcha",js={theme:"light",type:"image"},Vs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},js),r=arguments.length>2?arguments[2]:void 0;_n(this,e),this.parameters=n,this.type=Fs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ha(r),this.isInvisible="invisible"===this.parameters.size,Oi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Oi(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Us:new Ls,this.validateStartingState()}return In(e,[{key:"verify",value:function(){var e=we(ke().mark((function e(){var t,n,r,i=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(pA){return Promise.reject(pA)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Oi(!this.parameters.sitekey,this.auth,"argument-error"),Oi(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=as()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Oi(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=we(ke().mark((function e(){var t,n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=we(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oi(Fi()&&!os(),this.auth,"internal-error"),e.next=3,zs();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ts(this.auth);case 8:Oi(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Oi(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function zs(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var qs=function(){function e(t,n){_n(this,e),this.verificationId=t,this.onConfirmation=n}return In(e,[{key:"confirm",value:function(e){var t=Ao._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Bs(){return(Bs=we(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ha(t),e.next=3,Gs(i,n,sr(r));case 3:return a=e.sent,e.abrupt("return",new qs(a,(function(e){return au(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hs(e,t,n){return Ws.apply(this,arguments)}function Ws(){return(Ws=we(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sr(t),e.next=3,Zo(!1,i,"phone");case 3:return e.next=5,Gs(i.auth,n,sr(r));case 5:return a=e.sent,e.abrupt("return",new qs(a,(function(e){return uu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ks(){return(Ks=we(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sr(t),e.next=3,Gs(i.auth,n,sr(r));case 3:return a=e.sent,e.abrupt("return",new qs(a,(function(e){return cu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(e,t,n){return Qs.apply(this,arguments)}function Qs(){return Qs=we(ke().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Oi("string"===typeof a,t,"argument-error"),Oi(r.type===Fs,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Oi("enroll"===u.type,t,"internal-error"),e.next=13,Ku(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Oi("signin"===u.type,t,"internal-error"),Oi(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Is(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,xo(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Qs.apply(this,arguments)}function Ys(){return(Ys=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo(sr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $s=function(){function e(t){_n(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ha(t)}return In(e,[{key:"verifyPhoneNumber",value:function(e,t){return Gs(this.auth,e,sr(t))}}],[{key:"credential",value:function(e,t){return Ao._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ao._fromTokenResponse(n,r):null}}]),e}();function Xs(e,t){return t?Mi(t):(Oi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}$s.PROVIDER_ID="phone",$s.PHONE_SIGN_IN_METHOD="phone";var Js=function(e){En(n,e);var t=Rn(n);function n(e){var r;return _n(this,n),(r=t.call(this,"custom","custom")).params=e,r}return In(n,[{key:"_getIdTokenResponse",value:function(e){return bo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return bo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return bo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ya);function Zs(e){return ru(e.auth,new Js(e),e.bypassAuthState)}function ec(e){var t=e.auth,n=e.user;return Oi(n,t,"internal-error"),tu(n,new Js(e),e.bypassAuthState)}function tc(e){return nc.apply(this,arguments)}function nc(){return(nc=we(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Oi(r=t.user,n,"internal-error"),e.abrupt("return",Xo(r,new Js(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_n(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return In(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=we(ke().mark((function t(n,r){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=we(ke().mark((function e(t){var n,r,i,a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zs;case"linkViaPopup":case"linkViaRedirect":return tc;case"reauthViaPopup":case"reauthViaRedirect":return ec;default:Ei(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ic=new Vi(2e3,1e4);function ac(e,t,n){return oc.apply(this,arguments)}function oc(){return(oc=we(ke().mark((function e(t,n,r){var i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ha(t),Ni(t,n,Oo),a=Xs(i,r),o=new lc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uc(){return(uc=we(ke().mark((function e(t,n,r){var i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ni((i=sr(t)).auth,n,Oo),a=Xs(i.auth,r),o=new lc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sc(e,t,n){return cc.apply(this,arguments)}function cc(){return(cc=we(ke().mark((function e(t,n,r){var i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ni((i=sr(t)).auth,n,Oo),a=Xs(i.auth,r),o=new lc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lc=function(e){En(n,e);var t=Rn(n);function n(e,r,i,a,o){var u;return _n(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Sn(u),u}return In(n,[{key:"executeNotNull",value:function(){var e=we(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Oi(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=we(ke().mark((function e(){var t,n=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Di(1===this.filter.length,"Popup operations only handle one event"),t=rs(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ci(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ci(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ci(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ic.get())}()}}]),n}(rc);lc.currentPopupAction=null;var fc=new Map,hc=function(e){En(n,e);var t=Rn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _n(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return In(n,[{key:"execute",value:function(){var e=we(ke().mark((function e(){var t,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=fc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,dc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ui(Cn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:fc.set(this.auth._key(),t);case 21:return this.bypassAuthState||fc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=we(ke().mark((function e(t){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ui(Cn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ui(Cn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(rc);function dc(e,t){return pc.apply(this,arguments)}function pc(){return pc=we(ke().mark((function e(t,n){var r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gc(n),i=yc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(e,t){return mc.apply(this,arguments)}function mc(){return(mc=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yc(t)._set(gc(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yc(e){return Mi(e._redirectPersistence)}function gc(e){return Ca("pendingRedirect",e.config.apiKey,e.name)}function kc(e,t,n){return function(e,t,n){return bc.apply(this,arguments)}(e,t,n)}function bc(){return(bc=we(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ha(t),Ni(t,n,Oo),a=Xs(i,r),e.next=5,vc(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wc(e,t,n){return function(e,t,n){return _c.apply(this,arguments)}(e,t,n)}function _c(){return(_c=we(ke().mark((function e(t,n,r){var i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ni((i=sr(t)).auth,n,Oo),a=Xs(i.auth,r),e.next=5,vc(a,i.auth);case 5:return e.next=7,Ac(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xc(e,t,n){return function(e,t,n){return Ic.apply(this,arguments)}(e,t,n)}function Ic(){return(Ic=we(ke().mark((function e(t,n,r){var i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ni((i=sr(t)).auth,n,Oo),a=Xs(i.auth,r),e.next=5,Zo(!1,i,n.providerId);case 5:return e.next=7,vc(a,i.auth);case 7:return e.next=9,Ac(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tc(e,t){return Sc.apply(this,arguments)}function Sc(){return(Sc=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(t)._initializationPromise;case 2:return e.abrupt("return",Ec(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ec(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=we(ke().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ha(t),a=Xs(i,n),o=new hc(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Ac(e){return Nc.apply(this,arguments)}function Nc(){return(Nc=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rs("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rc=function(){function e(t){_n(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return In(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Pc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ci(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Oc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Oc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Oc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Pc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Dc(e){return Lc.apply(this,arguments)}function Lc(){return Lc=we(ke().mark((function e(t){var n,r=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ki(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}var Mc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uc=/^https?/;function Fc(){return(Fc=we(ke().mark((function e(t){var n,r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Dc(t);case 4:n=e.sent,r=n.authorizedDomains,i=Tn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!jc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ei(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function jc(e){var t=Ui(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Uc.test(r))return!1;if(Mc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Vc=new Vi(3e4,6e4);function zc(){var e=as().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=lr(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var qc=null;function Bc(e){return qc=qc||function(e){return new Promise((function(t,n){var r,i,a;function o(){zc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){zc(),n(Ci(e,"network-request-failed"))},timeout:Vc.get()})}if(null===(i=null===(r=as().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=as().gapi)||void 0===a?void 0:a.load)){var u=Cs("iframefcb");return as()[u]=function(){gapi.load?o():n(Ci(e,"network-request-failed"))},Es("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw qc=null,e}))}(e),qc}var Hc=new Vi(5e3,15e3),Wc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gc(e){var t=e.config;Oi(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?zi(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Hr},i=Kc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(nr(r).slice(1))}function Qc(e){return Yc.apply(this,arguments)}function Yc(){return Yc=we(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bc(t);case 2:return n=e.sent,Oi(r=as().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Gc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wc,dontclear:!0},(function(e){return new Promise(function(){var n=we(ke().mark((function n(r,i){var a,o,u;return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){as().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ci(t,"network-request-failed"),o=as().setTimeout((function(){i(a)}),Hc.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}var $c={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xc="_blank",Jc="http://localhost",Zc=function(){function e(t){_n(this,e),this.window=t,this.associatedEvent=null}return In(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(pA){}}}]),e}();function el(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},$c),{width:r.toString(),height:i.toString(),top:a,left:o}),l=qn().toLowerCase();n&&(u=Pa(l)?Xc:n),Ra(l)&&(t=t||Jc,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ja(l)&&"_self"!==u)return tl(t||"",u),new Zc(null);var h=window.open(t||"",u,f);Oi(h,e,"popup-blocked");try{h.focus()}catch(pA){}return new Zc(h)}function tl(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var nl="__/auth/handler",rl="emulator/auth/handler";function il(e,t,n,r,i,a){Oi(e.config.authDomain,e,"auth-domain-config-required"),Oi(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Hr,eventId:i};if(t instanceof Oo){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=s(c[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Po){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(nl);return zi(t,rl)}(e),"?").concat(nr(p).slice(1))}var al="webStorageSupport",ol=function(){function e(){_n(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=es,this._completeRedirectFn=Ec}return In(e,[{key:"_openPopup",value:function(){var e=we(ke().mark((function e(t,n,r,i){var a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Di(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=il(t,n,r,Ui(),i),e.abrupt("return",el(t,o,rs()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=we(ke().mark((function e(t,n,r,i){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=il(t,n,r,Ui(),i),as().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Di(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=we(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qc(t);case 2:return n=e.sent,r=new Rc(t),n.register("authEvent",(function(e){return Oi(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(al,{type:al},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ei(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Fc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return za()||Oa()||Fa()}}]),e}(),ul=ol,sl=function(e){En(n,e);var t=Rn(n);function n(e){var r;return _n(this,n),(r=t.call(this,"phone")).credential=e,r}return In(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ki(e,"POST","/v2/accounts/mfaEnrollment:finalize",Wi(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ki(e,"POST","/v2/accounts/mfaSignIn:finalize",Wi(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){_n(this,e),this.factorId=t}return In(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Pi("unexpected MultiFactorSessionType")}}}]),e}()),cl=function(){function e(){_n(this,e)}return In(e,null,[{key:"assertion",value:function(e){return sl._fromCredential(e)}}]),e}();cl.FACTOR_ID="phone";var ll,fl="@firebase/auth",hl="0.19.4",dl=function(){function e(t){_n(this,e),this.auth=t,this.internalListeners=new Map}return In(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Oi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function pl(){return window}ll="Browser",Lr(new fr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Oi(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Oi(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:ll,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qa(ll)},r=new Ba(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Lr(new fr("auth-internal",(function(e){return function(e){return new dl(e)}(Ha(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),$r(fl,hl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ll)),$r(fl,hl,"esm2017");function vl(e,t,n){return ml.apply(this,arguments)}function ml(){return ml=we(ke().mark((function e(t,n,r){var i,a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=pl(),o=a.BuildInfo,Di(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,_l(n.sessionId);case 4:return u=e.sent,s={},Fa()?s.ibi=o.packageName:La()?s.apn=o.packageName:Ei(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",il(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}function yl(){return(yl=we(ke().mark((function e(t){var n,r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pl(),r=n.BuildInfo,i={},Fa()?i.iosBundleId=r.packageName:La()?i.androidPackageName=r.packageName:Ei(t,"operation-not-supported-in-this-environment"),e.next=5,Dc(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gl(e){var t=pl().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function kl(e,t,n){return bl.apply(this,arguments)}function bl(){return bl=we(ke().mark((function e(t,n,r){var i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pl(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ci(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),La()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),bl.apply(this,arguments)}function wl(e){var t,n,r,i,a,o,u,s,c,l,f=pl();Oi("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Oi("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Oi("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oi("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oi("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function _l(e){return xl.apply(this,arguments)}function xl(){return(xl=we(ke().mark((function e(t){var n,r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Il(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Il(e){if(Di(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Tl=function(e){En(n,e);var t=Rn(n);function n(){var e;return _n(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return In(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ui(Cn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Rc);function Sl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Rl(),postBody:null,tenantId:e.tenantId,error:Ci(e,"no-auth-event")}}function El(e,t){return Ol()._set(Pl(e),t)}function Cl(e){return Al.apply(this,arguments)}function Al(){return(Al=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ol()._get(Pl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Ol()._remove(Pl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nl(e,t){var n,r,i=function(e){var t=Dl(e),n=t.link?decodeURIComponent(t.link):void 0,r=Dl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Dl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Dl(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(pA){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ci(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Rl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Ol(){return Mi(Ju)}function Pl(e){return Ca("authEvent",e.config.apiKey,e.name)}function Dl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||cr(t)||o(t)||u();r[0];return rr(r.slice(1).join("?"))}var Ll=function(){function e(){_n(this,e),this._redirectPersistence=es,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ec}return In(e,[{key:"_initialize",value:function(){var e=we(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Tl(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ei(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=we(ke().mark((function e(t,n,r,i){var a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),fc.clear(),e.next=10,this._originValidation(t);case 10:return o=Sl(t,r,i),e.next=13,El(t,o);case 13:return e.next=15,vl(t,o,n);case 15:return u=e.sent,e.next=18,gl(u);case 18:return s=e.sent,e.abrupt("return",kl(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return yl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=pl(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(we(ke().mark((function n(){return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Cl(e);case 2:t.onEvent(Ul());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=we(ke().mark((function n(r){var i,a;return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Cl(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Nl(i,r.url)),t.onEvent(a||Ul());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");pl().handleOpenURL=function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(pA){console.error(pA)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ml=Ll;function Ul(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ci("no-auth-event")}}function Fl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function jl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return!("file:"!==Fl()&&"ionic:"!==Fl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vl(){return Gn()&&11===(null===document||void 0===document?void 0:document.documentMode)}function zl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/Edge\/\d+/.test(e)}function ql(){try{var e=self.localStorage,t=rs();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return Vl()||zl(e)}()||Qn()}catch(pA){return Bl()&&Qn()}return!1}function Bl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Hl(){return("http:"===Fl()||"https:"===Fl()||Wn()||jl())&&!(Kn()||Hn())&&ql()&&!Bl()}function Wl(){return jl()&&"undefined"!==typeof document}function Kl(){return Gl.apply(this,arguments)}function Gl(){return Gl=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}var Ql={LOCAL:"local",NONE:"none",SESSION:"session"},Yl=Oi,$l="persistence";function Xl(e,t){Yl(Object.values(Ql).includes(t),e,"invalid-persistence-type"),Kn()?Yl(t!==Ql.SESSION,e,"unsupported-persistence-type"):Hn()?Yl(t===Ql.NONE,e,"unsupported-persistence-type"):Bl()?Yl(t===Ql.NONE||t===Ql.LOCAL&&Qn(),e,"unsupported-persistence-type"):Yl(t===Ql.NONE||ql(),e,"unsupported-persistence-type")}function Jl(e){return Zl.apply(this,arguments)}function Zl(){return Zl=we(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ef(),r=Ca($l,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}function ef(){return"undefined"!==typeof window?window:null}var tf=Oi,nf=function(){function e(){_n(this,e),this.browserResolver=Mi(ul),this.cordovaResolver=Mi(Ml),this.underlyingResolver=null,this._redirectPersistence=es,this._completeRedirectFn=Ec}return In(e,[{key:"_initialize",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=we(ke().mark((function e(t,n,r,i){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=we(ke().mark((function e(t,n,r,i){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Wl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return tf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=we(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Kl();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function rf(e){return e.unwrap()}function af(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new lf(e,function(e,t){var n,r=sr(e),i=t;return Oi(t.customData.operationType,r,"argument-error"),Oi(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Wu._fromError(r,i)}(e,t));else if(r){var i=of(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function of(e){var t=(e instanceof Yn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Yn)&&"temporaryProof"in t&&"phoneNumber"in t)return $s.credentialFromResult(e);var n,r=t.providerId;if(!r||r===di)return null;switch(r){case hi:n=Mo;break;case li:n=Lo;break;case fi:n=Uo;break;case pi:n=Vo;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Fo._create(r,u):_o._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Do(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Yn?n.credentialFromError(e):n.credentialFromResult(e)}function uf(e,t){return t.catch((function(t){throw t instanceof Yn&&af(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,of(t)),additionalUserInfo:Bu(e),user:ff.getOrCreate(r)}}))}function sf(e,t){return cf.apply(this,arguments)}function cf(){return(cf=we(ke().mark((function e(t,n){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return uf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lf=function(){function e(t,n){_n(this,e),this.resolver=n,this.auth=t.wrapped()}return In(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return uf(rf(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),ff=function(){function e(t){_n(this,e),this._delegate=t,this.multiFactor=function(e){var t=sr(e);return Qu.has(t)||Qu.set(t,Gu._fromUser(t)),Qu.get(t)}(t)}return In(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uf(this.auth,uu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sf(this.auth,Hs(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uf(this.auth,sc(this._delegate,t,nf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jl(Ha(this.auth));case 2:return e.abrupt("return",xc(this._delegate,t,nf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uf(this.auth,cu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return sf(this.auth,function(e,t,n){return Ks.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return uf(this.auth,function(e,t,n){return uc.apply(this,arguments)}(this._delegate,e,nf))}},{key:"reauthenticateWithRedirect",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jl(Ha(this.auth));case 2:return e.abrupt("return",wc(this._delegate,t,nf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Nu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yo(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Lu(sr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Lu(sr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Ys.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Du.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ru.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();ff.USER_MAP=new WeakMap;var hf=Oi,df=function(){function e(t,n){if(_n(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;hf(r,"invalid-api-key",{appName:t.name});var i=[Ea];if("undefined"!==typeof window){i=function(e,t){var n=ef();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=Ca($l,e,t);switch(n.sessionStorage.getItem(r)){case Ql.NONE:return[Ea];case Ql.LOCAL:return[xs,es];case Ql.SESSION:return[es];default:return[]}}(r,t.name);for(var a=0,o=[xs,Ju,es];a<o.length;a++){var u=o[a];i.includes(u)||i.push(u)}}hf(r,"invalid-api-key",{appName:t.name});var s="undefined"!==typeof window?nf:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:s}}),this._delegate._updateErrorMap(_i),this.linkUnderlyingAuth()}return In(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?ff.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ka(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ku.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return bu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return gu.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uf(this._delegate,xu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Au.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=No.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=we(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hf(Hl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Tc(this._delegate,nf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",uf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ha(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=pf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=pf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Tu.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return yu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=we(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xl(this._delegate,t),e.t0=t,e.next=e.t0===Ql.SESSION?4:e.t0===Ql.LOCAL?6:e.t0===Ql.NONE?11:13;break;case 4:return n=es,e.abrupt("break",14);case 6:return e.next=8,Mi(xs)._isAvailable();case 8:return r=e.sent,n=r?xs:Ju,e.abrupt("break",14);case 11:return n=Ea,e.abrupt("break",14);case 13:return e.abrupt("return",Ei("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return uf(this._delegate,function(e){return Wo.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return uf(this._delegate,au(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return uf(this._delegate,function(e,t){return du.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return uf(this._delegate,function(e,t,n){return au(sr(e),Ro.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return uf(this._delegate,function(e,t,n){return Su.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return sf(this._delegate,function(e,t,n){return Bs.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hf(Hl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",uf(this._delegate,ac(this._delegate,t,nf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hf(Hl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Jl(this._delegate);case 3:return e.abrupt("return",kc(this._delegate,t,nf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return _u.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function pf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&ff.getOrCreate(e))},error:t,complete:n}}df.Persistence=Ql;var vf=function(){function e(){_n(this,e),this.providerId="phone",this._delegate=new $s(rf(ai.auth()))}return In(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return $s.credential(e,t)}}]),e}();vf.PHONE_SIGN_IN_METHOD=$s.PHONE_SIGN_IN_METHOD,vf.PROVIDER_ID=$s.PROVIDER_ID;var mf,yf=Oi,gf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ai.app();_n(this,e),yf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Vs(t,n,i.auth()),this.type=this._delegate.type}return In(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(mf=ai).INTERNAL.registerComponent(new fr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new df(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:vi,PASSWORD_RESET:mi,RECOVER_EMAIL:yi,REVERT_SECOND_FACTOR_ADDITION:gi,VERIFY_AND_CHANGE_EMAIL:ki,VERIFY_EMAIL:bi}},EmailAuthProvider:Ro,FacebookAuthProvider:Lo,GithubAuthProvider:Uo,GoogleAuthProvider:Mo,OAuthProvider:Do,SAMLAuthProvider:jo,PhoneAuthProvider:vf,PhoneMultiFactorGenerator:cl,RecaptchaVerifier:gf,TwitterAuthProvider:Vo,Auth:df,AuthCredential:Ya,Error:Yn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),mf.registerVersion("@firebase/auth-compat","0.2.4");var kf,bf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},wf={},_f=_f||{},xf=bf||self;function If(){}function Tf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Sf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ef="closure_uid_"+(1e9*Math.random()>>>0),Cf=0;function Af(e,t,n){return e.call.apply(e.bind,arguments)}function Nf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Rf(e,t,n){return(Rf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Af:Nf).apply(null,arguments)}function Of(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Pf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Df(){this.s=this.s,this.o=this.o}var Lf={};Df.prototype.s=!1,Df.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ef)&&e[Ef]||(e[Ef]=++Cf)}(this);delete Lf[e]}},Df.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Mf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Uf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ff(e){return Array.prototype.concat.apply([],arguments)}function jf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Vf(e){return/^[\s\xa0]*$/.test(e)}var zf,qf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Bf(e,t){return-1!=e.indexOf(t)}function Hf(e,t){return e<t?-1:e>t?1:0}e:{var Wf=xf.navigator;if(Wf){var Kf=Wf.userAgent;if(Kf){zf=Kf;break e}}zf=""}function Gf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Qf(e){var t={};for(var n in e)t[n]=e[n];return t}var Yf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $f(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Yf.length;a++)n=Yf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Xf(e){return Xf[" "](e),e}Xf[" "]=If;var Jf,Zf=Bf(zf,"Opera"),eh=Bf(zf,"Trident")||Bf(zf,"MSIE"),th=Bf(zf,"Edge"),nh=th||eh,rh=Bf(zf,"Gecko")&&!(Bf(zf.toLowerCase(),"webkit")&&!Bf(zf,"Edge"))&&!(Bf(zf,"Trident")||Bf(zf,"MSIE"))&&!Bf(zf,"Edge"),ih=Bf(zf.toLowerCase(),"webkit")&&!Bf(zf,"Edge");function ah(){var e=xf.document;return e?e.documentMode:void 0}e:{var oh="",uh=function(){var e=zf;return rh?/rv:([^\);]+)(\)|;)/.exec(e):th?/Edge\/([\d\.]+)/.exec(e):eh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ih?/WebKit\/(\S+)/.exec(e):Zf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(uh&&(oh=uh?uh[1]:""),eh){var sh=ah();if(null!=sh&&sh>parseFloat(oh)){Jf=String(sh);break e}}Jf=oh}var ch,lh={};function fh(){return function(e){var t=lh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=qf(String(Jf)).split("."),n=qf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Hf(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Hf(0==a[2].length,0==o[2].length)||Hf(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(xf.document&&eh){var hh=ah();ch=hh||(parseInt(Jf,10)||void 0)}else ch=void 0;var dh=ch,ph=function(){if(!xf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{xf.addEventListener("test",If,t),xf.removeEventListener("test",If,t)}catch(n){}return e}();function vh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function mh(e,t){if(vh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(rh){e:{try{Xf(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:yh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&mh.Z.h.call(this)}}vh.prototype.h=function(){this.defaultPrevented=!0},Pf(mh,vh);var yh={2:"touch",3:"pen",4:"mouse"};mh.prototype.h=function(){mh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var gh="closure_listenable_"+(1e6*Math.random()|0),kh=0;function bh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++kh,this.ca=this.fa=!1}function wh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function _h(e){this.src=e,this.g={},this.h=0}function xh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Mf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(wh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ih(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}_h.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ih(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new bh(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Th="closure_lm_"+(1e6*Math.random()|0),Sh={};function Eh(e,t,n,r,i){if(r&&r.once)return Ah(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Eh(e,t[a],n,r,i);return null}return n=Mh(n),e&&e[gh]?e.N(t,n,Sf(r)?!!r.capture:!!r,i):Ch(e,t,n,!1,r,i)}function Ch(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Sf(i)?!!i.capture:!!i,u=Dh(e);if(u||(e[Th]=u=new _h(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ph;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ph||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Oh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ah(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ah(e,t[a],n,r,i);return null}return n=Mh(n),e&&e[gh]?e.O(t,n,Sf(r)?!!r.capture:!!r,i):Ch(e,t,n,!0,r,i)}function Nh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Nh(e,t[a],n,r,i);else r=Sf(r)?!!r.capture:!!r,n=Mh(n),e&&e[gh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ih(a=e.g[t],n,r,i))&&(wh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Dh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ih(t,n,r,i)),(n=-1<e?t[e]:null)&&Rh(n))}function Rh(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[gh])xh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Oh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Dh(t))?(xh(n,e),0==n.h&&(n.src=null,t[Th]=null)):wh(e)}}}function Oh(e){return e in Sh?Sh[e]:Sh[e]="on"+e}function Ph(e,t){if(e.ca)e=!0;else{t=new mh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Rh(e),e=n.call(r,t)}return e}function Dh(e){return(e=e[Th])instanceof _h?e:null}var Lh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mh(e){return"function"===typeof e?e:(e[Lh]||(e[Lh]=function(t){return e.handleEvent(t)}),e[Lh])}function Uh(){Df.call(this),this.i=new _h(this),this.P=this,this.I=null}function Fh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new vh(t,e);else if(t instanceof vh)t.target=t.target||e;else{var i=t;$f(t=new vh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=jh(o,r,!0,t)&&i}if(i=jh(o=t.g=e,r,!0,t)&&i,i=jh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=jh(o=t.g=n[a],r,!1,t)&&i}function jh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&xh(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Pf(Uh,Df),Uh.prototype[gh]=!0,Uh.prototype.removeEventListener=function(e,t,n,r){Nh(this,e,t,n,r)},Uh.prototype.M=function(){if(Uh.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wh(n[r]);delete t.g[e],t.h--}}this.I=null},Uh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Uh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Vh=xf.JSON.stringify;function zh(){var e=Yh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qh,Bh=function(){function e(){_n(this,e),this.h=this.g=null}return In(e,[{key:"add",value:function(e,t){var n=Hh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Hh=new(function(){function e(t,n){_n(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return In(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Wh}),(function(e){return e.reset()})),Wh=function(){function e(){_n(this,e),this.next=this.g=this.h=null}return In(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Kh(e){xf.setTimeout((function(){throw e}),0)}function Gh(e,t){qh||function(){var e=xf.Promise.resolve(void 0);qh=function(){e.then($h)}}(),Qh||(qh(),Qh=!0),Yh.add(e,t)}var Qh=!1,Yh=new Bh;function $h(){for(var e;e=zh();){try{e.h.call(e.g)}catch(n){Kh(n)}var t=Hh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qh=!1}function Xh(e,t){Uh.call(this),this.h=e||1,this.g=t||xf,this.j=Rf(this.kb,this),this.l=Date.now()}function Jh(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Zh(e,t,n){if("function"===typeof e)n&&(e=Rf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Rf(e.handleEvent,e)}return 2147483647<Number(t)?-1:xf.setTimeout(e,t||0)}function ed(e){e.g=Zh((function(){e.g=null,e.i&&(e.i=!1,ed(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Pf(Xh,Uh),(kf=Xh.prototype).da=!1,kf.S=null,kf.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Fh(this,"tick"),this.da&&(Jh(this),this.start()))}},kf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},kf.M=function(){Xh.Z.M.call(this),Jh(this),delete this.g};var td=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return In(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ed(this)}},{key:"M",value:function(){ui(Cn(n.prototype),"M",this).call(this),this.g&&(xf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Df);function nd(e){Df.call(this),this.h=e,this.g={}}Pf(nd,Df);var rd=[];function id(e,t,n,r){Array.isArray(n)||(n&&(rd[0]=n.toString()),n=rd);for(var i=0;i<n.length;i++){var a=Eh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ad(e){Gf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Rh(e)}),e),e.g={}}function od(){this.g=!0}function ud(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Vh(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}nd.prototype.M=function(){nd.Z.M.call(this),ad(this)},nd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},od.prototype.Aa=function(){this.g=!1},od.prototype.info=function(){};var sd={},cd=null;function ld(){return cd=cd||new Uh}function fd(e){vh.call(this,sd.Ma,e)}function hd(e){var t=ld();Fh(t,new fd(t,e))}function dd(e,t){vh.call(this,sd.STAT_EVENT,e),this.stat=t}function pd(e){var t=ld();Fh(t,new dd(t,e))}function vd(e,t){vh.call(this,sd.Na,e),this.size=t}function md(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return xf.setTimeout((function(){e()}),t)}sd.Ma="serverreachability",Pf(fd,vh),sd.STAT_EVENT="statevent",Pf(dd,vh),sd.Na="timingevent",Pf(vd,vh);var yd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function kd(){}function bd(e){return e.h||(e.h=e.i())}function wd(){}kd.prototype.h=null;var _d,xd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Id(){vh.call(this,"d")}function Td(){vh.call(this,"c")}function Sd(){}function Ed(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new nd(this),this.P=Ad,e=nh?125:void 0,this.W=new Xh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Cd}function Cd(){this.i=null,this.g="",this.h=!1}Pf(Id,vh),Pf(Td,vh),Pf(Sd,kd),Sd.prototype.g=function(){return new XMLHttpRequest},Sd.prototype.i=function(){return{}},_d=new Sd;var Ad=45e3,Nd={},Rd={};function Od(e,t,n){e.K=1,e.v=tp(Yd(t)),e.s=n,e.U=!0,Pd(e,null)}function Pd(e,t){e.F=Date.now(),Ud(e),e.A=Yd(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),pp(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Cd,e.g=mv(e.l,n?t:null,!e.s),0<e.O&&(e.L=new td(Rf(e.Ia,e,e.g),e.O)),id(e.V,e.g,"readystatechange",e.gb),t=e.H?Qf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),hd(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Dd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ld(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Md(e,n))==Rd){4==t&&(e.o=4,pd(14),i=!1),ud(e.j,e.m,null,"[Incomplete Response]");break}if(r==Nd){e.o=4,pd(15),ud(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ud(e.j,e.m,r,null),qd(e,r)}Dd(e)&&r!=Rd&&r!=Nd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,pd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),sv(t),t.L=!0,pd(11))):(ud(e.j,e.m,n,"[Invalid Chunked Response]"),zd(e),Vd(e))}function Md(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Rd:(n=Number(t.substring(n,r)),isNaN(n)?Nd:(r+=1)+n>t.length?Rd:(t=t.substr(r,n),e.C=r+n,t))}function Ud(e){e.Y=Date.now()+e.P,Fd(e,e.P)}function Fd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=md(Rf(e.eb,e),t)}function jd(e){e.B&&(xf.clearTimeout(e.B),e.B=null)}function Vd(e){0==e.l.G||e.I||fv(e.l,e)}function zd(e){jd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Jh(e.W),ad(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function qd(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||_p(n.i,e)))if(n.I=e.N,!e.J&&_p(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;lv(n),Zp(n)}uv(n),pd(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=md(Rf(n.ab,n),6e3));if(1>=wp(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else dv(n,11)}else if((e.J||n.g==e)&&lv(n),!Vf(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Bf(l,"spdy")||Bf(l,"quic")||Bf(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(xp(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ep(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=vv(r,r.H?r.la:null,r.W),d.J){Ip(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(jd(p),Ud(p)),r.g=d}else ov(r);0<n.l.length&&nv(n)}else"stop"!=a[0]&&"close"!=a[0]||dv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?dv(n,7):Jp(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}hd(4)}catch(a){}}function Bd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Tf(e)||"string"===typeof e)Uf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Tf(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Tf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Hd(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Hd)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Wd(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Kd(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Kd(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Kd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(kf=Ed.prototype).setTimeout=function(e){this.P=e},kf.gb=function(e){e=e.target;var t=this.L;t&&3==Gp(e)?t.l():this.Ia(e)},kf.Ia=function(e){try{if(e==this.g)e:{var t=Gp(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||nh||this.g&&(this.h.h||this.g.ga()||Qp(this.g)))){this.I||4!=t||7==n||hd(8==n||0>=r?3:2),jd(this);var i=this.g.ba();this.N=i;t:if(Dd(this)){var a=Qp(this.g);e="";var o=a.length,u=4==Gp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){zd(this),Vd(this);var s="";break t}this.h.i=new xf.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vf(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,pd(12),zd(this),Vd(this);break e}ud(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qd(this,i)}this.U?(Ld(this,t,s),nh&&this.i&&3==t&&(id(this.V,this.W,"tick",this.fb),this.W.start())):(ud(this.j,this.m,s,null),qd(this,s)),4==t&&zd(this),this.i&&!this.I&&(4==t?fv(this.l,this):(this.i=!1,Ud(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,pd(12)):(this.o=0,pd(13)),zd(this),Vd(this)}}}catch(t){}},kf.fb=function(){if(this.g){var e=Gp(this.g),t=this.g.ga();this.C<t.length&&(jd(this),Ld(this,e,t),this.i&&4!=e&&Ud(this))}},kf.cancel=function(){this.I=!0,zd(this)},kf.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(hd(3),pd(17)),zd(this),this.o=2,Vd(this)):Fd(this,this.Y-e)},(kf=Hd.prototype).R=function(){Wd(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},kf.T=function(){return Wd(this),this.g.concat()},kf.get=function(e,t){return Kd(this.h,e)?this.h[e]:t},kf.set=function(e,t){Kd(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},kf.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Gd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qd(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Qd){this.g=void 0!==t?t:e.g,$d(this,e.j),this.s=e.s,Xd(this,e.i),Jd(this,e.m),this.l=e.l,t=e.h;var n=new lp;n.i=t.i,t.g&&(n.g=new Hd(t.g),n.h=t.h),Zd(this,n),this.o=e.o}else e&&(n=String(e).match(Gd))?(this.g=!!t,$d(this,n[1]||"",!0),this.s=np(n[2]||""),Xd(this,n[3]||"",!0),Jd(this,n[4]),this.l=np(n[5]||"",!0),Zd(this,n[6]||"",!0),this.o=np(n[7]||"")):(this.g=!!t,this.h=new lp(null,this.g))}function Yd(e){return new Qd(e)}function $d(e,t,n){e.j=n?np(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xd(e,t,n){e.i=n?np(t,!0):t}function Jd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Zd(e,t,n){t instanceof lp?(e.h=t,function(e,t){t&&!e.j&&(fp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(hp(this,t),pp(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=rp(t,sp)),e.h=new lp(t,e.g))}function ep(e,t,n){e.h.set(t,n)}function tp(e){return ep(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function np(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function rp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ip),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ip(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Qd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(rp(t,ap,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(rp(t,ap,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(rp(n,"/"==n.charAt(0)?up:op,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",rp(n,cp)),e.join("")};var ap=/[#\/\?@]/g,op=/[#\?:]/g,up=/[#\?]/g,sp=/[#\?@]/g,cp=/#/g;function lp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fp(e){e.g||(e.g=new Hd,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function hp(e,t){fp(e),t=vp(e,t),Kd(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Kd((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Wd(e)))}function dp(e,t){return fp(e),t=vp(e,t),Kd(e.g.h,t)}function pp(e,t,n){hp(e,t),0<n.length&&(e.i=null,e.g.set(vp(e,t),jf(n)),e.h+=n.length)}function vp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(kf=lp.prototype).add=function(e,t){fp(this),this.i=null,e=vp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},kf.forEach=function(e,t){fp(this),this.g.forEach((function(n,r){Uf(n,(function(n){e.call(t,n,r,this)}),this)}),this)},kf.T=function(){fp(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},kf.R=function(e){fp(this);var t=[];if("string"===typeof e)dp(this,e)&&(t=Ff(t,this.g.get(vp(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ff(t,e[n])}return t},kf.set=function(e,t){return fp(this),this.i=null,dp(this,e=vp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},kf.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},kf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var mp=In((function e(t,n){_n(this,e),this.h=t,this.g=n}));function yp(e){this.l=e||kp,xf.PerformanceNavigationTiming?e=0<(e=xf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(xf.g&&xf.g.Ea&&xf.g.Ea()&&xf.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gp,kp=10;function bp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function wp(e){return e.h?1:e.g?e.g.size:0}function _p(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function xp(e,t){e.g?e.g.add(t):e.h=t}function Ip(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Tp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Tn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return jf(e.i)}function Sp(){}function Ep(){this.g=new Sp}function Cp(e,t,n){var r=n||"";try{Bd(e,(function(e,n){var i=e;Sf(e)&&(i=Vh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(pA){throw t.push(r+"type="+encodeURIComponent("_badmap")),pA}}function Ap(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Np(e){this.l=e.$b||null,this.j=e.ib||!1}function Rp(e,t){Uh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Op,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yp.prototype.cancel=function(){if(this.i=Tp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Tn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Sp.prototype.stringify=function(e){return xf.JSON.stringify(e,void 0)},Sp.prototype.parse=function(e){return xf.JSON.parse(e,void 0)},Pf(Np,kd),Np.prototype.g=function(){return new Rp(this.l,this.j)},Np.prototype.i=(gp={},function(){return gp}),Pf(Rp,Uh);var Op=0;function Pp(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Dp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Lp(e)}function Lp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(kf=Rp.prototype).open=function(e,t){if(this.readyState!=Op)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Lp(this)},kf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||xf).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},kf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dp(this)),this.readyState=Op},kf.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lp(this)),this.g&&(this.readyState=3,Lp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof xf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pp(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},kf.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dp(this):Lp(this),3==this.readyState&&Pp(this)}},kf.Ua=function(e){this.g&&(this.response=this.responseText=e,Dp(this))},kf.Ta=function(e){this.g&&(this.response=e,Dp(this))},kf.ha=function(){this.g&&Dp(this)},kf.setRequestHeader=function(e,t){this.v.append(e,t)},kf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},kf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Mp=xf.JSON.parse;function Up(e){Uh.call(this),this.headers=new Hd,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fp,this.K=this.L=!1}Pf(Up,Uh);var Fp="",jp=/^https?$/i,Vp=["POST","PUT"];function zp(e){return"content-type"==e.toLowerCase()}function qp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Bp(e),Wp(e)}function Bp(e){e.D||(e.D=!0,Fh(e,"complete"),Fh(e,"error"))}function Hp(e){if(e.h&&"undefined"!=typeof _f&&(!e.C[1]||4!=Gp(e)||2!=e.ba()))if(e.v&&4==Gp(e))Zh(e.Fa,0,e);else if(Fh(e,"readystatechange"),4==Gp(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Gd)[1]||null;if(!a&&xf.self&&xf.self.location){var o=xf.self.location.protocol;a=o.substr(0,o.length-1)}i=!jp.test(a?a.toLowerCase():"")}t=i}if(t)Fh(e,"complete"),Fh(e,"success");else{e.m=6;try{var u=2<Gp(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Bp(e)}}finally{Wp(e)}}}function Wp(e,t){if(e.g){Kp(e);var n=e.g,r=e.C[0]?If:null;e.g=null,e.C=null,t||Fh(e,"ready");try{n.onreadystatechange=r}catch(pA){}}}function Kp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(xf.clearTimeout(e.A),e.A=null)}function Gp(e){return e.g?e.g.readyState:0}function Qp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Fp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Yp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Gf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ep(e,t,n))}function $p(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Xp(e){this.za=0,this.l=[],this.h=new od,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$p("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$p("baseRetryDelayMs",5e3,e),this.$a=$p("retryDelaySeedMs",1e4,e),this.Ya=$p("forwardChannelMaxRetries",2,e),this.ra=$p("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new yp(e&&e.concurrentRequestLimit),this.Ca=new Ep,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Jp(e){if(ev(e),3==e.G){var t=e.V++,n=Yd(e.F);ep(n,"SID",e.J),ep(n,"RID",t),ep(n,"TYPE","terminate"),iv(e,n),(t=new Ed(e,e.h,t,void 0)).K=2,t.v=tp(Yd(n)),n=!1,xf.navigator&&xf.navigator.sendBeacon&&(n=xf.navigator.sendBeacon(t.v.toString(),"")),!n&&xf.Image&&((new Image).src=t.v,n=!0),n||(t.g=mv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ud(t)}pv(e)}function Zp(e){e.g&&(sv(e),e.g.cancel(),e.g=null)}function ev(e){Zp(e),e.u&&(xf.clearTimeout(e.u),e.u=null),lv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&xf.clearTimeout(e.m),e.m=null)}function tv(e,t){e.l.push(new mp(e.Za++,t)),3==e.G&&nv(e)}function nv(e){bp(e.i)||e.m||(e.m=!0,Gh(e.Ha,e),e.C=0)}function rv(e,t){var n;n=t?t.m:e.V++;var r=Yd(e.F);ep(r,"SID",e.J),ep(r,"RID",n),ep(r,"AID",e.U),iv(e,r),e.o&&e.s&&Yp(r,e.o,e.s),n=new Ed(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=av(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),xp(e.i,n),Od(n,r,t)}function iv(e,t){e.j&&Bd({},(function(e,n){ep(t,n,e)}))}function av(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Rf(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Cp(l,o,"req"+c+"_")}catch(Qv){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ov(e){e.g||e.u||(e.Y=1,Gh(e.Ga,e),e.A=0)}function uv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=md(Rf(e.Ga,e),hv(e,e.A)),e.A++,!0)}function sv(e){null!=e.B&&(xf.clearTimeout(e.B),e.B=null)}function cv(e){e.g=new Ed(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Yd(e.oa);ep(t,"RID","rpc"),ep(t,"SID",e.J),ep(t,"CI",e.N?"0":"1"),ep(t,"AID",e.U),iv(e,t),ep(t,"TYPE","xmlhttp"),e.o&&e.s&&Yp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=tp(Yd(t)),n.s=null,n.U=!0,Pd(n,e)}function lv(e){null!=e.v&&(xf.clearTimeout(e.v),e.v=null)}function fv(e,t){var n=null;if(e.g==t){lv(e),sv(e),e.g=null;var r=2}else{if(!_p(e.i,t))return;n=t.D,Ip(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Fh(r=ld(),new vd(r,n,t,i)),nv(e)}else ov(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(wp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=md(Rf(e.Ha,e,t),hv(e,e.C)),e.C++,!0))}(e,t)||2==r&&uv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:dv(e,5);break;case 4:dv(e,10);break;case 3:dv(e,6);break;default:dv(e,2)}}function hv(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function dv(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Rf(e.jb,e);n||(n=new Qd("//www.google.com/images/cleardot.gif"),xf.location&&"http"==xf.location.protocol||$d(n,"https"),tp(n)),function(e,t){var n=new od;if(xf.Image){var r=new Image;r.onload=Of(Ap,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Of(Ap,n,r,"TestLoadImage: error",!1,t),r.onabort=Of(Ap,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Of(Ap,n,r,"TestLoadImage: timeout",!1,t),xf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else pd(2);e.G=0,e.j&&e.j.va(t),pv(e),ev(e)}function pv(e){e.G=0,e.I=-1,e.j&&(0==Tp(e.i).length&&0==e.l.length||(e.i.i.length=0,jf(e.l),e.l.length=0),e.j.ua())}function vv(e,t,n){var r=function(e){return e instanceof Qd?Yd(e):new Qd(e,void 0)}(n);if(""!=r.i)t&&Xd(r,t+"."+r.i),Jd(r,r.m);else{var i=xf.location;r=function(e,t,n,r){var i=new Qd(null,void 0);return e&&$d(i,e),t&&Xd(i,t),n&&Jd(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Gf(e.aa,(function(e,t){ep(r,t,e)})),t=e.D,n=e.sa,t&&n&&ep(r,t,n),ep(r,"VER",e.ma),iv(e,r),r}function mv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Up(new Np({ib:!0})):new Up(e.qa)).L=e.H,t}function yv(){}function gv(){if(eh&&!(10<=Number(dh)))throw Error("Environmental error: no available transport.")}function kv(e,t){Uh.call(this),this.g=new Xp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Vf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Vf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _v(this)}function bv(e){Id.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function wv(){Td.call(this),this.status=1}function _v(e){this.g=e}(kf=Up.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_d.g(),this.C=this.u?bd(this.u):bd(_d),this.g.onreadystatechange=Rf(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void qp(this,a)}e=n||"";var i=new Hd(this.headers);r&&Bd(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=zp,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=xf.FormData&&e instanceof xf.FormData,!(0<=Mf(Vp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Kp(this),0<this.B&&((this.K=function(e){return eh&&fh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rf(this.pa,this)):this.A=Zh(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){qp(this,a)}},kf.pa=function(){"undefined"!=typeof _f&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fh(this,"timeout"),this.abort(8))},kf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fh(this,"complete"),Fh(this,"abort"),Wp(this))},kf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wp(this,!0)),Up.Z.M.call(this)},kf.Fa=function(){this.s||(this.F||this.v||this.l?Hp(this):this.cb())},kf.cb=function(){Hp(this)},kf.ba=function(){try{return 2<Gp(this)?this.g.status:-1}catch(gp){return-1}},kf.ga=function(){try{return this.g?this.g.responseText:""}catch(gp){return""}},kf.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Mp(t)}},kf.Da=function(){return this.m},kf.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(kf=Xp.prototype).ma=8,kf.G=1,kf.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},kf.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ed(this,this.h,e,void 0),n=this.s;if(this.P&&(n?$f(n=Qf(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=av(this,t,r),ep(i=Yd(this.F),"RID",e),ep(i,"CVER",22),this.D&&ep(i,"X-HTTP-Session-Id",this.D),iv(this,i),this.o&&n&&Yp(i,this.o,n),xp(this.i,t),this.Ra&&ep(i,"TYPE","init"),this.ja?(ep(i,"$req",r),ep(i,"SID","null"),t.$=!0,Od(t,i,null)):Od(t,i,r),this.G=2}}else 3==this.G&&(e?rv(this,e):0==this.l.length||bp(this.i)||rv(this))},kf.Ga=function(){if(this.u=null,cv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=md(Rf(this.bb,this),e)}},kf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pd(10),Zp(this),cv(this))},kf.ab=function(){null!=this.v&&(this.v=null,Zp(this),uv(this),pd(19))},kf.jb=function(e){e?(this.h.info("Successfully pinged google.com"),pd(2)):(this.h.info("Failed to ping google.com"),pd(1))},(kf=yv.prototype).xa=function(){},kf.wa=function(){},kf.va=function(){},kf.ua=function(){},kf.Oa=function(){},gv.prototype.g=function(e,t){return new kv(e,t)},Pf(kv,Uh),kv.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Gh(Rf(e.hb,e,t))),pd(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=vv(e,null,e.W),nv(e)},kv.prototype.close=function(){Jp(this.g)},kv.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,tv(this.g,t)}else this.v?((t={}).__data__=Vh(e),tv(this.g,t)):tv(this.g,e)},kv.prototype.M=function(){this.g.j=null,delete this.j,Jp(this.g),delete this.g,kv.Z.M.call(this)},Pf(bv,Id),Pf(wv,Td),Pf(_v,yv),_v.prototype.xa=function(){Fh(this.g,"a")},_v.prototype.wa=function(e){Fh(this.g,new bv(e))},_v.prototype.va=function(e){Fh(this.g,new wv(e))},_v.prototype.ua=function(){Fh(this.g,"b")},gv.prototype.createWebChannel=gv.prototype.g,kv.prototype.send=kv.prototype.u,kv.prototype.open=kv.prototype.m,kv.prototype.close=kv.prototype.close,yd.NO_ERROR=0,yd.TIMEOUT=8,yd.HTTP_ERROR=6,gd.COMPLETE="complete",wd.EventType=xd,xd.OPEN="a",xd.CLOSE="b",xd.ERROR="c",xd.MESSAGE="d",Uh.prototype.listen=Uh.prototype.N,Up.prototype.listenOnce=Up.prototype.O,Up.prototype.getLastError=Up.prototype.La,Up.prototype.getLastErrorCode=Up.prototype.Da,Up.prototype.getStatus=Up.prototype.ba,Up.prototype.getResponseJson=Up.prototype.Qa,Up.prototype.getResponseText=Up.prototype.ga,Up.prototype.send=Up.prototype.ea;var xv=wf.createWebChannelTransport=function(){return new gv},Iv=wf.getStatEventTarget=function(){return ld()},Tv=wf.ErrorCode=yd,Sv=wf.EventType=gd,Ev=wf.Event=sd,Cv=wf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Av=wf.FetchXmlHttpFactory=Np,Nv=wf.WebChannel=wd,Rv=wf.XhrIo=Up,Ov="@firebase/firestore",Pv=function(){function e(t){_n(this,e),this.uid=t}return In(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Pv.UNAUTHENTICATED=new Pv(null),Pv.GOOGLE_CREDENTIALS=new Pv("google-credentials-uid"),Pv.FIRST_PARTY=new Pv("first-party-uid"),Pv.MOCK_USER=new Pv("mock-user");var Dv="9.6.1",Lv=new Ir("@firebase/firestore");function Mv(){return Lv.logLevel}function Uv(e){if(Lv.logLevel<=vr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vv);Lv.debug.apply(Lv,["Firestore (".concat(Dv,"): ").concat(e)].concat(lr(i)))}}function Fv(e){if(Lv.logLevel<=vr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vv);Lv.error.apply(Lv,["Firestore (".concat(Dv,"): ").concat(e)].concat(lr(i)))}}function jv(e){if(Lv.logLevel<=vr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vv);Lv.warn.apply(Lv,["Firestore (".concat(Dv,"): ").concat(e)].concat(lr(i)))}}function Vv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function zv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Dv,") INTERNAL ASSERTION FAILED: ")+e;throw Fv(t),new Error(t)}function qv(e,t){e||zv()}function Bv(e,t){return e}var Hv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wv=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return In(n)}(Pn(Error)),Kv=In((function e(){var t=this;_n(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Gv=In((function e(t,n){_n(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Qv=function(){function e(){_n(this,e)}return In(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Pv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Yv=function(){function e(t){_n(this,e),this.token=t,this.changeListener=null}return In(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),$v=function(){function e(t){_n(this,e),this.t=t,this.currentUser=Pv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return In(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Kv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Kv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Uv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Uv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Kv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Uv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(qv("string"==typeof n.accessToken),new Gv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return qv(null===e||"string"==typeof e),new Pv(e)}}]),e}(),Xv=In((function e(t,n,r){_n(this,e),this.type="FirstParty",this.user=Pv.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Jv=function(){function e(t,n,r){_n(this,e),this.h=t,this.l=n,this.m=r}return In(e,[{key:"getToken",value:function(){return Promise.resolve(new Xv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Pv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Zv=In((function e(t){_n(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),em=function(){function e(t){_n(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return In(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Uv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Uv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Uv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(qv("string"==typeof e.token),new Zv(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),tm=function(){function e(t,n){var r=this;_n(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return In(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function nm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}tm.I=-1;var rm=function(){function e(){_n(this,e)}return In(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=nm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function im(e,t){return e<t?-1:e>t?1:0}function am(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function om(e){return e+"\0"}var um=function(){function e(t,n){if(_n(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Wv(Hv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Wv(Hv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Wv(Hv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Wv(Hv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return In(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?im(this.nanoseconds,e.nanoseconds):im(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),sm=function(){function e(t){_n(this,e),this.timestamp=t}return In(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new um(0,0))}}]),e}();function cm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var hm=function(){function e(t,n,r){_n(this,e),void 0===n?n=0:n>t.length&&zv(),void 0===r?r=t.length-n:r>t.length-n&&zv(),this.segments=t,this.offset=n,this.len=r}return In(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),dm=function(e){En(n,e);var t=Rn(n);function n(){return _n(this,n),t.apply(this,arguments)}return In(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Wv(Hv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,lr(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(hm),pm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vm=function(e){En(n,e);var t=Rn(n);function n(){return _n(this,n),t.apply(this,arguments)}return In(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return pm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Wv(Hv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Wv(Hv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Wv(Hv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Wv(Hv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(hm),mm=function(){function e(t){_n(this,e),this.fields=t,t.sort(vm.comparator)}return In(e,[{key:"covers",value:function(e){var t,n=Tn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return am(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var ym=function(){function e(t){_n(this,e),this.binaryString=t}return In(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return im(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();ym.EMPTY_BYTE_STRING=new ym("");var gm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function km(e){if(qv(!!e),"string"==typeof e){var t=0,n=gm.exec(e);if(qv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:bm(e.seconds),nanos:bm(e.nanos)}}function bm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wm(e){return"string"==typeof e?ym.fromBase64String(e):ym.fromUint8Array(e)}function _m(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xm(e){var t=e.mapValue.fields.__previous_value__;return _m(t)?xm(t):t}function Im(e){var t=km(e.mapValue.fields.__local_write_time__.timestampValue);return new um(t.seconds,t.nanos)}function Tm(e){return null==e}function Sm(e){return 0===e&&1/e==-1/0}function Em(e){return"number"==typeof e&&Number.isInteger(e)&&!Sm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Cm=function(){function e(t){_n(this,e),this.path=t}return In(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===dm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(dm.fromString(t))}},{key:"fromName",value:function(t){return new e(dm.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return dm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new dm(t.slice()))}}]),e}();function Am(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_m(e)?4:10:zv()}function Nm(e,t){var n=Am(e);if(n!==Am(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Im(e).isEqual(Im(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=km(e.timestampValue),r=km(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wm(e.bytesValue).isEqual(wm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bm(e.geoPointValue.latitude)===bm(t.geoPointValue.latitude)&&bm(e.geoPointValue.longitude)===bm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bm(e.integerValue)===bm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=bm(e.doubleValue),r=bm(t.doubleValue);return n===r?Sm(n)===Sm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return am(e.arrayValue.values||[],t.arrayValue.values||[],Nm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cm(n)!==cm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Nm(n[i],r[i])))return!1;return!0}(e,t);default:return zv()}}function Rm(e,t){return void 0!==(e.values||[]).find((function(e){return Nm(e,t)}))}function Om(e,t){var n=Am(e),r=Am(t);if(n!==r)return im(n,r);switch(n){case 0:return 0;case 1:return im(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=bm(e.integerValue||e.doubleValue),r=bm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Pm(e.timestampValue,t.timestampValue);case 4:return Pm(Im(e),Im(t));case 5:return im(e.stringValue,t.stringValue);case 6:return function(e,t){var n=wm(e),r=wm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=im(n[i],r[i]);if(0!==a)return a}return im(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=im(bm(e.latitude),bm(t.latitude));return 0!==n?n:im(bm(e.longitude),bm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Om(n[i],r[i]);if(a)return a}return im(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=im(r[o],a[o]);if(0!==u)return u;var s=Om(n[r[o]],i[a[o]]);if(0!==s)return s}return im(r.length,a.length)}(e.mapValue,t.mapValue);default:throw zv()}}function Pm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return im(e,t);var n=km(e),r=km(t),i=im(n.seconds,r.seconds);return 0!==i?i:im(n.nanos,r.nanos)}function Dm(e){return Lm(e)}function Lm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=km(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Cm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Tn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Lm(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Tn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Lm(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):zv();var t,n}function Mm(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Um(e){return!!e&&"integerValue"in e}function Fm(e){return!!e&&"arrayValue"in e}function jm(e){return!!e&&"nullValue"in e}function Vm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zm(e){return!!e&&"mapValue"in e}function qm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return lm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=qm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=qm(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Bm=function(){function e(t){_n(this,e),this.value=t}return In(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!zm(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qm(t)}},{key:"setAll",value:function(e){var t=this,n=vm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=qm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());zm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Nm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];zm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){lm(t,(function(t,n){return e[t]=n}));var r,i=Tn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(qm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Hm(e){var t=[];return lm(e.fields,(function(e,n){var r=new vm([e]);if(zm(n)){var i=Hm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Tn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new mm(t)}var Wm=function(){function e(t,n,r,i,a){_n(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return In(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Bm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Bm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,sm.min(),Bm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Bm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Bm.empty(),2)}}]),e}(),Km=In((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;_n(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.R=null}));function Gm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Km(e,t,n,r,i,a,o)}function Qm(e){var t=Bv(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Dm(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Tm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=uy(t.startAt)),t.endAt&&(n+="|ub:",n+=uy(t.endAt)),t.R=n}return t.R}function Ym(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!cy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Nm(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fy(e.startAt,t.startAt)&&fy(e.endAt,t.endAt)}function $m(e){return Cm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Xm=function(e){En(n,e);var t=Rn(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return In(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Om(t,this.value)):null!==t&&Am(this.value)===Am(t)&&this.v(Om(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zv()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Jm(e,t,r):"array-contains"===t?new ny(e,r):"in"===t?new ry(e,r):"not-in"===t?new iy(e,r):"array-contains-any"===t?new ay(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Zm(e,n):new ey(e,n)}}]),n}(function(){return In((function e(){_n(this,e)}))}());var Jm=function(e){En(n,e);var t=Rn(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this,e,r,i)).key=Cm.fromName(i.referenceValue),a}return In(n,[{key:"matches",value:function(e){var t=Cm.comparator(e.key,this.key);return this.v(t)}}]),n}(Xm),Zm=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,"in",r)).keys=ty("in",r),i}return In(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Xm),ey=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,"not-in",r)).keys=ty("not-in",r),i}return In(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Xm);function ty(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Cm.fromName(e.referenceValue)}))}var ny=function(e){En(n,e);var t=Rn(n);function n(e,r){return _n(this,n),t.call(this,e,"array-contains",r)}return In(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Fm(t)&&Rm(t.arrayValue,this.value)}}]),n}(Xm),ry=function(e){En(n,e);var t=Rn(n);function n(e,r){return _n(this,n),t.call(this,e,"in",r)}return In(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Rm(this.value.arrayValue,t)}}]),n}(Xm),iy=function(e){En(n,e);var t=Rn(n);function n(e,r){return _n(this,n),t.call(this,e,"not-in",r)}return In(n,[{key:"matches",value:function(e){if(Rm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Rm(this.value.arrayValue,t)}}]),n}(Xm),ay=function(e){En(n,e);var t=Rn(n);function n(e,r){return _n(this,n),t.call(this,e,"array-contains-any",r)}return In(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Rm(t.value.arrayValue,e)}))}}]),n}(Xm),oy=In((function e(t,n){_n(this,e),this.position=t,this.before=n}));function uy(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Dm(e)})).join(","))}var sy=In((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";_n(this,e),this.field=t,this.dir=n}));function cy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ly(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Cm.comparator(Cm.fromName(o.referenceValue),n.key):Om(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function fy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Nm(e.position[n],t.position[n]))return!1;return!0}var hy=In((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;_n(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}));function dy(e,t,n,r,i,a,o,u){return new hy(e,t,n,r,i,a,o,u)}function py(e){return new hy(e)}function vy(e){return!Tm(e.limit)&&"F"===e.limitType}function my(e){return!Tm(e.limit)&&"L"===e.limitType}function yy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gy(e){var t,n=Tn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function ky(e){return null!==e.collectionGroup}function by(e){var t=Bv(e);if(null===t.S){t.S=[];var n=gy(t),r=yy(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new sy(n)),t.S.push(new sy(vm.keyField(),"asc"));else{var i,a=!1,o=Tn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new sy(vm.keyField(),s))}}}return t.S}function wy(e){var t=Bv(e);if(!t.D)if("F"===t.limitType)t.D=Gm(t.path,t.collectionGroup,by(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Tn(by(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new sy(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new oy(t.endAt.position,!t.endAt.before):null,s=t.startAt?new oy(t.startAt.position,!t.startAt.before):null;t.D=Gm(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.D}function _y(e,t,n){return new hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xy(e,t){return Ym(wy(e),wy(t))&&e.limitType===t.limitType}function Iy(e){return"".concat(Qm(wy(e)),"|lt:").concat(e.limitType)}function Ty(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Dm(t.value));var t})).join(", "),"]")),Tm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+uy(e.startAt)),e.endAt&&(t+=", endAt: "+uy(e.endAt)),"Target(".concat(t,")")}(wy(e)),"; limitType=").concat(e.limitType,")")}function Sy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Cm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Tn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Tn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!ly(e.startAt,by(e),t))&&(!e.endAt||!ly(e.endAt,by(e),t))}(e,t)}function Ey(e){return function(t,n){var r,i=!1,a=Tn(by(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Cy(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Cy(e,t,n){var r=e.field.isKeyField()?Cm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Om(r,i):zv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return zv()}}function Ay(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sm(t)?"-0":t}}function Ny(e){return{integerValue:""+e}}function Ry(e,t){return Em(t)?Ny(t):Ay(e,t)}var Oy=In((function e(){_n(this,e),this._=void 0}));function Py(e,t,n){return e instanceof My?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Uy?Fy(e,t):e instanceof jy?Vy(e,t):function(e,t){var n=Ly(e,t),r=qy(n)+qy(e.N);return Um(n)&&Um(e.N)?Ny(r):Ay(e.k,r)}(e,t)}function Dy(e,t,n){return e instanceof Uy?Fy(e,t):e instanceof jy?Vy(e,t):n}function Ly(e,t){return e instanceof zy?Um(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var My=function(e){En(n,e);var t=Rn(n);function n(){return _n(this,n),t.apply(this,arguments)}return In(n)}(Oy),Uy=function(e){En(n,e);var t=Rn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).elements=e,r}return In(n)}(Oy);function Fy(e,t){var n,r=By(t),i=Tn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Nm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var jy=function(e){En(n,e);var t=Rn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).elements=e,r}return In(n)}(Oy);function Vy(e,t){var n,r=By(t),i=Tn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Nm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var zy=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this)).k=e,i.N=r,i}return In(n)}(Oy);function qy(e){return bm(e.integerValue||e.doubleValue)}function By(e){return Fm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Hy=In((function e(t,n){_n(this,e),this.field=t,this.transform=n}));var Wy=In((function e(t,n){_n(this,e),this.version=t,this.transformResults=n})),Ky=function(){function e(t,n){_n(this,e),this.updateTime=t,this.exists=n}return In(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Gy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Qy=In((function e(){_n(this,e)}));function Yy(e,t,n){e instanceof eg?function(e,t,n){var r=e.value.clone(),i=rg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof tg?function(e,t,n){if(Gy(e.precondition,t)){var r=rg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ng(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function $y(e,t,n){e instanceof eg?function(e,t,n){if(Gy(e.precondition,t)){var r=e.value.clone(),i=ig(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Zy(t),r).setHasLocalMutations()}}(e,t,n):e instanceof tg?function(e,t,n){if(Gy(e.precondition,t)){var r=ig(e.fieldTransforms,n,t),i=t.data;i.setAll(ng(e)),i.setAll(r),t.convertToFoundDocument(Zy(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Gy(e.precondition,t)&&t.convertToNoDocument(sm.min())}(e,t)}function Xy(e,t){var n,r=null,i=Tn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Ly(a.transform,o||null);null!=u&&(null==r&&(r=Bm.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Jy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&am(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Uy&&t instanceof Uy||e instanceof jy&&t instanceof jy?am(e.elements,t.elements,Nm):e instanceof zy&&t instanceof zy?Nm(e.N,t.N):e instanceof My&&t instanceof My}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Zy(e){return e.isFoundDocument()?e.version:sm.min()}var eg=function(e){En(n,e);var t=Rn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return _n(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return In(n)}(Qy),tg=function(e){En(n,e);var t=Rn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return _n(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return In(n)}(Qy);function ng(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function rg(e,t,n){var r=new Map;qv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Dy(o,u,n[i]))}return r}function ig(e,t,n){var r,i=new Map,a=Tn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Py(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ag,og,ug=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return In(n)}(Qy),sg=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return In(n)}(Qy),cg=In((function e(t){_n(this,e),this.count=t}));function lg(e){switch(e){default:return zv();case Hv.CANCELLED:case Hv.UNKNOWN:case Hv.DEADLINE_EXCEEDED:case Hv.RESOURCE_EXHAUSTED:case Hv.INTERNAL:case Hv.UNAVAILABLE:case Hv.UNAUTHENTICATED:return!1;case Hv.INVALID_ARGUMENT:case Hv.NOT_FOUND:case Hv.ALREADY_EXISTS:case Hv.PERMISSION_DENIED:case Hv.FAILED_PRECONDITION:case Hv.ABORTED:case Hv.OUT_OF_RANGE:case Hv.UNIMPLEMENTED:case Hv.DATA_LOSS:return!0}}function fg(e){if(void 0===e)return Fv("GRPC error has no .code"),Hv.UNKNOWN;switch(e){case ag.OK:return Hv.OK;case ag.CANCELLED:return Hv.CANCELLED;case ag.UNKNOWN:return Hv.UNKNOWN;case ag.DEADLINE_EXCEEDED:return Hv.DEADLINE_EXCEEDED;case ag.RESOURCE_EXHAUSTED:return Hv.RESOURCE_EXHAUSTED;case ag.INTERNAL:return Hv.INTERNAL;case ag.UNAVAILABLE:return Hv.UNAVAILABLE;case ag.UNAUTHENTICATED:return Hv.UNAUTHENTICATED;case ag.INVALID_ARGUMENT:return Hv.INVALID_ARGUMENT;case ag.NOT_FOUND:return Hv.NOT_FOUND;case ag.ALREADY_EXISTS:return Hv.ALREADY_EXISTS;case ag.PERMISSION_DENIED:return Hv.PERMISSION_DENIED;case ag.FAILED_PRECONDITION:return Hv.FAILED_PRECONDITION;case ag.ABORTED:return Hv.ABORTED;case ag.OUT_OF_RANGE:return Hv.OUT_OF_RANGE;case ag.UNIMPLEMENTED:return Hv.UNIMPLEMENTED;case ag.DATA_LOSS:return Hv.DATA_LOSS;default:return zv()}}(og=ag||(ag={}))[og.OK=0]="OK",og[og.CANCELLED=1]="CANCELLED",og[og.UNKNOWN=2]="UNKNOWN",og[og.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",og[og.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",og[og.NOT_FOUND=5]="NOT_FOUND",og[og.ALREADY_EXISTS=6]="ALREADY_EXISTS",og[og.PERMISSION_DENIED=7]="PERMISSION_DENIED",og[og.UNAUTHENTICATED=16]="UNAUTHENTICATED",og[og.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",og[og.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",og[og.ABORTED=10]="ABORTED",og[og.OUT_OF_RANGE=11]="OUT_OF_RANGE",og[og.UNIMPLEMENTED=12]="UNIMPLEMENTED",og[og.INTERNAL=13]="INTERNAL",og[og.UNAVAILABLE=14]="UNAVAILABLE",og[og.DATA_LOSS=15]="DATA_LOSS";var hg=function(){function e(t,n){_n(this,e),this.comparator=t,this.root=n||pg.EMPTY}return In(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,pg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new dg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new dg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new dg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new dg(this.root,e,this.comparator,!0)}}]),e}(),dg=function(){function e(t,n,r,i){_n(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return In(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),pg=function(){function e(t,n,r,i,a){_n(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return In(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw zv();if(this.right.isRed())throw zv();var e=this.left.check();if(e!==this.right.check())throw zv();return e+(this.isRed()?0:1)}}]),e}();pg.EMPTY=null,pg.RED=!0,pg.BLACK=!1,pg.EMPTY=new(function(){function e(){_n(this,e),this.size=0}return In(e,[{key:"key",get:function(){throw zv()}},{key:"value",get:function(){throw zv()}},{key:"color",get:function(){throw zv()}},{key:"left",get:function(){throw zv()}},{key:"right",get:function(){throw zv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new pg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var vg=function(){function e(t){_n(this,e),this.comparator=t,this.data=new hg(this.comparator)}return In(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new mg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new mg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),mg=function(){function e(t){_n(this,e),this.iter=t}return In(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),yg=new hg(Cm.comparator);function gg(){return yg}var kg=new hg(Cm.comparator);function bg(){return kg}var wg=new hg(Cm.comparator);function _g(){return wg}var xg=new vg(Cm.comparator);function Ig(){for(var e=xg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Tg=new vg(im);function Sg(){return Tg}var Eg=function(){function e(t,n,r,i,a){_n(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return In(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Cg.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(sm.min(),r,Sg(),gg(),Ig())}}]),e}(),Cg=function(){function e(t,n,r,i,a){_n(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return In(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ym.EMPTY_BYTE_STRING,n,Ig(),Ig(),Ig())}}]),e}(),Ag=In((function e(t,n,r,i){_n(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),Ng=In((function e(t,n){_n(this,e),this.targetId=t,this.O=n})),Rg=In((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ym.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_n(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Og=function(){function e(){_n(this,e),this.M=0,this.L=Lg(),this.B=ym.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return In(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Ig(),t=Ig(),n=Ig();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:zv()}})),new Cg(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Lg()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Pg=function(){function e(t){_n(this,e),this.et=t,this.nt=new Map,this.st=gg(),this.it=Dg(),this.rt=new vg(im)}return In(e,[{key:"ot",value:function(e){var t,n=Tn(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=Tn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:zv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if($m(i))if(0===n){var a=new Cm(i.path);this.ct(t,a,Wm.newNoDocument(a,sm.min()))}else qv(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&$m(a.target)){var o=new Cm(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,Wm.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Ig();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Eg(e,n,this.rt,this.st,r);return this.st=gg(),this.it=Dg(),this.rt=new vg(im),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Og,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new vg(im),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Uv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Og),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Dg(){return new hg(Cm.comparator)}function Lg(){return new hg(Cm.comparator)}var Mg={asc:"ASCENDING",desc:"DESCENDING"},Ug={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fg=In((function e(t,n){_n(this,e),this.databaseId=t,this.C=n}));function jg(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vg(e,t){return e.C?t.toBase64():t.toUint8Array()}function zg(e,t){return jg(e,t.toTimestamp())}function qg(e){return qv(!!e),sm.fromTimestamp(function(e){var t=km(e);return new um(t.seconds,t.nanos)}(e))}function Bg(e,t){return function(e){return new dm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Hg(e){var t=dm.fromString(e);return qv(vk(t)),t}function Wg(e,t){return Bg(e.databaseId,t.path)}function Kg(e,t){var n=Hg(t);if(n.get(1)!==e.databaseId.projectId)throw new Wv(Hv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Wv(Hv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Cm($g(n))}function Gg(e,t){return Bg(e.databaseId,t)}function Qg(e){var t=Hg(e);return 4===t.length?dm.emptyPath():$g(t)}function Yg(e){return new dm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $g(e){return qv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Xg(e,t,n){return{name:Wg(e,t),fields:n.value.mapValue.fields}}function Jg(e,t,n){var r=Kg(e,t.name),i=qg(t.updateTime),a=new Bm({mapValue:{fields:t.fields}}),o=Wm.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Zg(e,t){return"found"in t?function(e,t){qv(!!t.found),t.found.name,t.found.updateTime;var n=Kg(e,t.found.name),r=qg(t.found.updateTime),i=new Bm({mapValue:{fields:t.found.fields}});return Wm.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){qv(!!t.missing),qv(!!t.readTime);var n=Kg(e,t.missing),r=qg(t.readTime);return Wm.newNoDocument(n,r)}(e,t):zv()}function ek(e,t){var n;if(t instanceof eg)n={update:Xg(e,t.key,t.value)};else if(t instanceof ug)n={delete:Wg(e,t.key)};else if(t instanceof tg)n={update:Xg(e,t.key,t.data),updateMask:pk(t.fieldMask)};else{if(!(t instanceof sg))return zv();n={verify:Wg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof My)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Uy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof zy)return{fieldPath:t.field.canonicalString(),increment:n.N};throw zv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:zg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:zv()}(e,t.precondition)),n}function tk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ky.updateTime(qg(e.updateTime)):void 0!==e.exists?Ky.exists(e.exists):Ky.none()}(t.currentDocument):Ky.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)qv("REQUEST_TIME"===t.setToServerValue),n=new My;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Uy(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new jy(i)}else"increment"in t?n=new zy(e,t.increment):zv();var a=vm.fromServerFormat(t.fieldPath);return new Hy(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Kg(e,t.update.name),a=new Bm({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new mm(t.map((function(e){return vm.fromServerFormat(e)})))}(t.updateMask);return new tg(i,a,o,n,r)}return new eg(i,a,n,r)}if(t.delete){var u=Kg(e,t.delete);return new ug(u,n)}if(t.verify){var s=Kg(e,t.verify);return new sg(s,n)}return zv()}function nk(e,t){return{documents:[Gg(e,t.path)]}}function rk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Gg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Gg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Vm(e.value))return{unaryFilter:{field:lk(e.field),op:"IS_NAN"}};if(jm(e.value))return{unaryFilter:{field:lk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vm(e.value))return{unaryFilter:{field:lk(e.field),op:"IS_NOT_NAN"}};if(jm(e.value))return{unaryFilter:{field:lk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lk(e.field),op:ck(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:lk(e.field),direction:sk(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Tm(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=ok(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ok(t.endAt)),n}function ik(e){var t=Qg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){qv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=ak(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new sy(fk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Tm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=uk(n.startAt));var l=null;return n.endAt&&(l=uk(n.endAt)),dy(t,i,u,o,s,"F",c,l)}function ak(e){return e?void 0!==e.unaryFilter?[dk(e)]:void 0!==e.fieldFilter?[hk(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return ak(e)})).reduce((function(e,t){return e.concat(t)})):zv():[]}function ok(e){return{before:e.before,values:e.position}}function uk(e){var t=!!e.before,n=e.values||[];return new oy(n,t)}function sk(e){return Mg[e]}function ck(e){return Ug[e]}function lk(e){return{fieldPath:e.canonicalString()}}function fk(e){return vm.fromServerFormat(e.fieldPath)}function hk(e){return Xm.create(fk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zv()}}(e.fieldFilter.op),e.fieldFilter.value)}function dk(e){switch(e.unaryFilter.op){case"IS_NAN":var t=fk(e.unaryFilter.field);return Xm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=fk(e.unaryFilter.field);return Xm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=fk(e.unaryFilter.field);return Xm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=fk(e.unaryFilter.field);return Xm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return zv()}}function pk(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function vk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function mk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=gk(t)),t=yk(e.get(n),t);return gk(t)}function yk(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function gk(e){return e+"\x01\x01"}function kk(e){var t=e.length;if(qv(t>=2),2===t)return qv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),dm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&zv(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:zv()}a=o+2}return new dm(r)}var bk=In((function e(t,n){_n(this,e),this.seconds=t,this.nanoseconds=n})),wk=In((function e(t,n,r){_n(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));wk.store="owner",wk.key="owner";var _k=In((function e(t,n,r){_n(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));_k.store="mutationQueues",_k.keyPath="userId";var xk=In((function e(t,n,r,i,a){_n(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));xk.store="mutations",xk.keyPath="batchId",xk.userMutationsIndex="userMutationsIndex",xk.userMutationsKeyPath=["userId","batchId"];var Ik=function(){function e(){_n(this,e)}return In(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,mk(t)]}},{key:"key",value:function(e,t,n){return[e,mk(t),n]}}]),e}();Ik.store="documentMutations",Ik.PLACEHOLDER=new Ik;var Tk=In((function e(t,n){_n(this,e),this.path=t,this.readTime=n})),Sk=In((function e(t,n){_n(this,e),this.path=t,this.version=n})),Ek=In((function e(t,n,r,i,a,o){_n(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Ek.store="remoteDocuments",Ek.readTimeIndex="readTimeIndex",Ek.readTimeIndexPath="readTime",Ek.collectionReadTimeIndex="collectionReadTimeIndex",Ek.collectionReadTimeIndexPath=["parentPath","readTime"];var Ck=In((function e(t){_n(this,e),this.byteSize=t}));Ck.store="remoteDocumentGlobal",Ck.key="remoteDocumentGlobalKey";var Ak=In((function e(t,n,r,i,a,o,u){_n(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));Ak.store="targets",Ak.keyPath="targetId",Ak.queryTargetsIndexName="queryTargetsIndex",Ak.queryTargetsKeyPath=["canonicalId","targetId"];var Nk=In((function e(t,n,r){_n(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Nk.store="targetDocuments",Nk.keyPath=["targetId","path"],Nk.documentTargetsIndex="documentTargetsIndex",Nk.documentTargetsKeyPath=["path","targetId"];var Rk=In((function e(t,n,r,i){_n(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Rk.key="targetGlobalKey",Rk.store="targetGlobal";var Ok=In((function e(t,n){_n(this,e),this.collectionId=t,this.parent=n}));Ok.store="collectionParents",Ok.keyPath=["collectionId","parent"];var Pk=In((function e(t,n,r,i){_n(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Pk.store="clientMetadata",Pk.keyPath="clientId";var Dk=In((function e(t,n,r){_n(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Dk.store="bundles",Dk.keyPath="bundleId";var Lk=In((function e(t,n,r){_n(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Lk.store="namedQueries",Lk.keyPath="name";var Mk=[_k.store,xk.store,Ik.store,Ek.store,Ak.store,wk.store,Rk.store,Nk.store].concat([Pk.store]).concat([Ck.store]).concat([Ok.store]).concat([Dk.store,Lk.store]),Uk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fk=function(){function e(){_n(this,e),this.onCommittedListeners=[]}return In(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),jk=function(){function e(t){var n=this;_n(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return In(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&zv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Tn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Vk=function(){function e(t,n){var r=this;_n(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new Kv,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Bk(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=Qk(e.target.error);r.It.reject(new Bk(t,n))}}return In(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Uv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Wk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Bk(n,t)}}}]),e}(),zk=function(){function e(t,n,r){_n(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt(qn())&&Fv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return In(e,[{key:"Ct",value:function(){var e=we(ke().mark((function e(t){var n=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Uv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Bk(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Wv(Hv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Wv(Hv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Bk(t,n))},i.onupgradeneeded=function(e){Uv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Uv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=we(ke().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ke().mark((function e(){var n,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Vk.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),jk.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Uv("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Uv("SimpleDb","Removing database:",e),Kk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!Qn())return!1;if(e.vt())return!0;var t=qn(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/TWT",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCZoXUGen81-754_pKNkLOs3Glk-ko0anQ",REACT_APP_APP_ID:"1:364410257588:web:e7fa422e97096164b897e1",REACT_APP_AUTH_DOMAIN:"twitter-94c4a.firebaseapp.com",REACT_APP_MESSAGIN_ID:"364410257588",REACT_APP_PROJECT_ID:"twitter-94c4a"})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),qk=function(){function e(t){_n(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return In(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return Kk(this.$t.delete())}}]),e}(),Bk=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,Hv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return In(n)}(Wv);function Hk(e){return"IndexedDbTransactionError"===e.name}var Wk=function(){function e(t){_n(this,e),this.store=t}return In(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Uv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Uv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Kk(n)}},{key:"add",value:function(e){return Uv("SimpleDb","ADD",this.store.name,e,e),Kk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Kk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Uv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Uv("SimpleDb","DELETE",this.store.name,e),Kk(this.store.delete(e))}},{key:"count",value:function(){return Uv("SimpleDb","COUNT",this.store.name),Kk(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Uv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new jk((function(n,r){t.onerror=function(e){var t=Qk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new jk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new qk(i),o=t(i.primaryKey,i.value,a);if(o instanceof jk){var u=o.catch((function(e){return a.done(),jk.reject(e)}));n.push(u)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return jk.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Kk(e){return new jk((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Qk(e.target.error);n(t)}}))}var Gk=!1;function Qk(e){var t=zk.Pt(qn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Wv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Gk||(Gk=!0,setTimeout((function(){throw r}),0)),r}}return e}var Yk=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return In(n)}(Fk);function $k(e,t){var n=Bv(e);return zk.Dt(n.Wt,t)}var Xk=function(){function e(t,n,r,i){_n(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return In(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Yy(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Tn(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&$y(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Tn(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&$y(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(sm.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ig())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&am(this.mutations,e.mutations,(function(e,t){return Jy(e,t)}))&&am(this.baseMutations,e.baseMutations,(function(e,t){return Jy(e,t)}))}}]),e}(),Jk=function(){function e(t,n,r,i){_n(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return In(e,null,[{key:"from",value:function(t,n,r){qv(t.mutations.length===r.length);for(var i=_g(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Zk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sm.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ym.EMPTY_BYTE_STRING;_n(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return In(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),eb=In((function e(t){_n(this,e),this.Gt=t}));function tb(e,t){if(t.document)return Jg(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Cm.fromSegments(t.noDocument.path),r=ob(t.noDocument.readTime),i=Wm.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Cm.fromSegments(t.unknownDocument.path),o=ob(t.unknownDocument.version);return Wm.newUnknownDocument(a,o)}return zv()}function nb(e,t,n){var r=rb(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Wg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:jg(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new Ek(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=ab(t.version),c=t.hasCommittedMutations;return new Ek(null,new Tk(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=ab(t.version);return new Ek(new Sk(l,f),null,null,!0,r,i)}return zv()}function rb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ib(e){var t=new um(e[0],e[1]);return sm.fromTimestamp(t)}function ab(e){var t=e.toTimestamp();return new bk(t.seconds,t.nanoseconds)}function ob(e){var t=new um(e.seconds,e.nanoseconds);return sm.fromTimestamp(t)}function ub(e,t){for(var n=(t.baseMutations||[]).map((function(t){return tk(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return tk(e.Gt,t)})),u=um.fromMillis(t.localWriteTimeMs);return new Xk(t.batchId,u,n,o)}function sb(e){var t,n,r=ob(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ob(e.lastLimboFreeSnapshotVersion):sm.min();return void 0!==e.query.documents?(qv(1===(n=e.query).documents.length),t=wy(py(Qg(n.documents[0])))):t=function(e){return wy(ik(e))}(e.query),new Zk(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ym.fromBase64String(e.resumeToken))}function cb(e,t){var n,r=ab(t.snapshotVersion),i=ab(t.lastLimboFreeSnapshotVersion);n=$m(t.target)?nk(e.Gt,t.target):rk(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Ak(t.targetId,Qm(t.target),r,a,t.sequenceNumber,i,n)}function lb(e){var t=ik({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_y(t,t.limit,"L"):t}var fb=function(){function e(){_n(this,e)}return In(e,[{key:"getBundleMetadata",value:function(e,t){return hb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ob(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return hb(e).put({bundleId:(n=t).id,createTime:ab(qg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return db(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:lb(t.bundledQuery),readTime:ob(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return db(e).put(function(e){return{name:e.name,readTime:ab(qg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function hb(e){return $k(e,Dk.store)}function db(e){return $k(e,Lk.store)}var pb=function(){function e(){_n(this,e),this.zt=new vb}return In(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),jk.resolve()}},{key:"getCollectionParents",value:function(e,t){return jk.resolve(this.zt.getEntries(t))}}]),e}(),vb=function(){function e(){_n(this,e),this.index={}}return In(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vg(dm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new vg(dm.comparator)).toArray()}}]),e}(),mb=function(){function e(){_n(this,e),this.Ht=new vb}return In(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:mk(i)};return yb(e).put(a)}return jk.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[om(t),""],!1,!0);return yb(e).Bt(r).next((function(e){var r,i=Tn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(kk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function yb(e){return $k(e,Ok.store)}var gb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kb=function(){function e(t,n,r){_n(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return In(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function bb(e,t,n){var r=e.store(xk.store),i=e.store(Ik.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.jt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){qv(1===u)})));var c,l=[],f=Tn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Ik.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return jk.waitFor(a).next((function(){return l}))}function wb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw zv();t=e.noDocument}return JSON.stringify(t).length}kb.DEFAULT_COLLECTION_PERCENTILE=10,kb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kb.DEFAULT=new kb(41943040,kb.DEFAULT_COLLECTION_PERCENTILE,kb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kb.DISABLED=new kb(-1,0,0);var _b=function(){function e(t,n,r,i){_n(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return In(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ib(e).jt({index:xk.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Tb(e),o=Ib(e);return o.add({}).next((function(u){qv("number"==typeof u);var s,c=new Xk(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ek(e.Gt,t)})),i=n.mutations.map((function(t){return ek(e.Gt,t)}));return new xk(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new vg((function(e,t){return im(e.canonicalString(),t.canonicalString())})),d=Tn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Ik.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Ik.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[u]=c.keys()})),jk.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Ib(e).get(t).next((function(e){return e?(qv(e.userId===n.userId),ub(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?jk.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Ib(e).jt({index:xk.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(qv(t.batchId>=r),a=ub(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ib(e).jt({index:xk.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ib(e).Bt(xk.userMutationsIndex,n).next((function(e){return e.map((function(e){return ub(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ik.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Tb(e).jt({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],h=kk(l);if(c===n.userId&&t.path.isEqual(h))return Ib(e).get(f).next((function(e){if(!e)throw zv();qv(e.userId===n.userId),a.push(ub(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vg(im),i=[];return t.forEach((function(t){var a=Ik.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Tb(e).jt({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=kk(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),jk.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Ik.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new vg(im);return Tb(e).jt({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],h=kk(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.te(e,u)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ib(e).get(t).next((function(e){if(null===e)throw zv();qv(e.userId===n.userId),r.push(ub(n.k,e))})))})),jk.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return bb(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),jk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return jk.resolve();var r=IDBKeyRange.lowerBound(Ik.prefixForUser(t.userId)),i=[];return Tb(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=kk(e[1]);i.push(a)}else r.done()})).next((function(){qv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return xb(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return Sb(e).get(this.userId).next((function(e){return e||new _k(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return qv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function xb(e,t,n){var r=Ik.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Tb(e).jt({range:a,Kt:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function Ib(e){return $k(e,xk.store)}function Tb(e){return $k(e,Ik.store)}function Sb(e){return $k(e,_k.store)}var Eb=function(){function e(t){_n(this,e),this.se=t}return In(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),Cb=function(){function e(t,n){_n(this,e),this.referenceDelegate=t,this.k=n}return In(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new Eb(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return sm.fromTimestamp(new um(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ab(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return qv(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ab(e).jt((function(o,u){var s=sb(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return jk.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ab(e).jt((function(e,n){var r=sb(n);t(r)}))}},{key:"oe",value:function(e){return Nb(e).get(Rk.key).next((function(e){return qv(null!==e),e}))}},{key:"ae",value:function(e,t){return Nb(e).put(Rk.key,t)}},{key:"ce",value:function(e,t){return Ab(e).put(cb(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Qm(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ab(e).jt({range:r,index:Ak.queryTargetsIndexName},(function(e,n,r){var a=sb(n);Ym(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Rb(e);return t.forEach((function(t){var o=mk(t.path);i.push(a.put(new Nk(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),jk.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Rb(e);return jk.forEach(t,(function(t){var a=mk(t.path);return jk.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Rb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Rb(e),i=Ig();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=kk(e[1]),a=new Cm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=mk(t.path),r=IDBKeyRange.bound([n],[om(n)],!1,!0),i=0;return Rb(e).jt({index:Nk.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Ab(e).get(t).next((function(e){return e?sb(e):null}))}}]),e}();function Ab(e){return $k(e,Ak.store)}function Nb(e){return $k(e,Rk.store)}function Rb(e){return $k(e,Nk.store)}function Ob(e){return Pb.apply(this,arguments)}function Pb(){return Pb=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Hv.FAILED_PRECONDITION&&t.message===Uk){e.next=2;break}throw t;case 2:Uv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Pb.apply(this,arguments)}function Db(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=im(r,o);return 0===c?im(i,u):c}var Lb=function(){function e(t){_n(this,e),this.he=t,this.buffer=new vg(Db),this.le=0}return In(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Db(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Mb=function(){function e(t,n){_n(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return In(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Uv("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,we(ke().mark((function n(){return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Hk(n.t0)){n.next=12;break}Uv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Ob(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Ub=function(){function e(t,n){_n(this,e),this.ge=t,this.params=n}return In(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return jk.resolve(tm.I);var r=new Lb(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Uv("LruGarbageCollector","Garbage collection skipped; disabled"),jk.resolve(gb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Uv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),gb):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Uv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Mv()<=vr.DEBUG&&Uv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),jk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Fb=function(){function e(t,n){_n(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ub(e,t)}(this,n)}return In(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return jb(e,n)}},{key:"removeReference",value:function(e,t,n){return jb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return jb(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return Sb(e).Qt((function(r){return xb(e,r,t).next((function(e){return e&&(n=!0),jk.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,u){if(u<=t){var s=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),Rb(e).delete([0,mk(o.path)])}))}));i.push(s)}})).next((function(){return jk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return jb(e,t)}},{key:"Ie",value:function(e,t){var n,r=Rb(e),i=tm.I;return r.jt({index:Nk.documentTargetsIndex},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==tm.I&&t(new Cm(kk(n)),i),i=c,n=u):i=tm.I})).next((function(){i!==tm.I&&t(new Cm(kk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function jb(e,t){return Rb(e).put(function(e,t){return new Nk(0,mk(e.path),t)}(t,e.currentSequenceNumber))}var Vb=function(){function e(t,n){_n(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return In(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Tn(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){lm(this.inner,(function(t,n){var r,i=Tn(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return fm(this.inner)}}]),e}(),zb=function(){function e(){_n(this,e),this.changes=new Vb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return In(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:sm.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Wm.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?jk.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),qb=function(){function e(t,n){_n(this,e),this.k=t,this.Jt=n}return In(e,[{key:"addEntry",value:function(e,t,n){return Wb(e).put(Kb(t),n)}},{key:"removeEntry",value:function(e,t){var n=Wb(e),r=Kb(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Wb(e).get(Kb(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return Wb(e).get(Kb(t)).next((function(e){return{document:n.Pe(t,e),size:wb(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=gg();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=gg(),i=new hg(Cm.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,wb(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return jk.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Wb(e).jt({range:r},(function(e,t,r){for(var o=Cm.fromSegments(e);a&&Cm.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=gg(),a=t.path.length+1,o={};if(n.isEqual(sm.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=rb(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=Ek.collectionReadTimeIndex}return Wb(e).jt(o,(function(e,n,o){if(e.length===a){var u=tb(r.k,n);t.path.isPrefixOf(u.key.path)?Sy(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Bb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Hb(e).get(Ck.key).next((function(e){return qv(!!e),e}))}},{key:"Re",value:function(e,t){return Hb(e).put(Ck.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=tb(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(sm.min()))return n}return Wm.newInvalidDocument(e)}}]),e}(),Bb=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Vb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return In(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new vg((function(e,t){return im(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Ce.get(a);if(o.document.isValidDocument()){var s=nb(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=wb(s);r+=c-u,n.push(t.De.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=nb(t.De.k,Wm.newNoDocument(a,sm.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),jk.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(zb);function Hb(e){return $k(e,Ck.store)}function Wb(e){return $k(e,Ek.store)}function Kb(e){return e.path.toArray()}var Gb=function(){function e(t){_n(this,e),this.k=t}return In(e,[{key:"Nt",value:function(e,t,n,r){var i=this;qv(n<r&&n>=0&&r<=11);var a=new Vk("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(wk.store)}(e),function(e){e.createObjectStore(_k.store,{keyPath:_k.keyPath}),e.createObjectStore(xk.store,{keyPath:xk.keyPath,autoIncrement:!0}).createIndex(xk.userMutationsIndex,xk.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Ik.store)}(e),Qb(e),function(e){e.createObjectStore(Ek.store)}(e));var o=jk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Nk.store),e.deleteObjectStore(Ak.store),e.deleteObjectStore(Rk.store)}(e),Qb(e)),o=o.next((function(){return function(e){var t=e.store(Rk.store),n=new Rk(0,0,sm.min().toTimestamp(),0);return t.put(Rk.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(xk.store).Bt().next((function(n){e.deleteObjectStore(xk.store),e.createObjectStore(xk.store,{keyPath:xk.keyPath,autoIncrement:!0}).createIndex(xk.userMutationsIndex,xk.userMutationsKeyPath,{unique:!0});var r=t.store(xk.store),i=n.map((function(e){return r.put(e)}));return jk.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Pk.store,{keyPath:Pk.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Ck.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Ek.store);t.createIndex(Ek.readTimeIndex,Ek.readTimeIndexPath,{unique:!1}),t.createIndex(Ek.collectionReadTimeIndex,Ek.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Dk.store,{keyPath:Dk.keyPath})}(e),function(e){e.createObjectStore(Lk.store,{keyPath:Lk.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(Ek.store).jt((function(e,n){t+=wb(n)})).next((function(){var n=new Ck(t);return e.store(Ck.store).put(Ck.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(_k.store),r=e.store(xk.store);return n.Bt().next((function(n){return jk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(xk.userMutationsIndex,i).next((function(r){return jk.forEach(r,(function(r){qv(r.userId===n.userId);var i=ub(t.k,r);return bb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(Nk.store),n=e.store(Ek.store);return e.store(Rk.store).get(Rk.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new dm(n),o=function(e){return[0,mk(e)]}(a);r.push(t.get(o).next((function(n){return n?jk.resolve():function(n){return t.put(new Nk(0,mk(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return jk.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(Ok.store,{keyPath:Ok.keyPath});var n=t.store(Ok.store),r=new vb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:mk(i)})}};return t.store(Ek.store).jt({Kt:!0},(function(e,t){var n=new dm(e);return i(n.popLast())})).next((function(){return t.store(Ik.store).jt({Kt:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],kk(r));return i(a.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(Ak.store);return n.jt((function(e,r){var i=sb(r),a=cb(t.k,i);return n.put(a)}))}}]),e}();function Qb(e){e.createObjectStore(Nk.store,{keyPath:Nk.keyPath}).createIndex(Nk.documentTargetsIndex,Nk.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ak.store,{keyPath:Ak.keyPath}).createIndex(Ak.queryTargetsIndexName,Ak.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Rk.store)}var Yb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$b=function(){function e(t,n,r,i,a,o,u,s,c,l){if(_n(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=u,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new Wv(Hv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fb(this,i),this.Ge=n+"main",this.k=new eb(s),this.ze=new zk(this.Ge,11,new Gb(this.k)),this.He=new Cb(this.referenceDelegate,this.k),this.Jt=new mb,this.Je=function(e,t){return new qb(e,t)}(this.k,this.Jt),this.Ye=new fb,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Fv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return In(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Wv(Hv.FAILED_PRECONDITION,Yb);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new tm(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=we(ke().mark((function n(r){return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=we(ke().mark((function t(n){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Jb(t).put(new Pk(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(Hk(t))return Uv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Uv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return Xb(e).get(wk.key).next((function(e){return jk.resolve(t.un(e))}))}},{key:"hn",value:function(e){return Jb(e).delete(this.clientId)}},{key:"ln",value:function(){var e=we(ke().mark((function e(){var t,n,r,i,a=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=$k(e,Pk.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return jk.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=Tn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?jk.resolve(!0):Xb(e).get(wk.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Wv(Hv.FAILED_PRECONDITION,Yb);return!1}}return!(!t.networkEnabled||!t.inForeground)||Jb(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Uv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=we(ke().mark((function e(){var t=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[wk.store,Pk.store],(function(e){var n=new Yk(e,tm.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Jb(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return _b.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Uv("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Mk,(function(a){return i=new Yk(a,r.Be?r.Be.next():tm.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Fv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new Wv(Hv.FAILED_PRECONDITION,Uk);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return Xb(e).get(wk.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Wv(Hv.FAILED_PRECONDITION,Yb)}))}},{key:"cn",value:function(e){var t=new wk(this.clientId,this.allowTabSynchronization,Date.now());return Xb(e).put(wk.key,t)}},{key:"an",value:function(e){var t=this,n=Xb(e);return n.get(wk.key).next((function(e){return t.un(e)?(Uv("IndexedDbPersistence","Releasing primary lease."),n.delete(wk.key)):jk.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Fv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!Hn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Uv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Fv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Pf){Fv("Failed to set zombie client id.",Pf)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Pf){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return zk.bt()}}]),e}();function Xb(e){return $k(e,wk.store)}function Jb(e){return $k(e,Pk.store)}function Zb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var ew=In((function e(t,n){_n(this,e),this.progress=t,this.In=n})),tw=function(){function e(t,n,r){_n(this,e),this.Je=t,this.An=n,this.Jt=r}return In(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=Tn(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=Tn(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Cm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):ky(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Cm(t)).next((function(e){var t=bg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=bg();return this.Jt.getCollectionParents(e,i).next((function(o){return jk.forEach(o,(function(o){var u=function(e,t){return new hy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=Tn(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=Tn(o.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s.key,l=r.get(c);null==l&&(l=Wm.newInvalidDocument(c),r=r.insert(c,l)),$y(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Sy(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Ig(),a=Tn(t);try{for(a.s();!(r=a.n()).done;){var o,u=Tn(r.value.mutations);try{for(u.s();!(o=u.n()).done;){var s=o.value;s instanceof tg&&null===n.get(s.key)&&(i=i.add(s.key))}}catch(l){u.e(l)}finally{u.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),nw=function(){function e(t,n,r,i){_n(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return In(e,null,[{key:"$n",value:function(t,n){var r,i=Ig(),a=Ig(),o=Tn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),rw=function(){function e(){_n(this,e)}return In(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(sm.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(vy(t)||my(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(Mv()<=vr.DEBUG&&Uv("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ty(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new vg(Ey(e));return t.forEach((function(t,r){Sy(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return Mv()<=vr.DEBUG&&Uv("QueryEngine","Using full collection scan to execute query:",Ty(t)),this.On.getDocumentsMatchingQuery(e,t,sm.min())}}]),e}(),iw=function(){function e(t,n,r,i){_n(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new hg(im),this.Kn=new Vb((function(e){return Qm(e)}),Ym),this.jn=sm.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new tw(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return In(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function aw(e,t,n,r){return new iw(e,t,n,r)}function ow(e,t){return uw.apply(this,arguments)}function uw(){return uw=we(ke().mark((function e(t,n){var r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bv(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new tw(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=Ig(),s=Tn(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;i.push(c.batchId);var l,f=Tn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Tn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Tn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,u).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),uw.apply(this,arguments)}function sw(e,t){var n=Bv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=jk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);qv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function cw(e){var t=Bv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function lw(e,t){var n=Bv(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var u=i.get(a);if(u){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return qv(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var u=gg();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(fw(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(sm.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return jk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function fw(e,t,n,r,i){var a=Ig();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=gg();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(sm.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):Uv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function hw(e,t){var n=Bv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function dw(e,t){var n=Bv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,jk.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Zk(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function pw(e,t,n){return vw.apply(this,arguments)}function vw(){return vw=we(ke().mark((function e(t,n,r){var i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Bv(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Hk(e.t1)){e.next=12;break}throw e.t1;case 12:Uv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),vw.apply(this,arguments)}function mw(e,t,n){var r=Bv(e),i=sm.min(),a=Ig();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Bv(e),i=r.Kn.get(n);return void 0!==i?jk.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,wy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:sm.min(),n?a:Ig())})).next((function(e){return{documents:e,zn:a}}))}))}function yw(e,t){var n=Bv(e),r=Bv(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function gw(e){var t=Bv(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Bv(e),i=gg(),a=rb(n),o=Wb(t),u=IDBKeyRange.lowerBound(a,!0);return o.jt({index:Ek.readTimeIndex,range:u},(function(e,t){var n=tb(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:ib(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function kw(e){return bw.apply(this,arguments)}function bw(){return bw=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bv(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Wb(e),n=sm.min();return t.jt({index:Ek.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=ib(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),bw.apply(this,arguments)}function ww(e,t,n,r){return _w.apply(this,arguments)}function _w(){return _w=we(ke().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Bv(t),o=Ig(),u=gg(),s=_g(),c=Tn(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),u=u.insert(h,n.Jn(f)),s=s.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,dw(a,function(e){return wy(py(dm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return fw(e,d,u,sm.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),_w.apply(this,arguments)}function xw(e,t){return Iw.apply(this,arguments)}function Iw(){return Iw=we(ke().mark((function e(t,n){var r,i,a,o=arguments;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ig(),e.next=3,dw(t,wy(lb(n.bundledQuery)));case 3:return i=e.sent,a=Bv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=qg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(ym.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}var Tw=function(){function e(t){_n(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return In(e,[{key:"getBundleMetadata",value:function(e,t){return jk.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:qg(n.createTime)}),jk.resolve()}},{key:"getNamedQuery",value:function(e,t){return jk.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:lb(e.bundledQuery),readTime:qg(e.readTime)}}(t)),jk.resolve()}}]),e}(),Sw=function(){function e(){_n(this,e),this.ts=new vg(Ew.es),this.ns=new vg(Ew.ss)}return In(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ew(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new Ew(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Cm(new dm([])),r=new Ew(n,e),i=new Ew(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Cm(new dm([])),n=new Ew(t,e),r=new Ew(t,e+1),i=Ig();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ew(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ew=function(){function e(t,n){_n(this,e),this.key=t,this.fs=n}return In(e,null,[{key:"es",value:function(e,t){return Cm.comparator(e.key,t.key)||im(e.fs,t.fs)}},{key:"ss",value:function(e,t){return im(e.fs,t.fs)||Cm.comparator(e.key,t.key)}}]),e}(),Cw=function(){function e(t,n){_n(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new vg(Ew.es)}return In(e,[{key:"checkEmpty",value:function(e){return jk.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Xk(i,t,n,r);this.An.push(a);var o,u=Tn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ws=this.ws.add(new Ew(s.key,i)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return jk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return jk.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return jk.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return jk.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return jk.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ew(t,0),i=new Ew(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),jk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vg(im);return t.forEach((function(e){var t=new Ew(e,0),i=new Ew(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),jk.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Cm.isDocumentKey(i)||(i=i.child(""));var a=new Ew(new Cm(i),0),o=new vg(im);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),jk.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;qv(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return jk.forEach(t.mutations,(function(i){var a=new Ew(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ew(t,0),r=this.ws.firstAfterOrEqual(n);return jk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,jk.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Aw=function(){function e(t,n){_n(this,e),this.Jt=t,this.Ts=n,this.docs=new hg(Cm.comparator),this.size=0}return In(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return jk.resolve(n?n.document.clone():Wm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=gg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Wm.newInvalidDocument(e))})),jk.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=gg(),i=new Cm(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||Sy(t,c)&&(r=r.insert(c.key,c.clone()))}return jk.resolve(r)}},{key:"Es",value:function(e,t){return jk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Nw(this)}},{key:"getSize",value:function(e){return jk.resolve(this.size)}}]),e}(),Nw=function(e){En(n,e);var t=Rn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).De=e,r}return In(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),jk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(zb),Rw=function(){function e(t){_n(this,e),this.persistence=t,this.Is=new Vb((function(e){return Qm(e)}),Ym),this.lastRemoteSnapshotVersion=sm.min(),this.highestTargetId=0,this.As=0,this.Rs=new Sw,this.targetCount=0,this.Ps=Eb.ie()}return In(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),jk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return jk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return jk.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),jk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),jk.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new Eb(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,jk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),jk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,jk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),jk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return jk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return jk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),jk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),jk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),jk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return jk.resolve(n)}},{key:"containsKey",value:function(e,t){return jk.resolve(this.Rs.containsKey(t))}}]),e}(),Ow=function(){function e(t,n){var r=this;_n(this,e),this.bs={},this.Be=new tm(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Rw(this),this.Jt=new pb,this.Je=function(e,t){return new Aw(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new eb(n),this.Ye=new Tw(this.k)}return In(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new Cw(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Uv("MemoryPersistence","Starting transaction:",e);var i=new Pw(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return jk.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Pw=function(e){En(n,e);var t=Rn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return In(n)}(Fk),Dw=function(){function e(t){_n(this,e),this.persistence=t,this.Cs=new Sw,this.Ns=null}return In(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw zv()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),jk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),jk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),jk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jk.forEach(this.xs,(function(r){var i=Cm.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return jk.or([function(){return jk.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Lw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Mw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Uw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Fw=function(){function e(t,n,r,i){_n(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return In(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Wv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Fv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),jw=function(){function e(t,n,r){_n(this,e),this.targetId=t,this.state=n,this.error=r}return In(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Wv(i.error.code,i.error.message))),a?new e(t,i.state,r):(Fv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Vw=function(){function e(t,n){_n(this,e),this.clientId=t,this.activeTargetIds=n}return In(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Sg(),o=0;i&&o<r.activeTargetIds.length;++o)i=Em(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Fv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),zw=function(){function e(t,n){_n(this,e),this.clientId=t,this.onlineState=n}return In(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Fv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),qw=function(){function e(){_n(this,e),this.activeTargetIds=Sg()}return In(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Bw=function(){function e(t,n,r,i,a){_n(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new hg(im),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Lw(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new qw),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return In(e,[{key:"start",value:function(){var e=we(ke().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=Tn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Lw(this.persistenceKey,i)))&&(o=Vw.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(u=this.storage.getItem(this.Js))&&(s=this.Zs(u))&&this.ti(s),c=Tn(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Uw(this.persistenceKey,e));if(n){var r=jw.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Uw(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Uv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Uv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Uv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Uv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Fv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(we(ke().mark((function e(){var r,i,a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(u));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}s=function(e){var t=tm.I;if(null!=e)try{var n=JSON.parse(e);qv("number"==typeof n),t=n}catch(e){Fv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==tm.I&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new Fw(this.currentUser,e,t,n),i=Mw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=Mw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Uw(this.persistenceKey,e),i=new jw(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return Vw.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Fw.Fs(new Pv(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return jw.Fs(r,t)}},{key:"Zs",value:function(e){return zw.Fs(e)}},{key:"fi",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Uv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.yi(o,u).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=Sg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Hw=function(){function e(){_n(this,e),this.pi=new qw,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return In(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new qw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Ww=function(){function e(){_n(this,e)}return In(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Kw=function(){function e(){var t=this;_n(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return In(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Uv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Tn(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){Uv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Tn(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Gw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Qw=function(){function e(t){_n(this,e),this.Vi=t.Vi,this.Si=t.Si}return In(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Yw=function(e){En(n,e);var t=Rn(n);function n(e){var r;return _n(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return In(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Rv;o.listenOnce(Sv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Tv.NO_ERROR:var t=o.getResponseJson();Uv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Tv.TIMEOUT:Uv("Connection",'RPC "'+e+'" timed out'),a(new Wv(Hv.DEADLINE_EXCEEDED,"Request time out"));break;case Tv.HTTP_ERROR:var n=o.getStatus();if(Uv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Hv).indexOf(t)>=0?t:Hv.UNKNOWN}(r.status);a(new Wv(u,r.message))}else a(new Wv(Hv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Wv(Hv.UNAVAILABLE,"Connection failed."));break;default:zv()}}finally{Uv("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=xv(),a=Iv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Av({})),this.qi(o.initMessageHeaders,t,n),Bn()||Kn()||qn().indexOf("Electron/")>=0||Gn()||qn().indexOf("MSAppHost/")>=0||Wn()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Uv("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Qw({Vi:function(e){l?Uv("Connection","Not sending because WebChannel is closed:",e):(c||(Uv("Connection","Opening WebChannel transport."),s.open(),c=!0),Uv("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Nv.EventType.OPEN,(function(){l||Uv("Connection","WebChannel transport opened.")})),h(s,Nv.EventType.CLOSE,(function(){l||(l=!0,Uv("Connection","WebChannel transport closed"),f.Fi())})),h(s,Nv.EventType.ERROR,(function(e){l||(l=!0,jv("Connection","WebChannel transport errored:",e),f.Fi(new Wv(Hv.UNAVAILABLE,"The operation could not be completed")))})),h(s,Nv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];qv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Uv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ag[e];if(void 0!==t)return fg(t)}(a),u=i.message;void 0===o&&(o=Hv.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new Wv(o,u)),s.close()}else Uv("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,Ev.STAT_EVENT,(function(e){e.stat===Cv.PROXY?Uv("Connection","Detected buffering proxy"):e.stat===Cv.NOPROXY&&Uv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){_n(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return In(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Uv("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Uv("RestConnection","Received: ",e),e}),(function(t){throw jv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Dv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=Gw[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function $w(){return"undefined"!=typeof window?window:null}function Xw(){return"undefined"!=typeof document?document:null}function Jw(e){return new Fg(e,!0)}var Zw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;_n(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return In(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Uv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),e_=function(){function e(t,n,r,i,a,o,u,s){_n(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Zw(t,n)}return In(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Hv.RESOURCE_EXHAUSTED?(Fv(n.toString()),Fv("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Hv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new Wv(Hv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(we(ke().mark((function t(){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Uv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(Uv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),t_=function(e){En(n,e);var t=Rn(n);function n(e,r,i,a,o,u){var s;return _n(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).k=o,s}return In(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:zv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(qv(void 0===t||"string"==typeof t),ym.fromBase64String(t||"")):(qv(void 0===t||t instanceof Uint8Array),ym.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Hv.UNKNOWN:fg(e.code);return new Wv(t,e.message||"")}(o);n=new Rg(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Kg(e,s.document.name),l=qg(s.document.updateTime),f=new Bm({mapValue:{fields:s.document.fields}}),h=Wm.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Ag(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Kg(e,v.document),y=v.readTime?qg(v.readTime):sm.min(),g=Wm.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Ag([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Kg(e,b.document),_=b.removedTargetIds||[];n=new Ag([],_,w,null)}else{if(!("filter"in t))return zv();t.filter;var x=t.filter;x.targetId;var I=x.count||0,T=new cg(I),S=x.targetId;n=new Ng(S,T)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return sm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?sm.min():t.readTime?qg(t.readTime):sm.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=Yg(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=$m(r)?{documents:nk(e,r)}:{query:rk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Vg(e,t.resumeToken):t.snapshotVersion.compareTo(sm.min())>0&&(n.readTime=jg(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Yg(this.k),t.removeTarget=e,this.gr(t)}}]),n}(e_),n_=function(e){En(n,e);var t=Rn(n);function n(e,r,i,a,o,u){var s;return _n(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).k=o,s.Vr=!1,s}return In(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,ui(Cn(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(qv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(qv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?qg(e.updateTime):qg(t);return n.isEqual(sm.min())&&(n=qg(t)),new Wy(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=qg(e.commitTime);return this.listener.Cr(n,t)}return qv(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Yg(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ek(t.k,e)}))};this.gr(n)}}]),n}(e_),r_=function(e){En(n,e);var t=Rn(n);function n(e,r,i,a){var o;return _n(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return In(n,[{key:"Fr",value:function(){if(this.$r)throw new Wv(Hv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.ir.Bi(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Hv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Wv(Hv.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.ir.ji(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Hv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Wv(Hv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return In((function e(){_n(this,e)}))}()),i_=function(){function e(t,n){_n(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return In(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Fv(t),this.Lr=!1):Uv("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),a_=In((function e(t,n,r,i,a){var o=this;_n(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=m_(o),!e.t0){e.next=5;break}return Uv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Bv(t)).Gr.add(4),e.next=4,s_(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,o_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new i_(r,i)}));function o_(e){return u_.apply(this,arguments)}function u_(){return u_=we(ke().mark((function e(t){var n,r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m_(t)){e.next=18;break}n=Tn(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),u_.apply(this,arguments)}function s_(e){return c_.apply(this,arguments)}function c_(){return c_=we(ke().mark((function e(t){var n,r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Tn(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),c_.apply(this,arguments)}function l_(e,t){var n=Bv(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),v_(n)?p_(n):B_(n).lr()&&h_(n,t))}function f_(e,t){var n=Bv(e),r=B_(n);n.Wr.delete(t),r.lr()&&d_(n,t),0===n.Wr.size&&(r.lr()?r._r():m_(n)&&n.Jr.set("Unknown"))}function h_(e,t){e.Yr.X(t.targetId),B_(e).br(t)}function d_(e,t){e.Yr.X(t),B_(e).vr(t)}function p_(e){e.Yr=new Pg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),B_(e).start(),e.Jr.Br()}function v_(e){return m_(e)&&!B_(e).hr()&&e.Wr.size>0}function m_(e){return 0===Bv(e).Gr.size}function y_(e){e.Yr=void 0}function g_(e){return k_.apply(this,arguments)}function k_(){return k_=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){h_(t,e)}));case 1:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function b_(e,t){return w_.apply(this,arguments)}function w_(){return w_=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y_(t),v_(t)?(t.Jr.Kr(n),p_(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function __(e,t,n){return x_.apply(this,arguments)}function x_(){return x_=we(ke().mark((function e(t,n,r){var i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Rg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=we(ke().mark((function e(t,n){var r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Tn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Uv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,I_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ag?t.Yr.ot(n):n instanceof Ng?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(sm.min())){e.next=29;break}return e.prev=14,e.next=17,cw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(ym.EMPTY_BYTE_STRING,n.snapshotVersion)),d_(e,t);var r=new Zk(n.target,t,1,n.sequenceNumber);h_(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Uv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,I_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),x_.apply(this,arguments)}function I_(e,t,n){return T_.apply(this,arguments)}function T_(){return T_=we(ke().mark((function e(t,n,r){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hk(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,s_(t);case 5:t.Jr.set("Offline"),r||(r=function(){return cw(t.localStore)}),t.asyncQueue.enqueueRetryable(we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,o_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),T_.apply(this,arguments)}function S_(e,t){return t().catch((function(n){return I_(e,n,t)}))}function E_(e){return C_.apply(this,arguments)}function C_(){return C_=we(ke().mark((function e(t){var n,r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Bv(t),r=H_(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!A_(n)){e.next=19;break}return e.prev=3,e.next=6,hw(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,N_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,I_(n,e.t0);case 17:e.next=2;break;case 19:R_(n)&&O_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),C_.apply(this,arguments)}function A_(e){return m_(e)&&e.Qr.length<10}function N_(e,t){e.Qr.push(t);var n=H_(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function R_(e){return m_(e)&&!H_(e).hr()&&e.Qr.length>0}function O_(e){H_(e).start()}function P_(e){return D_.apply(this,arguments)}function D_(){return D_=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H_(t).kr();case 1:case"end":return e.stop()}}),e)}))),D_.apply(this,arguments)}function L_(e){return M_.apply(this,arguments)}function M_(){return M_=we(ke().mark((function e(t){var n,r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=H_(t),r=Tn(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}function U_(e,t,n){return F_.apply(this,arguments)}function F_(){return F_=we(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Jk.from(i,n,r),e.next=3,S_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,E_(t);case 5:case"end":return e.stop()}}),e)}))),F_.apply(this,arguments)}function j_(e,t){return V_.apply(this,arguments)}function V_(){return V_=we(ke().mark((function e(t,n){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&H_(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=we(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!lg(i=n.code)||i===Hv.ABORTED){e.next=7;break}return r=t.Qr.shift(),H_(t).wr(),e.next=5,S_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,E_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:R_(t)&&O_(t);case 5:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function z_(e,t){return q_.apply(this,arguments)}function q_(){return q_=we(ke().mark((function e(t,n){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Bv(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,o_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,s_(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),q_.apply(this,arguments)}function B_(e){return e.Xr||(e.Xr=function(e,t,n){var r=Bv(e);return r.Fr(),new t_(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:g_.bind(null,e),Ni:b_.bind(null,e),Pr:__.bind(null,e)}),e.zr.push(function(){var t=we(ke().mark((function t(n){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),v_(e)?p_(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:y_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function H_(e){return e.Zr||(e.Zr=function(e,t,n){var r=Bv(e);return r.Fr(),new n_(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:P_.bind(null,e),Ni:j_.bind(null,e),Nr:L_.bind(null,e),Cr:U_.bind(null,e)}),e.zr.push(function(){var t=we(ke().mark((function t(n){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,E_(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Uv("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var W_=function(){function e(t,n,r,i,a){_n(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Kv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return In(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wv(Hv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function K_(e,t){if(Fv("AsyncQueue","".concat(t,": ").concat(e)),Hk(e))return new Wv(Hv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var G_=function(){function e(t){_n(this,e),this.comparator=t?function(e,n){return t(e,n)||Cm.comparator(e.key,n.key)}:function(e,t){return Cm.comparator(e.key,t.key)},this.keyedMap=bg(),this.sortedSet=new hg(this.comparator)}return In(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Q_=function(){function e(){_n(this,e),this.eo=new hg(Cm.comparator)}return In(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):zv():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Y_=function(){function e(t,n,r,i,a,o,u,s){_n(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return In(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,G_.emptySet(n),a,r,i,!0,!1)}}]),e}(),$_=In((function e(){_n(this,e),this.so=void 0,this.listeners=[]})),X_=In((function e(){_n(this,e),this.queries=new Vb((function(e){return Iy(e)}),xy),this.onlineState="Unknown",this.io=new Set}));function J_(e,t){return Z_.apply(this,arguments)}function Z_(){return Z_=we(ke().mark((function e(t,n){var r,i,a,o,u;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Bv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new $_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=K_(e.t0,"Initialization of query '".concat(Ty(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&ix(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Z_.apply(this,arguments)}function ex(e,t){return tx.apply(this,arguments)}function tx(){return tx=we(ke().mark((function e(t,n){var r,i,a,o,u;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Bv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e,t){var n,r=Bv(e),i=!1,a=Tn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Tn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&ix(r)}function rx(e,t,n){var r=Bv(e),i=r.queries.get(t);if(i){var a,o=Tn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function ix(e){e.io.forEach((function(e){e.next()}))}var ax=function(){function e(t,n,r){_n(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return In(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Tn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Y_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Y_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),ox=function(){function e(t,n){_n(this,e),this.payload=t,this.byteLength=n}return In(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),ux=function(){function e(t){_n(this,e),this.k=t}return In(e,[{key:"Hn",value:function(e){return Kg(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Jg(this.k,e.document,!1):Wm.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return qg(e)}}]),e}(),sx=function(){function e(t,n,r){_n(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=cx(t)}return In(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new ux(this.k),i=Tn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hn(a.metadata.name),s=Tn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Ig()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=we(ke().mark((function e(){var t,n,r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ww(this.localStore,new ux(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=Tn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,xw(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new ew(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function cx(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var lx=In((function e(t){_n(this,e),this.key=t})),fx=In((function e(t){_n(this,e),this.key=t})),hx=function(){function e(t,n){_n(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Ig(),this.mutatedKeys=Ig(),this.Ao=Ey(t),this.Ro=new G_(this.Ao)}return In(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new Q_,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=vy(this.query)&&i.size===this.query.limit?i.last():null,c=my(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Sy(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),vy(this.query)||my(this.query))for(;o.size>this.query.limit;){var l=vy(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zv()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new Y_(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Q_,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Ig(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new fx(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new lx(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Ig();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Y_.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),dx=In((function e(t,n,r){_n(this,e),this.query=t,this.targetId=n,this.view=r})),px=In((function e(t){_n(this,e),this.key=t,this.$o=!1})),vx=function(){function e(t,n,r,i,a,o){_n(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new Vb((function(e){return Iy(e)}),xy),this.Mo=new Map,this.Lo=new Set,this.Bo=new hg(Cm.comparator),this.Uo=new Map,this.qo=new Sw,this.Ko={},this.jo=new Map,this.Qo=Eb.re(),this.onlineState="Unknown",this.Wo=void 0}return In(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function mx(e,t){return yx.apply(this,arguments)}function yx(){return yx=we(ke().mark((function e(t,n){var r,i,a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cI(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,dw(r.localStore,wy(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,gx(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&l_(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),yx.apply(this,arguments)}function gx(e,t,n,r){return kx.apply(this,arguments)}function kx(){return kx=we(ke().mark((function e(t,n,r,i){var a,o,u,s,c,l;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=we(ke().mark((function e(t,n,r,i){var a,o,u;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,mw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(jx(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,mw(t.localStore,n,!0);case 3:return a=e.sent,o=new hx(n,a.zn),u=o.bo(a.documents),s=Cg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),jx(t,r,c.Co),l=new dx(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function bx(e,t){return wx.apply(this,arguments)}function wx(){return wx=we(ke().mark((function e(t,n){var r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Bv(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!xy(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,pw(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),f_(r.remoteStore,i.targetId),Ux(r,i.targetId)})).catch(Ob);case 9:e.next=14;break;case 11:return Ux(r,i.targetId),e.next=14,pw(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),wx.apply(this,arguments)}function _x(e,t,n){return xx.apply(this,arguments)}function xx(){return xx=we(ke().mark((function e(t,n,r){var i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lI(t),e.prev=1,e.next=4,function(e,t){var n,r=Bv(e),i=um.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Ig());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,u=[],s=Tn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Xy(c,n.get(c.key));null!=l&&u.push(new tg(c.key,l,Hm(l.value.mapValue),Ky.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.An.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new hg(im)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,qx(i,a.changes);case 9:return e.next=11,E_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=K_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),xx.apply(this,arguments)}function Ix(e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=we(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bv(t),e.prev=1,e.next=4,lw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(qv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?qv(n.$o):e.removedDocuments.size>0&&(qv(n.$o),n.$o=!1))})),e.next=8,qx(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ob(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Tx.apply(this,arguments)}function Sx(e,t,n){var r=Bv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Bv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Tn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ix(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ex(e,t,n){return Cx.apply(this,arguments)}function Cx(){return Cx=we(ke().mark((function e(t,n,r){var i,a,o,u,s,c;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Bv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new hg(Cm.comparator)).insert(o,Wm.newNoDocument(o,sm.min())),s=Ig().add(o),c=new Eg(sm.min(),new Map,new vg(im),u,s),e.next=9,Ix(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),zx(i),e.next=16;break;case 14:return e.next=16,pw(i.localStore,n,!1).then((function(){return Ux(i,n,r)})).catch(Ob);case 16:case"end":return e.stop()}}),e)}))),Cx.apply(this,arguments)}function Ax(e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=we(ke().mark((function e(t,n){var r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bv(t),i=n.batch.batchId,e.prev=1,e.next=4,sw(r.localStore,n);case 4:return a=e.sent,Mx(r,i,null),Lx(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,qx(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ob(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Nx.apply(this,arguments)}function Rx(e,t,n){return Ox.apply(this,arguments)}function Ox(){return Ox=we(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bv(t),e.prev=1,e.next=4,function(e,t){var n=Bv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return qv(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Mx(i,n,r),Lx(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,qx(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ob(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ox.apply(this,arguments)}function Px(e,t){return Dx.apply(this,arguments)}function Dx(){return Dx=we(ke().mark((function e(t,n){var r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m_((r=Bv(t)).remoteStore)||Uv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Bv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=K_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Dx.apply(this,arguments)}function Lx(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function Mx(e,t,n){var r=Bv(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Ux(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Tn(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||Fx(e,t)}))}function Fx(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(f_(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),zx(e))}function jx(e,t,n){var r,i=Tn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof lx?(e.qo.addReference(a.key,t),Vx(e,a)):a instanceof fx?(Uv("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||Fx(e,a.key)):zv()}}catch(o){i.e(o)}finally{i.f()}}function Vx(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Uv("SyncEngine","New document in limbo: "+n),e.Lo.add(r),zx(e))}function zx(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Cm(dm.fromString(t)),r=e.Qo.next();e.Uo.set(r,new px(n)),e.Bo=e.Bo.insert(n,r),l_(e.remoteStore,new Zk(wy(py(n.path)),r,2,tm.I))}}function qx(e,t,n){return Bx.apply(this,arguments)}function Bx(){return Bx=we(ke().mark((function e(t,n,r){var i,a,o,u;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Bv(t),a=[],o=[],u=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){u.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=nw.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=we(ke().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return jk.forEach(n,(function(t){return jk.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return jk.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Hk(e.t0)){e.next=10;break}throw e.t0;case 10:Uv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Tn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Bx.apply(this,arguments)}function Hx(e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=we(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Bv(t)).currentUser.isEqual(n)){e.next=11;break}return Uv("SyncEngine","User change. New user:",n.toKey()),e.next=5,ow(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Wv(Hv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,qx(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}function Kx(e,t){var n=Bv(e),r=n.Uo.get(t);if(r&&r.$o)return Ig().add(r.key);var i=Ig(),a=n.Mo.get(t);if(!a)return i;var o,u=Tn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Oo.get(s);i=i.unionWith(c.view.Po)}}catch(l){u.e(l)}finally{u.f()}return i}function Gx(e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=we(ke().mark((function e(t,n){var r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bv(t),e.next=3,mw(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&jx(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}function Yx(e){return $x.apply(this,arguments)}function $x(){return $x=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bv(t),e.abrupt("return",gw(n.localStore).then((function(e){return qx(n,e)})));case 2:case"end":return e.stop()}}),e)}))),$x.apply(this,arguments)}function Xx(e,t,n,r){return Jx.apply(this,arguments)}function Jx(){return Jx=we(ke().mark((function e(t,n,r,i){var a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Bv(t),e.next=3,function(e,t){var n=Bv(e),r=Bv(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):jk.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,E_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Mx(a,n,i||null),Lx(a,n),function(e,t){Bv(Bv(e).An).ee(t)}(a.localStore,n)):zv();case 11:return e.next=13,qx(a,o);case 13:e.next=16;break;case 15:Uv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Jx.apply(this,arguments)}function Zx(e,t){return eI.apply(this,arguments)}function eI(){return eI=we(ke().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cI(r=Bv(t)),lI(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,tI(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,z_(r.remoteStore,!0);case 9:o=Tn(a);try{for(o.s();!(u=o.n()).done;)s=u.value,l_(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Ux(r,t),pw(r.localStore,t,!0)})),f_(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,tI(r,c);case 21:return function(e){var t=Bv(e);t.Uo.forEach((function(e,n){f_(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new hg(Cm.comparator)}(r),r.Wo=!1,e.next=25,z_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),eI.apply(this,arguments)}function tI(e,t,n){return nI.apply(this,arguments)}function nI(){return nI=we(ke().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Bv(t),a=[],o=[],u=Tn(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,dw(i.localStore,wy(f[0]));case 11:l=e.sent,h=Tn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Oo.get(p),e.next=20,Gx(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,yw(i.localStore,c);case 36:return y=e.sent,e.next=39,dw(i.localStore,y);case 39:return l=e.sent,e.next=42,gx(i,rI(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),nI.apply(this,arguments)}function rI(e){return dy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function iI(e){var t=Bv(e);return Bv(Bv(t.localStore).persistence).Tn()}function aI(e,t,n,r){return oI.apply(this,arguments)}function oI(){return oI=we(ke().mark((function e(t,n,r,i){var a,o,u;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Bv(t)).Wo){e.next=5;break}Uv("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,gw(a.localStore);case 11:return o=e.sent,u=Eg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,qx(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,pw(a.localStore,n,!0);case 18:return Ux(a,n,i),e.abrupt("break",21);case 20:zv();case 21:case"end":return e.stop()}}),e)}))),oI.apply(this,arguments)}function uI(e,t,n){return sI.apply(this,arguments)}function sI(){return sI=we(ke().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=cI(t)).Wo){e.next=45;break}a=Tn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Mo.has(u)){e.next=10;break}return Uv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,yw(i.localStore,u);case 12:return s=e.sent,e.next=15,dw(i.localStore,s);case 15:return c=e.sent,e.next=18,gx(i,rI(s),c.targetId,!1);case 18:l_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Tn(r),e.prev=30,h=ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,pw(i.localStore,t,!1).then((function(){f_(i.remoteStore,t),Ux(i,t)})).catch(Ob);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),sI.apply(this,arguments)}function cI(e){var t=Bv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ix.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ex.bind(null,t),t.Fo.Pr=nx.bind(null,t.eventManager),t.Fo.zo=rx.bind(null,t.eventManager),t}function lI(e){var t=Bv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ax.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Rx.bind(null,t),t}function fI(e,t,n){var r=Bv(e);(function(){var e=we(ke().mark((function e(t,n,r){var i,a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Bv(e),r=qg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(cx(i)),a=new sx(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,qx(t,s.In,void 0);case 30:return e.next=32,function(e,t){var n=Bv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),jv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var hI=function(){function e(){_n(this,e),this.synchronizeTabs=!1}return In(e,[{key:"initialize",value:function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Jw(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return aw(this.persistence,new rw,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Ow(Dw.ks,this.k)}},{key:"Jo",value:function(e){return new Hw}},{key:"terminate",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dI=function(e){En(n,e);var t=Rn(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return In(n,[{key:"initialize",value:function(){var e=we(ke().mark((function e(t){var r=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui(Cn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,kw(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,lI(this.ta.syncEngine);case 8:return e.next=10,E_(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return aw(this.persistence,new rw,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Mb(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=Zb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?kb.withCacheSize(this.cacheSizeBytes):kb.DEFAULT;return new $b(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,$w(),Xw(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new Hw}}]),n}(hI),pI=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return In(n,[{key:"initialize",value:function(){var e=we(ke().mark((function e(t){var r,i=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui(Cn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof Bw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:Xx.bind(null,r),gi:aI.bind(null,r),yi:uI.bind(null,r),Tn:iI.bind(null,r),_i:Yx.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zx(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=$w();if(!Bw.bt(t))throw new Wv(Hv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Zb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Bw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(dI),vI=function(){function e(){_n(this,e)}return In(e,[{key:"initialize",value:function(){var e=we(ke().mark((function e(t,n){var r=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Sx(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Hx.bind(null,this.syncEngine),e.next=12,z_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new X_}},{key:"createDatastore",value:function(e){var t,n=Jw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Yw(t));return function(e,t,n,r){return new r_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Sx(o.syncEngine,e,0)},a=Kw.bt()?new Kw:new Ww,new a_(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new vx(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bv(t),Uv("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,s_(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function mI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return we(ke().mark((function r(){var i;return ke().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var yI=function(){function e(t){_n(this,e),this.observer=t,this.muted=!1}return In(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),gI=function(){function e(t,n){var r=this;_n(this,e),this.sa=t,this.k=n,this.metadata=new Kv,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return In(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=we(ke().mark((function e(){var t,n,r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new ox(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=we(ke().mark((function e(){var t,n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=we(ke().mark((function e(){var t,n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),kI=function(){function e(t){_n(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return In(e,[{key:"lookup",value:function(){var e=we(ke().mark((function e(t){var n,r=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Wv(Hv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=we(ke().mark((function e(t,n){var r,i,a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bv(t),i=Yg(r.k)+"/documents",a={documents:n.map((function(e){return Wg(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Zg(r.k,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());qv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ug(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=we(ke().mark((function e(){var t,n=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Cm.fromPath(t);n.mutations.push(new sg(r,n.precondition(r)))})),e.next=7,function(){var e=we(ke().mark((function e(t,n){var r,i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bv(t),i=Yg(r.k)+"/documents",a={writes:n.map((function(e){return ek(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw zv();t=sm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Wv(Hv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ky.updateTime(t):Ky.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(sm.min()))throw new Wv(Hv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ky.updateTime(t)}return Ky.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),bI=function(){function e(t,n,r,i){_n(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new Zw(this.asyncQueue,"transaction_retry")}return In(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(we(ke().mark((function t(){var n,r;return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new kI(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!Tm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!lg(t)}return!1}}]),e}(),wI=function(){function e(t,n,r,i){var a=this;_n(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pv.UNAUTHENTICATED,this.clientId=rm.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return In(e,[{key:"getConfiguration",value:function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Wv(Hv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Kv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(we(ke().mark((function n(){var r;return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=K_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function _I(e,t){return xI.apply(this,arguments)}function xI(){return xI=we(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Uv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ow(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),xI.apply(this,arguments)}function II(e,t){return TI.apply(this,arguments)}function TI(){return TI=we(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,SI(t);case 3:return r=e.sent,Uv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=we(ke().mark((function e(t,n){var r,i;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Bv(t)).asyncQueue.verifyOperationInProgress(),Uv("RemoteStore","RemoteStore received new credentials"),i=m_(r),r.Gr.add(3),e.next=6,s_(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,o_(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),TI.apply(this,arguments)}function SI(e){return EI.apply(this,arguments)}function EI(){return EI=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Uv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,_I(t,new hI);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}function CI(e){return AI.apply(this,arguments)}function AI(){return AI=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Uv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,II(t,new vI);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function NI(e){return SI(e).then((function(e){return e.persistence}))}function RI(e){return SI(e).then((function(e){return e.localStore}))}function OI(e){return CI(e).then((function(e){return e.remoteStore}))}function PI(e){return CI(e).then((function(e){return e.syncEngine}))}function DI(e){return LI.apply(this,arguments)}function LI(){return LI=we(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=mx.bind(null,n.syncEngine),r.onUnlisten=bx.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function MI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Kv;return e.asyncQueue.enqueueAndForget(we(ke().mark((function i(){return ke().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new yI({next:function(a){t.enqueueAndForget((function(){return ex(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Wv(Hv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Wv(Hv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ax(py(n.path),a,{includeMetadataChanges:!0,wo:!0});return J_(e,o)},i.next=3,DI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function UI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Kv;return e.asyncQueue.enqueueAndForget(we(ke().mark((function i(){return ke().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new yI({next:function(n){t.enqueueAndForget((function(){return ex(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Wv(Hv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ax(n,a,{includeMetadataChanges:!0,wo:!0});return J_(e,o)},i.next=3,DI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var FI=In((function e(t,n,r,i,a,o,u,s){_n(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),jI=function(){function e(t,n){_n(this,e),this.projectId=t,this.database=n||"(default)"}return In(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),VI=new Map;function zI(e,t,n){if(!n)throw new Wv(Hv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function qI(e,t,n,r){if(!0===t&&!0===r)throw new Wv(Hv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function BI(e){if(!Cm.isDocumentKey(e))throw new Wv(Hv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function HI(e){if(Cm.isDocumentKey(e))throw new Wv(Hv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function WI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":zv()}function KI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Wv(Hv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=WI(e);throw new Wv(Hv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function GI(e,t){if(t<=0)throw new Wv(Hv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var QI=function(){function e(t){var n;if(_n(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Wv(Hv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Wv(Hv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,qI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return In(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),YI=function(){function e(t,n,r){_n(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QI({}),this._settingsFrozen=!1,t instanceof jI?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Wv(Hv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jI(e.options.projectId)}(t))}return In(e,[{key:"app",get:function(){if(!this._app)throw new Wv(Hv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Wv(Hv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Qv;switch(e.type){case"gapi":var t=e.client;return qv(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Jv(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Wv(Hv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=VI.get(e);t&&(Uv("ComponentProvider","Removing Datastore"),VI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function $I(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=KI(e,YI))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&jv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Pv.MOCK_USER;else{o=zn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Wv(Hv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Pv(s)}e._authCredentials=new Yv(new Gv(o,u))}}var XI=function(){function e(t,n,r){_n(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return In(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ZI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),JI=function(){function e(t,n,r){_n(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return In(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ZI=function(e){En(n,e);var t=Rn(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this,e,r,py(i)))._path=i,a.type="collection",a}return In(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new XI(this.firestore,null,new Cm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(JI);function eT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=sr(e),zI("collection","path",t),e instanceof YI){var a=dm.fromString.apply(dm,[t].concat(r));return HI(a),new ZI(e,null,a)}if(!(e instanceof XI||e instanceof ZI))throw new Wv(Hv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(dm.fromString.apply(dm,[t].concat(r)));return HI(o),new ZI(e.firestore,null,o)}function tT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=sr(e),1===arguments.length&&(t=rm.A()),zI("doc","path",t),e instanceof YI){var a=dm.fromString.apply(dm,[t].concat(r));return BI(a),new XI(e,null,new Cm(a))}if(!(e instanceof XI||e instanceof ZI))throw new Wv(Hv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(dm.fromString.apply(dm,[t].concat(r)));return BI(o),new XI(e.firestore,e instanceof ZI?e.converter:null,new Cm(o))}function nT(e,t){return e=sr(e),t=sr(t),(e instanceof XI||e instanceof ZI)&&(t instanceof XI||t instanceof ZI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rT(e,t){return e=sr(e),t=sr(t),e instanceof JI&&t instanceof JI&&e.firestore===t.firestore&&xy(e._query,t._query)&&e.converter===t.converter}var iT=function(){function e(){var t=this;_n(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Zw(this,"async_queue_retry"),this.Ra=function(){var e=Xw();e&&Uv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Xw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return In(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=Xw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new Kv;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=we(ke().mark((function e(){var t=this;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Hk(e.t0)){e.next=12;break}throw e.t0;case 12:Uv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Fv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=W_.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&zv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=we(ke().mark((function e(){var t;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=Tn(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Tn(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function aT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Tn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var oT=function(){function e(){_n(this,e),this._progressObserver={},this._taskCompletionResolver=new Kv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return In(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),uT=function(e){En(n,e);var t=Rn(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new iT,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return In(n,[{key:"_terminate",value:function(){return this._firestoreClient||cT(this),this._firestoreClient.terminate()}}]),n}(YI);function sT(e){return e._firestoreClient||cT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new FI(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new wI(e._authCredentials,e._appCheckCredentials,e._queue,r)}function lT(e,t,n){var r=new Kv;return e.asyncQueue.enqueue(we(ke().mark((function i(){return ke().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,_I(e,n);case 3:return i.next=5,II(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Hv.FAILED_PRECONDITION||e.code===Hv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function fT(e){return function(e){return e.asyncQueue.enqueue(we(ke().mark((function t(){var n,r;return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,NI(e);case 2:return n=t.sent,t.next=5,OI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Bv(e);return t.Gr.delete(0),o_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(sT(e=KI(e,uT)))}function hT(e){return function(e){return e.asyncQueue.enqueue(we(ke().mark((function t(){var n,r;return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,NI(e);case 2:return n=t.sent,t.next=5,OI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Bv(t)).Gr.add(0),e.next=4,s_(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(sT(e=KI(e,uT)))}function dT(e,t){var n=sT(e=KI(e,uT)),r=new oT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new gI(e,t)}(function(e,t){if(e instanceof Uint8Array)return mI(e,t);if(e instanceof ArrayBuffer)return mI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Jw(t));e.asyncQueue.enqueueAndForget(we(ke().mark((function t(){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fI,t.next=3,PI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function pT(e,t){return function(e,t){return e.asyncQueue.enqueue(we(ke().mark((function n(){return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Bv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,RI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(sT(e=KI(e,uT)),t).then((function(t){return t?new JI(e,null,t.query):null}))}function vT(e){if(e._initialized||e._terminated)throw new Wv(Hv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var mT=function(){function e(){_n(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Wv(Hv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vm(n)}return In(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var yT=function(){function e(t){_n(this,e),this._byteString=t}return In(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ym.fromBase64String(t))}catch(t){throw new Wv(Hv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ym.fromUint8Array(t))}}]),e}(),gT=In((function e(t){_n(this,e),this._methodName=t})),kT=function(){function e(t,n){if(_n(this,e),!isFinite(t)||t<-90||t>90)throw new Wv(Hv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Wv(Hv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return In(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return im(this._lat,e._lat)||im(this._long,e._long)}}]),e}(),bT=/^__.*__$/,wT=function(){function e(t,n,r){_n(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return In(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new tg(e,this.data,this.fieldMask,t,this.fieldTransforms):new eg(e,this.data,t,this.fieldTransforms)}}]),e}(),_T=function(){function e(t,n,r){_n(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return In(e,[{key:"toMutation",value:function(e,t){return new tg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function xT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zv()}}var IT=function(){function e(t,n,r,i,a,o){_n(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return In(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return HT(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(xT(this.xa)&&bT.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),TT=function(){function e(t,n,r){_n(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Jw(t)}return In(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new IT({xa:e,methodName:t,Ka:n,path:vm.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function ST(e){var t=e._freezeSettings(),n=Jw(e._databaseId);return new TT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ET(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);VT("Data must be an object, but it was:",o,r);var u,s,c=FT(r,o);if(a.merge)u=new mm(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Tn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=zT(t,d,n);if(!o.contains(p))throw new Wv(Hv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));WT(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new mm(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new wT(new Bm(c),u,s)}var CT=function(e){En(n,e);var t=Rn(n);function n(){return _n(this,n),t.apply(this,arguments)}return In(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gT);function AT(e,t,n){return new IT({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var NT=function(e){En(n,e);var t=Rn(n);function n(){return _n(this,n),t.apply(this,arguments)}return In(n,[{key:"_toFieldTransform",value:function(e){return new Hy(e.path,new My)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gT),RT=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e)).Qa=r,i}return In(n,[{key:"_toFieldTransform",value:function(e){var t=AT(this,e,!0),n=this.Qa.map((function(e){return UT(e,t)})),r=new Uy(n);return new Hy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gT),OT=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e)).Qa=r,i}return In(n,[{key:"_toFieldTransform",value:function(e){var t=AT(this,e,!0),n=this.Qa.map((function(e){return UT(e,t)})),r=new jy(n);return new Hy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gT),PT=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e)).Wa=r,i}return In(n,[{key:"_toFieldTransform",value:function(e){var t=new zy(e.k,Ry(e.k,this.Wa));return new Hy(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gT);function DT(e,t,n,r){var i=e.ja(1,t,n);VT("Data must be an object, but it was:",i,r);var a=[],o=Bm.empty();lm(r,(function(e,r){var u=BT(t,e,n);r=sr(r);var s=i.La(u);if(r instanceof CT)a.push(u);else{var c=UT(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new mm(a);return new _T(o,u,i.fieldTransforms)}function LT(e,t,n,r,i,a){var o=e.ja(1,t,n),u=[zT(t,r,n)],s=[i];if(a.length%2!=0)throw new Wv(Hv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(zT(t,a[c])),s.push(a[c+1]);for(var l=[],f=Bm.empty(),h=u.length-1;h>=0;--h)if(!WT(l,u[h])){var d=u[h],p=s[h];p=sr(p);var v=o.La(d);if(p instanceof CT)l.push(d);else{var m=UT(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new mm(l);return new _T(f,y,o.fieldTransforms)}function MT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return UT(n,e.ja(r?4:3,t))}function UT(e,t){if(jT(e=sr(e)))return VT("Unsupported field value:",t,e),FT(e,t);if(e instanceof gT)return function(e,t){if(!xT(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Tn(e);try{for(a.s();!(n=a.n()).done;){var o=UT(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=sr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ry(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=um.fromDate(e);return{timestampValue:jg(t.k,n)}}if(e instanceof um){var r=new um(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:jg(t.k,r)}}if(e instanceof kT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yT)return{bytesValue:Vg(t.k,e._byteString)};if(e instanceof XI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Bg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(WI(e)))}(e,t)}function FT(e,t){var n={};return fm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lm(e,(function(e,r){var i=UT(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof um||e instanceof kT||e instanceof yT||e instanceof XI||e instanceof gT)}function VT(e,t,n){if(!jT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=WI(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function zT(e,t,n){if((t=sr(t))instanceof mT)return t._internalPath;if("string"==typeof t)return BT(e,t);throw HT("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var qT=new RegExp("[~\\*/\\[\\]]");function BT(e,t,n){if(t.search(qT)>=0)throw HT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return On(mT,lr(t.split(".")))._internalPath}catch(r){throw HT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function HT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Wv(Hv.INVALID_ARGUMENT,u+e+s)}function WT(e,t){return e.some((function(e){return e.isEqual(t)}))}var KT=function(){function e(t,n,r,i,a){_n(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return In(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new XI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new GT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(QT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),GT=function(e){En(n,e);var t=Rn(n);function n(){return _n(this,n),t.apply(this,arguments)}return In(n,[{key:"data",value:function(){return ui(Cn(n.prototype),"data",this).call(this)}}]),n}(KT);function QT(e,t){return"string"==typeof t?BT(e,t):t instanceof mT?t._internalPath:t._delegate._internalPath}var YT=function(){function e(t,n){_n(this,e),this.hasPendingWrites=t,this.fromCache=n}return In(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),$T=function(e){En(n,e);var t=Rn(n);function n(e,r,i,a,o,u){var s;return _n(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return In(n,[{key:"exists",value:function(){return ui(Cn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new XT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(QT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(KT),XT=function(e){En(n,e);var t=Rn(n);function n(){return _n(this,n),t.apply(this,arguments)}return In(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ui(Cn(n.prototype),"data",this).call(this,e)}}]),n}($T),JT=function(){function e(t,n,r,i){_n(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new YT(i.hasPendingWrites,i.fromCache),this.query=r}return In(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new XT(n._firestore,n._userDataWriter,r.key,r,new YT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Wv(Hv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new XT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new YT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new XT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new YT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ZT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function ZT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zv()}}function eS(e,t){return e instanceof $T&&t instanceof $T?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof JT&&t instanceof JT&&e._firestore===t._firestore&&rT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function tS(e){if(my(e)&&0===e.explicitOrderBy.length)throw new Wv(Hv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nS=In((function e(){_n(this,e)}));function rS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var iS=function(e){En(n,e);var t=Rn(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return In(n,[{key:"_apply",value:function(e){var t=ST(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Wv(Hv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){vS(o,a);var s,c=[],l=Tn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(pS(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=pS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||vS(o,a),u=MT(n,"where",o,"in"===a||"not-in"===a);var h=Xm.create(i,a,u);return function(e,t){if(t.V()){var n=gy(e);if(null!==n&&!n.isEqual(t.field))throw new Wv(Hv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=yy(e);null!==r&&mS(e,t.field,r)}var i=function(e,t){var n,r=Tn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Wv(Hv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Wv(Hv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new JI(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(nS);var aS=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return In(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Wv(Hv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Wv(Hv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new sy(t,n);return function(e,t){if(null===yy(e)){var n=gy(e);null!==n&&mS(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new JI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new hy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(nS);var oS=function(e){En(n,e);var t=Rn(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return In(n,[{key:"_apply",value:function(e){return new JI(e.firestore,e.converter,_y(e._query,this.Ya,this.Xa))}}]),n}(nS);var uS=function(e){En(n,e);var t=Rn(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return In(n,[{key:"_apply",value:function(e){var t=dS(e,this.type,this.Za,this.tc);return new JI(e.firestore,e.converter,function(e,t){return new hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(nS);function sS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uS("startAt",t,!0)}function cS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uS("startAfter",t,!1)}var lS=function(e){En(n,e);var t=Rn(n);function n(e,r,i){var a;return _n(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return In(n,[{key:"_apply",value:function(e){var t=dS(e,this.type,this.Za,this.tc);return new JI(e.firestore,e.converter,function(e,t){return new hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(nS);function fS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lS("endBefore",t,!0)}function hS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lS("endAt",t,!1)}function dS(e,t,n,r){if(n[0]=sr(n[0]),n[0]instanceof KT)return function(e,t,n,r,i){if(!r)throw new Wv(Hv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Tn(by(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Mm(t,r.key));else{var c=r.data.field(s.field);if(_m(c))throw new Wv(Hv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Wv(Hv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new oy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ST(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Wv(Hv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Wv(Hv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ky(e)&&-1!==c.indexOf("/"))throw new Wv(Hv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(dm.fromString(c));if(!Cm.isDocumentKey(l))throw new Wv(Hv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Cm(l);u.push(Mm(t,f))}else{var h=MT(n,r,c);u.push(h)}}return new oy(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function pS(e,t,n){if("string"==typeof(n=sr(n))){if(""===n)throw new Wv(Hv.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ky(t)&&-1!==n.indexOf("/"))throw new Wv(Hv.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(dm.fromString(n));if(!Cm.isDocumentKey(r))throw new Wv(Hv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Mm(e,new Cm(r))}if(n instanceof XI)return Mm(e,n._key);throw new Wv(Hv.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(WI(n),"."))}function vS(e,t){if(!Array.isArray(e)||0===e.length)throw new Wv(Hv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Wv(Hv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function mS(e,t,n){if(!n.isEqual(t))throw new Wv(Hv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var yS=function(){function e(){_n(this,e)}return In(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Am(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return lm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new kT(bm(e.latitude),bm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=xm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Im(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=km(e);return new um(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=dm.fromString(e);qv(vk(n));var r=new jI(n.get(1),n.get(3)),i=new Cm(n.popFirst(5));return r.isEqual(t)||Fv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function gS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var kS=function(e){En(n,e);var t=Rn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).firestore=e,r}return In(n,[{key:"convertBytes",value:function(e){return new yT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new XI(this.firestore,null,t)}}]),n}(yS),bS=function(){function e(t,n){_n(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ST(t)}return In(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=wS(e,this._firestore),i=gS(r.converter,t,n),a=ET(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Ky.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=wS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=sr(t))||t instanceof mT?LT(this._dataReader,"WriteBatch.update",i._key,t,n,o):DT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Ky.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=wS(e,this._firestore);return this._mutations=this._mutations.concat(new ug(t._key,Ky.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Wv(Hv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function wS(e,t){if((e=sr(e)).firestore!==t)throw new Wv(Hv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var _S=function(e){En(n,e);var t=Rn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).firestore=e,r}return In(n,[{key:"convertBytes",value:function(e){return new yT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new XI(this.firestore,null,t)}}]),n}(yS);function xS(e){e=KI(e,XI);var t=KI(e.firestore,uT),n=sT(t),r=new _S(t);return function(e,t){var n=new Kv;return e.asyncQueue.enqueueAndForget(we(ke().mark((function r(){return ke().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=we(ke().mark((function e(t,n,r){var i,a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Bv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Wv(Hv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=K_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,RI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new $T(t,r,e._key,n,new YT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function IS(e){e=KI(e,JI);var t=KI(e.firestore,uT),n=sT(t),r=new _S(t);return function(e,t){var n=new Kv;return e.asyncQueue.enqueueAndForget(we(ke().mark((function r(){return ke().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=we(ke().mark((function e(t,n,r){var i,a,o,u,s;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mw(t,n,!0);case 3:i=e.sent,a=new hx(n,i.zn),o=a.bo(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=K_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,RI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new JT(t,r,e,n)}))}function TS(e,t,n){e=KI(e,XI);var r=KI(e.firestore,uT),i=gS(e.converter,t,n);return AS(r,[ET(ST(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ky.none())])}function SS(e,t,n){e=KI(e,XI);for(var r=KI(e.firestore,uT),i=ST(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return AS(r,[("string"==typeof(t=sr(t))||t instanceof mT?LT(i,"updateDoc",e._key,t,n,o):DT(i,"updateDoc",e._key,t)).toMutation(e._key,Ky.exists(!0))])}function ES(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=sr(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||aT(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(aT(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof XI)l=KI(e.firestore,uT),f=py(e._key.path),c={next:function(t){n[s]&&n[s](NS(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=KI(e,JI);l=KI(p.firestore,uT),f=p._query;var v=new _S(l);c={next:function(e){n[s]&&n[s](new JT(l,v,p,e))},error:n[s+1],complete:n[s+2]},tS(e._query)}return function(e,t,n,r){var i=new yI(r),a=new ax(t,i,n);return e.asyncQueue.enqueueAndForget(we(ke().mark((function t(){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=J_,t.next=3,DI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(we(ke().mark((function t(){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ex,t.next=3,DI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sT(l),f,h,c)}function CS(e,t){return function(e,t){var n=new yI(t);return e.asyncQueue.enqueueAndForget(we(ke().mark((function t(){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Bv(e).io.add(t),t.next()},t.next=3,DI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(we(ke().mark((function t(){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Bv(e).io.delete(t)},t.next=3,DI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sT(e=KI(e,uT)),aT(t)?t:{next:t})}function AS(e,t){return function(e,t){var n=new Kv;return e.asyncQueue.enqueueAndForget(we(ke().mark((function r(){return ke().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=_x,r.next=3,PI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(sT(e),t)}function NS(e,t,n){var r=n.docs.get(t._key),i=new _S(e);return new $T(e,i,t._key,r,new YT(n.hasPendingWrites,n.fromCache),t.converter)}var RS=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,r))._firestore=e,i}return In(n,[{key:"get",value:function(e){var t=this,r=wS(e,this._firestore),i=new _S(this._firestore);return ui(Cn(n.prototype),"get",this).call(this,e).then((function(e){return new $T(t._firestore,i,r._key,e._document,new YT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){_n(this,e),this._firestore=t,this._transaction=n,this._dataReader=ST(t)}return In(e,[{key:"get",value:function(e){var t=this,n=wS(e,this._firestore),r=new kS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return zv();var i=e[0];if(i.isFoundDocument())return new KT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new KT(t._firestore,r,n._key,null,n.converter);throw zv()}))}},{key:"set",value:function(e,t,n){var r=wS(e,this._firestore),i=gS(r.converter,t,n),a=ET(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=wS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=sr(t))||t instanceof mT?LT(this._dataReader,"Transaction.update",i._key,t,n,o):DT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=wS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function OS(e,t){return function(e,t){var n=new Kv;return e.asyncQueue.enqueueAndForget(we(ke().mark((function r(){var i;return ke().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return CI(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new bI(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(sT(e=KI(e,uT)),(function(n){return t(new RS(e,n))}))}function PS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new RT("arrayUnion",t)}function DS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Dv=e}(Hr),Lr(new fr("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new uT(i,new $v(e.getProvider("auth-internal")),new em(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),$r(Ov,"3.4.1",e),$r(Ov,"3.4.1","esm2017")}();function LS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Wv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function MS(){if("undefined"===typeof Uint8Array)throw new Wv("unimplemented","Uint8Arrays are not available in this environment.")}function US(){if("undefined"==typeof atob)throw new Wv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var FS=function(){function e(t){_n(this,e),this._delegate=t}return In(e,[{key:"toBase64",value:function(){return US(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return MS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return US(),new e(yT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return MS(),new e(yT.fromUint8Array(t))}}]),e}();function jS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Tn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var VS=function(){function e(){_n(this,e)}return In(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){vT(e=KI(e,uT));var n=sT(e),r=e._freezeSettings(),i=new vI;return lT(n,i,new dI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){vT(e=KI(e,uT));var t=sT(e),n=e._freezeSettings(),r=new vI;return lT(t,r,new pI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Wv(Hv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Kv;return e._queue.enqueueAndForgetEvenWhileRestricted(we(ke().mark((function n(){return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=we(ke().mark((function e(t){var n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zk.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,zk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Zb(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),zS=function(){function e(t,n,r){var i=this;_n(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof jI||(this._appCompat=t)}return In(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||jv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$I(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return fT(this._delegate)}},{key:"disableNetwork",value:function(){return hT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&qI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Kv;return e.asyncQueue.enqueueAndForget(we(ke().mark((function n(){return ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Px,n.next=3,PI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(sT(e=KI(e,uT)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return CS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Wv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new tE(this,eT(this._delegate,e))}catch(pA){throw GS(pA,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new KS(this,tT(this._delegate,e))}catch(pA){throw GS(pA,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new JS(this,function(e,t){if(e=KI(e,YI),zI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Wv(Hv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new JI(e,null,function(e){return new hy(dm.emptyPath(),e)}(t))}(this._delegate,e))}catch(pA){throw GS(pA,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return OS(this._delegate,(function(n){return e(new BS(t,n))}))}},{key:"batch",value:function(){var e=this;return sT(this._delegate),new HS(new bS(this._delegate,(function(t){return AS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return dT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return pT(this._delegate,e).then((function(e){return e?new JS(t,e):null}))}}]),e}(),qS=function(e){En(n,e);var t=Rn(n);function n(e){var r;return _n(this,n),(r=t.call(this)).firestore=e,r}return In(n,[{key:"convertBytes",value:function(e){return new FS(new yT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return KS.forKey(t,this.firestore,null)}}]),n}(yS);var BS=function(){function e(t,n){_n(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new qS(t)}return In(e,[{key:"get",value:function(e){var t=this,n=nE(e);return this._delegate.get(n).then((function(e){return new $S(t._firestore,new $T(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=nE(e);return n?(LS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nE(e);return this._delegate.delete(t),this}}]),e}(),HS=function(){function e(t){_n(this,e),this._delegate=t}return In(e,[{key:"set",value:function(e,t,n){var r=nE(e);return n?(LS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nE(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),WS=function(){function e(t,n,r){_n(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return In(e,[{key:"fromFirestore",value:function(e,t){var n=new XT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new XS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new qS(t),n),i.set(n,a)),a}}]),e}();WS.INSTANCES=new WeakMap;var KS=function(){function e(t,n){_n(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new qS(t)}return In(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new tE(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new tE(this.firestore,eT(this._delegate,e))}catch(pA){throw GS(pA,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=sr(e))instanceof XI&&nT(this._delegate,e)}},{key:"set",value:function(e,t){t=LS("DocumentReference.set",t);try{return t?TS(this._delegate,e,t):TS(this._delegate,e)}catch(pA){throw GS(pA,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?SS(this._delegate,e):SS.apply(void 0,[this._delegate,e,t].concat(r))}catch(pA){throw GS(pA,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return AS(KI(e.firestore,uT),[new ug(e._key,Ky.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QS(n),a=YS(n,(function(t){return new $S(e.firestore,new $T(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ES(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?xS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=KI(e,XI);var t=KI(e.firestore,uT);return MI(sT(t),e._key,{source:"server"}).then((function(n){return NS(t,e,n)}))}(this._delegate):function(e){e=KI(e,XI);var t=KI(e.firestore,uT);return MI(sT(t),e._key).then((function(n){return NS(t,e,n)}))}(this._delegate),t.then((function(e){return new $S(n.firestore,new $T(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(WS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Wv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new XI(n._delegate,r,new Cm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new XI(n._delegate,r,t))}}]),e}();function GS(e,t,n){return e.message=e.message.replace(t,n),e}function QS(e){var t,n=Tn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!jS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function YS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=jS(e[0])?e[0]:jS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var $S=function(){function e(t,n){_n(this,e),this._firestore=t,this._delegate=n}return In(e,[{key:"ref",get:function(){return new KS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return eS(this._delegate,e._delegate)}}]),e}(),XS=function(e){En(n,e);var t=Rn(n);function n(){return _n(this,n),t.apply(this,arguments)}return In(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||zv()}(void 0!==t),t}}]),n}($S),JS=function(){function e(t,n){_n(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new qS(t)}return In(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,rS(this._delegate,function(e,t,n){var r=t,i=QT("where",e);return new iS(i,r,n)}(t,n,r)))}catch(pA){throw GS(pA,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,rS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=QT("orderBy",e);return new aS(n,t)}(t,n)))}catch(pA){throw GS(pA,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,rS(this._delegate,function(e){return GI("limit",e),new oS("limit",e,"F")}(t)))}catch(pA){throw GS(pA,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,rS(this._delegate,function(e){return GI("limitToLast",e),new oS("limitToLast",e,"L")}(t)))}catch(pA){throw GS(pA,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,rS(this._delegate,sS.apply(void 0,arguments)))}catch(pA){throw GS(pA,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,rS(this._delegate,cS.apply(void 0,arguments)))}catch(pA){throw GS(pA,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,rS(this._delegate,fS.apply(void 0,arguments)))}catch(pA){throw GS(pA,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,rS(this._delegate,hS.apply(void 0,arguments)))}catch(pA){throw GS(pA,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return rT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?IS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=KI(e,JI);var t=KI(e.firestore,uT),n=sT(t),r=new _S(t);return UI(n,e._query,{source:"server"}).then((function(n){return new JT(t,r,e,n)}))}(this._delegate):function(e){e=KI(e,JI);var t=KI(e.firestore,uT),n=sT(t),r=new _S(t);return tS(e._query),UI(n,e._query).then((function(n){return new JT(t,r,e,n)}))}(this._delegate),t.then((function(e){return new eE(n.firestore,new JT(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QS(n),a=YS(n,(function(t){return new eE(e.firestore,new JT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ES(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(WS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),ZS=function(){function e(t,n){_n(this,e),this._firestore=t,this._delegate=n}return In(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new XS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),eE=function(){function e(t,n){_n(this,e),this._firestore=t,this._delegate=n}return In(e,[{key:"query",get:function(){return new JS(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new XS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ZS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new XS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return eS(this._delegate,e._delegate)}}]),e}(),tE=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return In(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new KS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new KS(this.firestore,void 0===e?tT(this._delegate):tT(this._delegate,e))}catch(pA){throw GS(pA,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=KI(e.firestore,uT),r=tT(e),i=gS(e.converter,t);return AS(n,[ET(ST(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ky.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new KS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return nT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(WS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(JS);function nE(e){return KI(e,XI)}var rE=function(){function e(){_n(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=On(mT,n)}return In(e,[{key:"isEqual",value:function(e){return(e=sr(e))instanceof mT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(vm.keyField().canonicalString())}}]),e}(),iE=function(){function e(t){_n(this,e),this._delegate=t}return In(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new NT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new CT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=PS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=DS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new PT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),aE={Firestore:zS,GeoPoint:kT,Timestamp:um,Blob:FS,Transaction:BS,WriteBatch:HS,DocumentReference:KS,DocumentSnapshot:$S,Query:JS,QueryDocumentSnapshot:XS,QuerySnapshot:eE,CollectionReference:tE,FieldPath:rE,FieldValue:iE,setLogLevel:function(e){!function(e){Lv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new fr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},aE)))}(e,(function(e,t){return new zS(e,t,new VS)})),e.registerVersion("@firebase/firestore-compat","0.1.10")}(ai);var oE="firebasestorage.googleapis.com",uE=function(e){En(n,e);var t=Rn(n);function n(e,r){var i;return _n(this,n),(i=t.call(this,sE(e),"Firebase Storage: ".concat(r," (").concat(sE(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Sn(i),n.prototype),i}return In(n,[{key:"_codeEquals",value:function(e){return sE(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Yn);function sE(e){return"storage/"+e}function cE(){return new uE("unknown","An unknown error occurred, please check the error payload for server response.")}function lE(){return new uE("canceled","User canceled the upload/download.")}function fE(){return new uE("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function hE(e){return new uE("invalid-argument",e)}function dE(){return new uE("app-deleted","The Firebase app was deleted.")}function pE(e){return new uE("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vE(e,t){return new uE("invalid-format","String does not match format '"+e+"': "+t)}function mE(e){throw new uE("internal-error","Internal error: "+e)}var yE,gE=function(){function e(t,n){_n(this,e),this.bucket=t,this.path_=n}return In(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(pA){return new e(t,"")}if(""===r.path)return r;throw new uE("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===oE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new uE("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),kE=function(){function e(t){_n(this,e),this.promise_=Promise.reject(t)}return In(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function bE(e){return"string"===typeof e||e instanceof String}function wE(e){return _E()&&e instanceof Blob}function _E(){return"undefined"!==typeof Blob}function xE(e,t,n,r){if(r<t)throw hE("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw hE("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function IE(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function TE(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(yE||(yE={}));var SE=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;_n(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return In(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(pA){i(pA)}else if(null!==a){var u=cE();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?dE():lE());else i(new uE("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new EE(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new EE(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===yE.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new EE(o,r))}else{var u=r.getErrorCode()===yE.ABORT;t(!1,new EE(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),EE=In((function e(t,n,r){_n(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function CE(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function AE(){for(var e=CE(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(_E())return new Blob(n);throw new uE("unsupported-environment","This browser doesn't seem to support creating Blobs")}var NE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},RE=In((function e(t,n){_n(this,e),this.data=t,this.contentType=n||null}));function OE(e,t){switch(e){case NE.RAW:return new RE(PE(t));case NE.BASE64:case NE.BASE64URL:return new RE(DE(e,t));case NE.DATA_URL:return new RE(function(e){var t=new LE(e);return t.base64?DE(NE.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(pA){throw vE(NE.DATA_URL,"Malformed data URL.")}return PE(t)}(t.rest)}(t),new LE(t).contentType)}throw cE()}function PE(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function DE(e,t){switch(e){case NE.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw vE(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case NE.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw vE(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(pA){throw vE(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var LE=In((function e(t){_n(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw vE(NE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var ME=function(){function e(t,n){_n(this,e);var r=0,i="";wE(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return In(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(wE(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(_E()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(AE.apply(null,i))}var a=n.map((function(e){return bE(e)?OE(NE.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function UE(e){var t;try{t=JSON.parse(e)}catch(pA){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function FE(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function jE(e,t){return t}var VE=In((function e(t,n,r,i){_n(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||jE})),zE=null;function qE(){if(zE)return zE;var e=[];e.push(new VE("bucket")),e.push(new VE("generation")),e.push(new VE("metageneration")),e.push(new VE("name","fullPath",!0));var t=new VE("name");t.xform=function(e,t){return function(e){return!bE(e)||e.length<2?e:FE(e)}(t)},e.push(t);var n=new VE("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new VE("timeCreated")),e.push(new VE("updated")),e.push(new VE("md5Hash",null,!0)),e.push(new VE("cacheControl",null,!0)),e.push(new VE("contentDisposition",null,!0)),e.push(new VE("contentEncoding",null,!0)),e.push(new VE("contentLanguage",null,!0)),e.push(new VE("contentType",null,!0)),e.push(new VE("metadata","customMetadata",!0)),zE=e}function BE(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new gE(n,r);return t._makeStorageReference(i)}})}(r,e),r}function HE(e,t,n){var r=UE(t);return null===r?null:BE(e,r,n)}function WE(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function KE(e,t,n){var r=UE(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Tn(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new gE(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=Tn(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new gE(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var GE=In((function e(t,n,r,i){_n(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function QE(e){if(!e)throw cE()}function YE(e,t){return function(n,r){var i=HE(e,r,t);return QE(null!==i),i}}function $E(e,t){return function(n,r){var i=HE(e,r,t);return QE(null!==i),function(e,t,n,r){var i=UE(t);if(null===i)return null;if(!bE(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return IE("/b/"+o(i)+"/o/"+o(a),n,r)+TE({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function XE(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new uE("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new uE("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new uE("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new uE("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function JE(e){var t=XE(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new uE("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function ZE(e,t,n){var r=IE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new GE(r,"GET",YE(e,n),i);return a.errorHandler=JE(t),a}function eC(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=IE(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new GE(o,"GET",function(e,t){return function(n,r){var i=KE(e,t,r);return QE(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=XE(t),s}function tC(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function nC(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=tC(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+WE(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=ME.getBlob(c,r,l);if(null===f)throw fE();var h={name:s.fullPath},d=IE(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new GE(d,"POST",YE(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=XE(t),v}var rC=In((function e(t,n,r,i){_n(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function iC(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(pA){QE(!1)}return QE(!!n&&-1!==(t||["active"]).indexOf(n)),n}var aC=262144;function oC(e,t,n,r,i,a,o,u){var s=new rC(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new uE("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw fE();var v=t.maxUploadRetryTime,m=new GE(n,"POST",(function(e,n){var i,o=iC(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?YE(t,a)(e,n):null,new rC(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=XE(e),m}var uC={STATE_CHANGED:"state_changed"},sC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cC(e){switch(e){case"running":case"pausing":case"canceling":return sC.RUNNING;case"paused":return sC.PAUSED;case"success":return sC.SUCCESS;case"canceled":return sC.CANCELED;default:return sC.ERROR}}var lC=In((function e(t,n,r){_n(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function fC(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var hC=function(){function e(){var t=this;_n(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yE.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=yE.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=yE.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return In(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw mE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw mE("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw mE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(pA){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw mE("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw mE("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),dC=function(e){En(n,e);var t=Rn(n);function n(){return _n(this,n),t.apply(this,arguments)}return In(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(hC);function pC(){return new dC}var vC=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_n(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=qE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return In(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=s(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=tC(t,r,i),u={name:o.fullPath},s=IE(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=WE(o,n),f=e.maxUploadRetryTime,h=new GE(s,"POST",(function(e){var t;iC(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(pA){QE(!1)}return QE(bE(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=XE(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,pC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new GE(n,"POST",(function(e){var t=iC(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(pA){QE(!1)}n||QE(!1);var i=Number(n);return QE(!isNaN(i)),new rC(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=XE(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,pC,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=aC*this._chunkMultiplier,n=new rC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=oC(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(pA){return e._error=pA,void e._transition("error")}var u=e._ref.storage._makeRequest(o,pC,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){aC*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=ZE(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,pC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=nC(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,pC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=lE(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=cC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new lC(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(cC(this._state)){case sC.SUCCESS:fC(this._resolve.bind(null,this.snapshot))();break;case sC.CANCELED:case sC.ERROR:fC(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(cC(this._state)){case sC.RUNNING:case sC.PAUSED:e.next&&fC(e.next.bind(e,this.snapshot))();break;case sC.SUCCESS:e.complete&&fC(e.complete.bind(e))();break;default:e.error&&fC(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),mC=function(){function e(t,n){_n(this,e),this._service=t,this._location=n instanceof gE?n:gE.makeFromUrl(n,t.host)}return In(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new gE(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return FE(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new gE(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw pE(e)}}]),e}();function yC(e,t,n){return gC.apply(this,arguments)}function gC(){return(gC=we(ke().mark((function e(t,n,r){var i,a,o,u;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,kC(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,lr(u.prefixes)),(a=n.items).push.apply(a,lr(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,yC(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kC(e,t){null!=t&&"number"===typeof t.maxResults&&xE("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=eC(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,pC)}function bC(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=IE(t.fullServerUrl(),e.host,e._protocol),a=WE(n,r),o=e.maxOperationRetryTime,u=new GE(i,"PATCH",YE(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=JE(t),u}(e.storage,e._location,t,qE());return e.storage.makeRequestWithTokens(n,pC)}function wC(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=IE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new GE(r,"GET",$E(e,n),i);return a.errorHandler=JE(t),a}(e.storage,e._location,qE());return e.storage.makeRequestWithTokens(t,pC).then((function(e){if(null===e)throw new uE("no-download-url","The given file does not have any download URLs.");return e}))}function _C(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=IE(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new GE(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=JE(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,pC)}function xC(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new gE(e._location.bucket,n);return new mC(e.storage,r)}function IC(e,t){if(e instanceof CC){var n=e;if(null==n._bucket)throw new uE("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new mC(n,n._bucket);return null!=t?IC(r,t):r}return void 0!==t?xC(e,t):e}function TC(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof CC)return new mC(e,t);throw hE("To use ref(service, url), the first argument must be a Storage instance.")}return IC(e,t)}function SC(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:gE.makeFromBucketSpec(n,e)}function EC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:zn(i,e.app.options.projectId))}var CC=function(){function e(t,n,r,i,a){_n(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=oE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?gE.makeFromBucketSpec(i,this._host):SC(this._host,this.app.options)}return In(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=gE.makeFromBucketSpec(this._url,e):this._bucket=SC(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){xE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){xE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=we(ke().mark((function e(){var t,n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=we(ke().mark((function e(){var t,n;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new mC(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new kE(dE());var a=function(e,t,n,r,i,a){var o=TE(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new SE(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=we(ke().mark((function e(t,n){var r,i,a,o;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=s(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),AC="@firebase/storage",NC="0.9.0",RC="storage";function OC(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new vC(e,new ME(t),n)}(e=sr(e),t,n)}function PC(e){return function(e){e._throwIfRoot("getMetadata");var t=ZE(e.storage,e._location,qE());return e.storage.makeRequestWithTokens(t,pC)}(e=sr(e))}function DC(e){return function(e){var t={prefixes:[],items:[]};return yC(e,t).then((function(){return t}))}(e=sr(e))}function LC(e,t){return TC(e=sr(e),t)}function MC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};EC(e,t,n,r)}function UC(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new CC(r,i,a,n,Hr)}Lr(new fr(RC,UC,"PUBLIC").setMultipleInstances(!0)),$r(AC,NC,""),$r(AC,NC,"esm2017");var FC=function(){function e(t,n,r){_n(this,e),this._delegate=t,this.task=n,this.ref=r}return In(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),jC=function(){function e(t,n){_n(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return In(e,[{key:"snapshot",get:function(){return new FC(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new FC(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new FC(e,i,i._ref))}:{next:t.next?function(e){return t.next(new FC(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),VC=function(){function e(t,n){_n(this,e),this._delegate=t,this._service=n}return In(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new zC(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new zC(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),zC=function(){function e(t,n){_n(this,e),this._delegate=t,this.storage=n}return In(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return xC(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new jC(OC(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NE.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=OE(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new jC(new vC(this._delegate,new ME(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return DC(this._delegate).then((function(t){return new VC(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return kC(e=sr(e),t)}(this._delegate,e||void 0).then((function(e){return new VC(e,t.storage)}))}},{key:"getMetadata",value:function(){return PC(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return bC(e=sr(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return wC(sr(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),_C(sr(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw pE(e)}}]),e}(),qC=function(){function e(t,n){_n(this,e),this.app=t,this._delegate=n}return In(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(BC(e))throw hE("ref() expected a child path but got a URL, use refFromURL instead.");return new zC(LC(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!BC(e))throw hE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{gE.makeFromUrl(e,this._delegate.host)}catch(pA){throw hE("refFromUrl() expected a valid full URL but got an invalid one.")}return new zC(LC(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};MC(this._delegate,e,t,n)}}]),e}();function BC(e){return/^[A-Za-z]+:\/\//.test(e)}function HC(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new qC(r,i)}!function(e){var t={TaskState:sC,TaskEvent:uC,StringFormat:NE,Storage:qC,Reference:zC};e.INTERNAL.registerComponent(new fr("storage-compat",HC,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.8")}(ai);ai.initializeApp({apiKey:"AIzaSyCZoXUGen81-754_pKNkLOs3Glk-ko0anQ",authDomain:"twitter-94c4a.firebaseapp.com",projectId:"twitter-94c4a",storageBucket:"twitter-94c4a.appspot.com",messagingSenderId:"364410257588",appId:"1:364410257588:web:e7fa422e97096164b897e1"});var WC=ai,KC=ai.auth(),GC=ai.firestore(),QC=ai.storage(),YC=n(184),$C=function(){var e=s((0,t.useState)(""),2),n=e[0],r=e[1],i=s((0,t.useState)(""),2),a=i[0],o=i[1],u=s((0,t.useState)(!0),2),c=u[0],l=u[1],f=s((0,t.useState)(""),2),h=f[0],d=f[1],p=function(e){var t=e.target,n=t.name,i=t.value;"email"===n?r(i):"password"===n&&o(i)},v=function(){var e=we(ke().mark((function e(t){var r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!c){e.next=8;break}return e.next=5,KC.createUserWithEmailAndPassword(n,a);case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,KC.signInWithEmailAndPassword(n,a);case 10:r=e.sent;case 11:console.log(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),d(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,YC.jsxs)(YC.Fragment,{children:[(0,YC.jsxs)("form",{onSubmit:v,className:"container",children:[(0,YC.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:n,onChange:p,className:"authInput"}),(0,YC.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:a,onChange:p,className:"authInput"}),(0,YC.jsx)("input",{type:"submit",className:"authInput authSubmit",value:c?"\uacc4\uc815 \uc0dd\uc131":"\ub85c\uadf8\uc778"}),h&&(0,YC.jsx)("span",{className:"authError",children:h})]}),(0,YC.jsx)("span",{onClick:function(){return l((function(e){return!e}))},className:"authSwitch",children:c?"\ub85c\uadf8\uc778":"\uacc4\uc815 \uc0dd\uc131"})]})},XC=function(){var e=function(){var e=we(ke().mark((function e(t){var n,r;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(n=t.target.name)?r=new WC.auth.GoogleAuthProvider:"github"===n&&(r=new WC.auth.GithubAuthProvider),e.next=4,KC.signInWithPopup(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,YC.jsxs)("div",{className:"authContainer",children:[(0,YC.jsx)(fn,{icon:vn,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),(0,YC.jsx)($C,{}),(0,YC.jsx)("div",{className:"authBtns",children:(0,YC.jsxs)("button",{onClick:e,name:"google",className:"authBtn",children:["\uad6c\uae00 \ub85c\uadf8\uc778 ",(0,YC.jsx)(fn,{icon:bn})]})})]})};function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ZC,eA=function(e){var n=e.nweetObj,r=e.isOwner,i=s((0,t.useState)(!1),2),a=i[0],o=i[1],u=s((0,t.useState)(n.text),2),c=u[0],l=u[1],f=function(){var e=we(ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\ud574\ub2f9 \uac8c\uc2dc\ubb3c\uc744 \uc9c0\uc6b0\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=6;break}return e.next=4,GC.doc("nweets/".concat(n.id)).delete();case 4:return e.next=6,QC.refFromURL(n.attachmentUrl).delete();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){return o((function(e){return!e}))},d=function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,GC.doc("nweets/".concat(n.id)).update({text:c});case 3:o(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,YC.jsx)("div",{className:"nweet",children:a?(0,YC.jsxs)(YC.Fragment,{children:[(0,YC.jsxs)("form",{onSubmit:d,className:"container nweetEdit",children:[(0,YC.jsx)("input",{type:"text",placeholder:"Edit your nweet",value:c,required:!0,autoFocus:!0,onChange:function(e){var t=e.target.value;l(t)},className:"formInput"}),(0,YC.jsx)("input",{type:"submit",value:"\uc218\uc815",className:"formBtn"})]}),(0,YC.jsx)("span",{onClick:h,className:"formBtn cancelBtn",children:"\ucde8\uc18c"})]}):(0,YC.jsxs)(YC.Fragment,{children:[(0,YC.jsx)("h4",{children:n.text}),n.attachmentUrl&&(0,YC.jsx)("img",{src:n.attachmentUrl}),r&&(0,YC.jsxs)("div",{class:"nweet__actions",children:[(0,YC.jsx)("span",{onClick:f,children:(0,YC.jsx)(fn,{icon:yn})}),(0,YC.jsx)("span",{onClick:h,children:(0,YC.jsx)(fn,{icon:dn})})]})]})})},tA={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},nA=new Uint8Array(16);function rA(){if(!ZC&&!(ZC="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ZC(nA)}for(var iA=[],aA=0;aA<256;++aA)iA.push((aA+256).toString(16).slice(1));function oA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(iA[e[t+0]]+iA[e[t+1]]+iA[e[t+2]]+iA[e[t+3]]+"-"+iA[e[t+4]]+iA[e[t+5]]+"-"+iA[e[t+6]]+iA[e[t+7]]+"-"+iA[e[t+8]]+iA[e[t+9]]+"-"+iA[e[t+10]]+iA[e[t+11]]+iA[e[t+12]]+iA[e[t+13]]+iA[e[t+14]]+iA[e[t+15]]).toLowerCase()}var uA=function(e,t,n){if(tA.randomUUID&&!t&&!e)return tA.randomUUID();var r=(e=e||{}).random||(e.rng||rA)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return oA(r)},sA=function(e){var n=e.userObj,r=s((0,t.useState)(""),2),i=r[0],a=r[1],o=s((0,t.useState)(""),2),u=o[0],c=o[1],l=function(){var e=we(ke().mark((function e(t){var r,o,s,l;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==i){e.next=2;break}return e.abrupt("return");case 2:if(t.preventDefault(),r="",""===u){e.next=12;break}return o=QC.ref().child("".concat(n.uid,"/").concat(uA())),e.next=8,o.putString(u,"data_url");case 8:return s=e.sent,e.next=11,s.ref.getDownloadURL();case 11:r=e.sent;case 12:return l={text:i,createdAt:Date.now(),creatorId:n.uid,attachmentUrl:r},e.next=15,GC.collection("nweets").add(l);case 15:a(""),c("");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,YC.jsxs)("form",{onSubmit:l,className:"factoryForm",children:[(0,YC.jsxs)("div",{className:"factoryInput__container",children:[(0,YC.jsx)("input",{className:"factoryInput__input",value:i,onChange:function(e){var t=e.target.value;a(t)},type:"text",placeholder:"What's on your mind?",maxLength:120}),(0,YC.jsx)("input",{type:"submit",value:"\u2192",className:"factoryInput__arrow"})]}),(0,YC.jsxs)("label",{for:"attach-file",className:"factoryInput__label",children:[(0,YC.jsx)("span",{children:"Add photos"}),(0,YC.jsx)(fn,{icon:pn})]}),(0,YC.jsx)("input",{id:"attach-file",type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;c(t)},n.readAsDataURL(t)},style:{opacity:0}}),u&&(0,YC.jsxs)("div",{className:"factoryForm__attachment",children:[(0,YC.jsx)("img",{src:u,style:{backgroundImage:u}}),(0,YC.jsxs)("div",{className:"factoryForm__clear",onClick:function(){return c("")},children:[(0,YC.jsx)("span",{children:"Remove"}),(0,YC.jsx)(fn,{icon:mn})]})]})]})},cA=function(e){var n=e.userObj,r=s((0,t.useState)([]),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){GC.collection("nweets").onSnapshot((function(e){var t=e.docs.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JC(Object(n),!0).forEach((function(t){wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:e.id},e.data())}));a(t)}))}),[]),(0,YC.jsxs)("div",{className:"container",children:[(0,YC.jsx)(sA,{userObj:n}),(0,YC.jsx)("div",{style:{marginTop:30},children:i.map((function(e){return(0,YC.jsx)(eA,{nweetObj:e,isOwner:e.creatorId===n.uid},e.id)}))})]})},lA=function(e){var n=e.refreshUser,r=e.userObj,i=se(Y),a=s((0,t.useState)(r.displayName),2),o=a[0],u=a[1],c=function(){var e=we(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r.displayName===o){e.next=5;break}return e.next=4,r.updateProfile({displayName:o});case 4:n();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,YC.jsxs)("div",{className:"container",children:[(0,YC.jsxs)("form",{onSubmit:c,className:"profileForm",children:[(0,YC.jsx)("input",{onChange:function(e){var t=e.target.value;u(t)},type:"text",autoFocus:!0,placeholder:"Display name",value:o,className:"formInput"}),(0,YC.jsx)("input",{type:"submit",value:"\uc774\ub984 \ubcc0\uacbd",className:"formBtn",style:{marginTop:10}})]}),(0,YC.jsx)("span",{className:"formBtn logOutBtn logOut",onClick:function(){KC.signOut(),i.push("/")},children:"\ub85c\uadf8\uc544\uc6c3"})]})},fA=function(e){var t=e.userObj;return(0,YC.jsx)("nav",{children:(0,YC.jsxs)("ul",{style:{display:"flex",justifyContent:"center",marginTop:50},children:[(0,YC.jsx)("li",{children:(0,YC.jsxs)(ve,{to:"/",style:{marginRight:10},children:[(0,YC.jsx)(fn,{icon:gn,color:"#04AAFF",size:"2x"}),(0,YC.jsx)("div",{style:{marginTop:10,marginRight:18},children:"\uac8c\uc2dc\ubb3c"})]})}),(0,YC.jsx)("li",{children:(0,YC.jsxs)(ve,{to:"/profile",style:{marginLeft:10,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12},children:[(0,YC.jsx)(fn,{icon:kn,color:"#04AAFF",size:"2x"}),(0,YC.jsx)("span",{style:{marginTop:15},children:t.displayName?"".concat(t.displayName,"\uc758 \uacc4\uc815\uc124\uc815"):"Profile"})]})})]})})},hA=function(e){var t=e.refreshUser,n=e.isLoggedIn,r=e.userObj;return(0,YC.jsxs)(ce,{children:[n&&(0,YC.jsx)(fA,{userObj:r}),(0,YC.jsx)(ue,{children:n?(0,YC.jsxs)("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:80,display:"flex",justifyContent:"center"},children:[(0,YC.jsx)(te,{exact:!0,path:"/",children:(0,YC.jsx)(cA,{userObj:r})}),(0,YC.jsx)(te,{exact:!0,path:"/profile",children:(0,YC.jsx)(lA,{userObj:r,refreshUser:t})})]}):(0,YC.jsx)(YC.Fragment,{children:(0,YC.jsx)(te,{exact:!0,path:"/",children:(0,YC.jsx)(XC,{})})})})]})};var dA=function(){var e=s((0,t.useState)(!1),2),n=e[0],r=e[1],i=s((0,t.useState)(null),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){KC.onAuthStateChanged((function(e){o(e?{displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)}}:null),r(!0)}))}),[]),(0,YC.jsx)(YC.Fragment,{children:n?(0,YC.jsx)(hA,{refreshUser:function(){var e=KC.currentUser;o({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)}})},isLoggedIn:Boolean(a),userObj:a}):"Initializing..."})};r.createRoot(document.getElementById("root")).render((0,YC.jsx)(t.StrictMode,{children:(0,YC.jsx)(dA,{})}))}()}();
//# sourceMappingURL=main.29ec4bee.js.map